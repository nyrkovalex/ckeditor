!function(){!function(){window.CKEDITOR&&window.CKEDITOR.dom||(window.CKEDITOR||(window.CKEDITOR=function(){var e=/(^|.*[\\\/])ckeditor\.js(?:\?.*|;.*)?$/i,t={timestamp:"K9SD",version:"4.15.0 DEV",revision:"a8679ee1e",rnd:Math.floor(900*Math.random())+100,_:{pending:[],basePathSrcPattern:e},status:"unloaded",basePath:function(){var t=window.CKEDITOR_BASEPATH||"";if(!t)for(var n=document.getElementsByTagName("script"),r=0;r<n.length;r++){var i=n[r].src.match(e);if(i){t=i[1];break}}if(-1==t.indexOf(":/")&&"//"!=t.slice(0,2)&&(t=0===t.indexOf("/")?location.href.match(/^.*?:\/\/[^\/]*/)[0]+t:location.href.match(/^[^\?]*\/(?:)/)[0]+t),!t)throw'The CKEditor installation path could not be automatically detected. Please set the global variable "CKEDITOR_BASEPATH" before creating editor instances.';return t}(),getUrl:function(e){return-1==e.indexOf(":/")&&0!==e.indexOf("/")&&(e=this.basePath+e),this.timestamp&&"/"!=e.charAt(e.length-1)&&!/[&?]t=/.test(e)&&(e+=(e.indexOf("?")>=0?"&":"?")+"t="+this.timestamp),e},domReady:function(){function e(){try{document.addEventListener?(document.removeEventListener("DOMContentLoaded",e,!1),t()):document.attachEvent&&"complete"===document.readyState&&(document.detachEvent("onreadystatechange",e),t())}catch(n){}}function t(){for(var e;e=n.shift();)e()}var n=[];return function(t){function r(){try{document.documentElement.doScroll("left")}catch(t){return void setTimeout(r,1)}e()}if(n.push(t),"complete"===document.readyState&&setTimeout(e,1),1==n.length)if(document.addEventListener)document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1);else if(document.attachEvent){document.attachEvent("onreadystatechange",e),window.attachEvent("onload",e);var i=!1;try{i=!window.frameElement}catch(o){}document.documentElement.doScroll&&i&&r()}}}()},n=window.CKEDITOR_GETURL;if(n){var r=t.getUrl;t.getUrl=function(e){return n.call(t,e)||r.call(t,e)}}return t}()),CKEDITOR.event||(CKEDITOR.event=function(){},CKEDITOR.event.implementOn=function(e){var t=CKEDITOR.event.prototype;for(var n in t)null==e[n]&&(e[n]=t[n])},CKEDITOR.event.prototype=function(){function e(e){var r=t(this);return r[e]||(r[e]=new n(e))}var t=function(e){var t=e.getPrivate&&e.getPrivate()||e._||(e._={});return t.events||(t.events={})},n=function(e){this.name=e,this.listeners=[]};return n.prototype={getListenerIndex:function(e){for(var t=0,n=this.listeners;t<n.length;t++)if(n[t].fn==e)return t;return-1}},{define:function(t,n){var r=e.call(this,t);CKEDITOR.tools.extend(r,n,!0)},on:function(t,n,r,i,o){function a(e,o,a,l){var c={name:t,sender:this,editor:e,data:o,listenerData:i,stop:a,cancel:l,removeListener:s},u=n.call(r,c);return u===!1?!1:c.data}function s(){u.removeListener(t,n)}var l=e.call(this,t);if(l.getListenerIndex(n)<0){var c=l.listeners;r||(r=this),isNaN(o)&&(o=10);var u=this;a.fn=n,a.priority=o;for(var d=c.length-1;d>=0;d--)if(c[d].priority<=o)return c.splice(d+1,0,a),{removeListener:s};c.unshift(a)}return{removeListener:s}},once:function(){var e=Array.prototype.slice.call(arguments),t=e[1];return e[1]=function(e){return e.removeListener(),t.apply(this,arguments)},this.on.apply(this,e)},capture:function(){CKEDITOR.event.useCapture=1;var e=this.on.apply(this,arguments);return CKEDITOR.event.useCapture=0,e},fire:function(){var e=0,n=function(){e=1},r=0,i=function(){r=1};return function(o,a,s){var l=t(this)[o],c=e,u=r;if(e=r=0,l){var d=l.listeners;if(d.length){d=d.slice(0);for(var E,f=0;f<d.length;f++){if(l.errorProof)try{E=d[f].call(this,s,a,n,i)}catch(h){}else E=d[f].call(this,s,a,n,i);if(E===!1?r=1:"undefined"!=typeof E&&(a=E),e||r)break}}}var m=r?!1:"undefined"==typeof a?!0:a;return e=c,r=u,m}}(),fireOnce:function(e,n,r){var i=this.fire(e,n,r);return delete t(this)[e],i},removeListener:function(e,n){var r=t(this)[e];if(r){var i=r.getListenerIndex(n);i>=0&&r.listeners.splice(i,1)}},removeAllListeners:function(){var e=t(this);for(var n in e)delete e[n]},hasListeners:function(e){var n=t(this)[e];return n&&n.listeners.length>0}}}()),CKEDITOR.editor||(CKEDITOR.editor=function(){CKEDITOR._.pending.push([this,arguments]),CKEDITOR.event.call(this)},CKEDITOR.editor.prototype.fire=function(e,t){return e in{instanceReady:1,loaded:1}&&(this[e]=!0),CKEDITOR.event.prototype.fire.call(this,e,t,this)},CKEDITOR.editor.prototype.fireOnce=function(e,t){return e in{instanceReady:1,loaded:1}&&(this[e]=!0),CKEDITOR.event.prototype.fireOnce.call(this,e,t,this)},CKEDITOR.event.implementOn(CKEDITOR.editor.prototype)),CKEDITOR.env||(CKEDITOR.env=function(){var e=navigator.userAgent.toLowerCase(),t=e.match(/edge[ \/](\d+.?\d*)/),n=e.indexOf("trident/")>-1,r=!(!t&&!n),i={ie:r,edge:!!t,webkit:!r&&e.indexOf(" applewebkit/")>-1,air:e.indexOf(" adobeair/")>-1,mac:e.indexOf("macintosh")>-1,quirks:"BackCompat"==document.compatMode&&(!document.documentMode||document.documentMode<10),mobile:e.indexOf("mobile")>-1,iOS:/(ipad|iphone|ipod)/.test(e),isCustomDomain:function(){if(!this.ie)return!1;var e=document.domain,t=window.location.hostname;return e!=t&&e!="["+t+"]"},secure:"https:"==location.protocol};i.gecko="Gecko"==navigator.product&&!i.webkit&&!i.ie,i.webkit&&(e.indexOf("chrome")>-1?i.chrome=!0:i.safari=!0);var o=0;if(i.ie&&(o=t?parseFloat(t[1]):i.quirks||!document.documentMode?parseFloat(e.match(/msie (\d+)/)[1]):document.documentMode,i.ie9Compat=9==o,i.ie8Compat=8==o,i.ie7Compat=7==o,i.ie6Compat=7>o||i.quirks),i.gecko){var a=e.match(/rv:([\d\.]+)/);a&&(a=a[1].split("."),o=1e4*a[0]+100*(a[1]||0)+1*(a[2]||0))}return i.air&&(o=parseFloat(e.match(/ adobeair\/(\d+)/)[1])),i.webkit&&(o=parseFloat(e.match(/ applewebkit\/(\d+)/)[1])),i.version=o,i.isCompatible=!(i.ie&&7>o||i.gecko&&4e4>o||i.webkit&&534>o),i.hidpi=window.devicePixelRatio>=2,i.needsBrFiller=i.gecko||i.webkit||i.ie&&o>10,i.needsNbspFiller=i.ie&&11>o,i.cssClass="cke_browser_"+(i.ie?"ie":i.gecko?"gecko":i.webkit?"webkit":"unknown"),i.quirks&&(i.cssClass+=" cke_browser_quirks"),i.ie&&(i.cssClass+=" cke_browser_ie"+(i.quirks?"6 cke_browser_iequirks":i.version)),i.air&&(i.cssClass+=" cke_browser_air"),i.iOS&&(i.cssClass+=" cke_browser_ios"),i.hidpi&&(i.cssClass+=" cke_hidpi"),i}()),"unloaded"==CKEDITOR.status&&!function(){CKEDITOR.event.implementOn(CKEDITOR),CKEDITOR.loadFullCore=function(){if("basic_ready"!=CKEDITOR.status)return void(CKEDITOR.loadFullCore._load=1);delete CKEDITOR.loadFullCore;var e=document.createElement("script");e.type="text/javascript",e.src=CKEDITOR.basePath+"ckeditor.js",document.getElementsByTagName("head")[0].appendChild(e)},CKEDITOR.loadFullCoreTimeout=0,CKEDITOR.add=function(e){var t=this._.pending||(this._.pending=[]);t.push(e)},function(){var e=function(){var e=CKEDITOR.loadFullCore,t=CKEDITOR.loadFullCoreTimeout;e&&(CKEDITOR.status="basic_ready",e&&e._load?e():t&&setTimeout(function(){CKEDITOR.loadFullCore&&CKEDITOR.loadFullCore()},1e3*t))};CKEDITOR.domReady(e)}(),CKEDITOR.status="basic_loaded"}(),CKEDITOR.VERBOSITY_WARN=1,CKEDITOR.VERBOSITY_ERROR=2,CKEDITOR.verbosity=CKEDITOR.VERBOSITY_WARN|CKEDITOR.VERBOSITY_ERROR,CKEDITOR.warn=function(e,t){CKEDITOR.verbosity&CKEDITOR.VERBOSITY_WARN&&CKEDITOR.fire("log",{type:"warn",errorCode:e,additionalData:t})},CKEDITOR.error=function(e,t){CKEDITOR.verbosity&CKEDITOR.VERBOSITY_ERROR&&CKEDITOR.fire("log",{type:"error",errorCode:e,additionalData:t})},CKEDITOR.on("log",function(e){if(window.console&&window.console.log){var t=console[e.data.type]?e.data.type:"log",n=e.data.errorCode,r=e.data.additionalData,i="[CKEDITOR] ",o="Error code: ";r?console[t](i+o+n+".",r):console[t](i+o+n+"."),console[t](i+"For more information about this error go to https://ckeditor.com/docs/ckeditor4/latest/guide/dev_errors.html#"+n)}},null,null,999),CKEDITOR.dom={},function(){function e(e){var t=[],n="";if(window.crypto&&window.crypto.getRandomValues)t=new Uint8Array(e),window.crypto.getRandomValues(t);else for(var r=0;e>r;r++)t.push(Math.floor(256*Math.random()));for(var i=0;i<t.length;i++){var o=c.charAt(t[i]%c.length);n+=Math.random()>.5?o.toUpperCase():o}return n}function t(e,t,n){this._minInterval=e,this._context=n,this._scheduledTimer=0,this._lastOutput=0,this._output=CKEDITOR.tools.bind(t,n||{});var r=this;this.input=function(){function e(){r._lastOutput=(new Date).getTime(),r._scheduledTimer=0,r._call()}if(!r._scheduledTimer||r._reschedule()!==!1){var t=(new Date).getTime()-r._lastOutput;t<r._minInterval?r._scheduledTimer=setTimeout(e,r._minInterval-t):e()}}}function n(e,n,r){t.call(this,e,n,r),this._args=[];var i=this;this.input=CKEDITOR.tools.override(this.input,function(e){return function(){i._args=Array.prototype.slice.call(arguments),e.call(this)}})}var r=[],i=CKEDITOR.env.gecko?"-moz-":CKEDITOR.env.webkit?"-webkit-":CKEDITOR.env.ie?"-ms-":"",o=/&/g,a=/>/g,s=/</g,l=/"/g,c="abcdefghijklmnopqrstuvwxyz0123456789",u="ckCsrfToken",d=40,E=/&(lt|gt|amp|quot|nbsp|shy|#\d{1,5});/g,f={lt:"<",gt:">",amp:"&",quot:'"',nbsp:" ",shy:"­"},h=function(e,t){return"#"==t[0]?String.fromCharCode(parseInt(t.slice(1),10)):f[t]};CKEDITOR.on("reset",function(){r=[]}),CKEDITOR.tools={arrayCompare:function(e,t){if(!e&&!t)return!0;if(!e||!t||e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!=t[n])return!1;return!0},getIndex:function(e,t){for(var n=0;n<e.length;++n)if(t(e[n]))return n;return-1},clone:function(e){var t;if(e&&e instanceof Array){t=[];for(var n=0;n<e.length;n++)t[n]=CKEDITOR.tools.clone(e[n]);return t}if(null===e||"object"!=typeof e||e instanceof String||e instanceof Number||e instanceof Boolean||e instanceof Date||e instanceof RegExp)return e;if(e.nodeType||e.window===e)return e;t=new e.constructor;for(var r in e){var i=e[r];t[r]=CKEDITOR.tools.clone(i)}return t},capitalize:function(e,t){return e.charAt(0).toUpperCase()+(t?e.slice(1):e.slice(1).toLowerCase())},extend:function(e){var t,n,r=arguments.length;"boolean"==typeof(t=arguments[r-1])?r--:"boolean"==typeof(t=arguments[r-2])&&(n=arguments[r-1],r-=2);for(var i=1;r>i;i++){var o=arguments[i]||{};CKEDITOR.tools.array.forEach(CKEDITOR.tools.object.keys(o),function(r){(t===!0||null==e[r])&&(!n||r in n)&&(e[r]=o[r])})}return e},prototypedCopy:function(e){var t=function(){};return t.prototype=e,new t},copy:function(e){var t,n={};for(t in e)n[t]=e[t];return n},isArray:function(e){return"[object Array]"==Object.prototype.toString.call(e)},isEmpty:function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},cssVendorPrefix:function(e,t,n){if(n)return i+e+":"+t+";"+e+":"+t;var r={};return r[e]=t,r[i+e]=t,r},cssStyleToDomStyle:function(){var e=document.createElement("div").style,t="undefined"!=typeof e.cssFloat?"cssFloat":"undefined"!=typeof e.styleFloat?"styleFloat":"float";return function(e){return"float"==e?t:e.replace(/-./g,function(e){return e.substr(1).toUpperCase()})}}(),buildStyleHtml:function(e){e=[].concat(e);for(var t,n=[],r=0;r<e.length;r++)(t=e[r])&&n.push(/@import|[{}]/.test(t)?"<style>"+t+"</style>":'<link type="text/css" rel=stylesheet href="'+t+'">');return n.join("")},htmlEncode:function(e){return void 0===e||null===e?"":String(e).replace(o,"&amp;").replace(a,"&gt;").replace(s,"&lt;")},htmlDecode:function(e){return e.replace(E,h)},htmlEncodeAttr:function(e){return CKEDITOR.tools.htmlEncode(e).replace(l,"&quot;")},htmlDecodeAttr:function(e){return CKEDITOR.tools.htmlDecode(e)},transformPlainTextToHtml:function(e,t){var n=t==CKEDITOR.ENTER_BR,r=this.htmlEncode(e.replace(/\r\n/g,"\n"));r=r.replace(/\t/g,"&nbsp;&nbsp; &nbsp;");var i=t==CKEDITOR.ENTER_P?"p":"div";if(!n){var o=/\n{2}/g;if(o.test(r)){var a="<"+i+">",s="</"+i+">";r=a+r.replace(o,function(){return s+a})+s}}return r=r.replace(/\n/g,"<br>"),n||(r=r.replace(new RegExp("<br>(?=</"+i+">)"),function(e){return CKEDITOR.tools.repeat(e,2)})),r=r.replace(/^ | $/g,"&nbsp;"),r=r.replace(/(>|\s) /g,function(e,t){return t+"&nbsp;"}).replace(/ (?=<)/g,"&nbsp;")},getNextNumber:function(){var e=0;return function(){return++e}}(),getNextId:function(){return"cke_"+this.getNextNumber()},getUniqueId:function(){for(var e="e",t=0;8>t;t++)e+=Math.floor(65536*(1+Math.random())).toString(16).substring(1);return e},override:function(e,t){var n=t(e);return n.prototype=e.prototype,n},setTimeout:function(e,t,n,r,i){return i||(i=window),n||(n=i),i.setTimeout(function(){r?e.apply(n,[].concat(r)):e.apply(n)},t||0)},throttle:function(e,t,n){return new this.buffers.throttle(e,t,n)},trim:function(){var e=/(?:^[ \t\n\r]+)|(?:[ \t\n\r]+$)/g;return function(t){return t.replace(e,"")}}(),ltrim:function(){var e=/^[ \t\n\r]+/g;return function(t){return t.replace(e,"")}}(),rtrim:function(){var e=/[ \t\n\r]+$/g;return function(t){return t.replace(e,"")}}(),indexOf:function(e,t){if("function"==typeof t){for(var n=0,r=e.length;r>n;n++)if(t(e[n]))return n}else{if(e.indexOf)return e.indexOf(t);for(n=0,r=e.length;r>n;n++)if(e[n]===t)return n}return-1},search:function(e,t){var n=CKEDITOR.tools.indexOf(e,t);return n>=0?e[n]:null},bind:function(e,t){var n=Array.prototype.slice.call(arguments,2);return function(){return e.apply(t,n.concat(Array.prototype.slice.call(arguments)))}},createClass:function(e){var t=e.$,n=e.base,r=e.privates||e._,i=e.proto,o=e.statics;if(!t&&(t=function(){n&&this.base.apply(this,arguments)}),r){var a=t;t=function(){var e=this._||(this._={});for(var t in r){var n=r[t];e[t]="function"==typeof n?CKEDITOR.tools.bind(n,this):n}a.apply(this,arguments)}}return n&&(t.prototype=this.prototypedCopy(n.prototype),t.prototype.constructor=t,t.base=n,t.baseProto=n.prototype,t.prototype.base=function s(){this.base=n.prototype.base,n.apply(this,arguments),this.base=s}),i&&this.extend(t.prototype,i,!0),o&&this.extend(t,o,!0),t},addFunction:function(e,t){return r.push(function(){return e.apply(t||this,arguments)})-1},removeFunction:function(e){r[e]=null},callFunction:function(e){var t=r[e];return t&&t.apply(window,Array.prototype.slice.call(arguments,1))},cssLength:function(){var e,t=/^-?\d+\.?\d*px$/;return function(n){return e=CKEDITOR.tools.trim(n+"")+"px",t.test(e)?e:n||""}}(),convertToPx:function(){var e;return function(t){if(e||(e=CKEDITOR.dom.element.createFromHtml('<div style="position:absolute;left:-9999px;top:-9999px;margin:0px;padding:0px;border:0px;"></div>',CKEDITOR.document),CKEDITOR.document.getBody().append(e)),!/%$/.test(t)){var n,r=parseFloat(t)<0;return r&&(t=t.replace("-","")),e.setStyle("width",t),n=e.$.clientWidth,r?-n:n}return t}}(),repeat:function(e,t){return new Array(t+1).join(e)},tryThese:function(){for(var e,t=0,n=arguments.length;n>t;t++){var r=arguments[t];try{e=r();break}catch(i){}}return e},genKey:function(){return Array.prototype.slice.call(arguments).join("-")},defer:function(e){return function(){var t=arguments,n=this;window.setTimeout(function(){e.apply(n,t)},0)}},normalizeCssText:function(e,t){var n,r=[],i=CKEDITOR.tools.parseCssText(e,!0,t);for(n in i)r.push(n+":"+i[n]);return r.sort(),r.length?r.join(";")+";":""},convertRgbToHex:function(e){return e.replace(/(?:rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\))/gi,function(e,t,n,r){for(var i=[t,n,r],o=0;3>o;o++)i[o]=("0"+parseInt(i[o],10).toString(16)).slice(-2);return"#"+i.join("")})},normalizeHex:function(e){return e.replace(/#(([0-9a-f]{3}){1,2})($|;|\s+)/gi,function(e,t,n,r){var i=t.toLowerCase();if(3==i.length){var o=i.split("");i=[o[0],o[0],o[1],o[1],o[2],o[2]].join("")}return"#"+i+r})},parseCssText:function(e,t,n){var r={};if(n){var i=new CKEDITOR.dom.element("span");e=i.setAttribute("style",e).getAttribute("style")||""}return e&&(e=CKEDITOR.tools.normalizeHex(CKEDITOR.tools.convertRgbToHex(e))),e&&";"!=e?(e.replace(/&quot;/g,'"').replace(/\s*([^:;\s]+)\s*:\s*([^;]+)\s*(?=;|$)/g,function(e,n,i){t&&(n=n.toLowerCase(),"font-family"==n&&(i=i.replace(/\s*,\s*/g,",")),i=CKEDITOR.tools.trim(i)),r[n]=i}),r):r},writeCssText:function(e,t){var n,r=[];for(n in e)r.push(n+":"+e[n]);return t&&r.sort(),r.join("; ")},objectCompare:function(e,t,n){var r;if(!e&&!t)return!0;if(!e||!t)return!1;for(r in e)if(e[r]!=t[r])return!1;if(!n)for(r in t)if(e[r]!=t[r])return!1;return!0},objectKeys:function(e){return CKEDITOR.tools.object.keys(e)},convertArrayToObject:function(e,t){var n={};1==arguments.length&&(t=!0);for(var r=0,i=e.length;i>r;++r)n[e[r]]=t;return n},getStyledSpans:function(e,t){var n=CKEDITOR.env.ie&&8==CKEDITOR.env.version?e.toUpperCase():e,r=t.find("span[style*="+n+"]").toArray();return CKEDITOR.tools.array.filter(r,function(t){return!!t.getStyle(e)})},fixDomain:function(){for(var e;;)try{e=window.parent.document.domain;break}catch(t){if(e=e?e.replace(/.+?(?:\.|$)/,""):document.domain,!e)break;document.domain=e}return!!e},eventsBuffer:function(e,t,n){return new this.buffers.event(e,t,n)},enableHtml5Elements:function(e,t){for(var n,r="abbr,article,aside,audio,bdi,canvas,data,datalist,details,figcaption,figure,footer,header,hgroup,main,mark,meter,nav,output,progress,section,summary,time,video".split(","),i=r.length;i--;)n=e.createElement(r[i]),t&&e.appendChild(n)},checkIfAnyArrayItemMatches:function(e,t){for(var n=0,r=e.length;r>n;++n)if(e[n].match(t))return!0;return!1},checkIfAnyObjectPropertyMatches:function(e,t){for(var n in e)if(n.match(t))return!0;return!1},keystrokeToString:function(e,t){var n=this.keystrokeToArray(e,t);return n.display=n.display.join("+"),n.aria=n.aria.join("+"),n},keystrokeToArray:function(e,t){var n=16711680&t,r=65535&t,i=CKEDITOR.env.mac,o=17,a=224,s=18,l=16,c=[],u=[];return n&CKEDITOR.CTRL&&(c.push(i?"⌘":e[o]),u.push(i?e[a]:e[o])),n&CKEDITOR.ALT&&(c.push(i?"⌥":e[s]),u.push(e[s])),n&CKEDITOR.SHIFT&&(c.push(i?"⇧":e[l]),u.push(e[l])),r&&(e[r]?(c.push(e[r]),u.push(e[r])):(c.push(String.fromCharCode(r)),u.push(String.fromCharCode(r)))),{display:c,aria:u}},transparentImageData:"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==",getCookie:function(e){e=e.toLowerCase();for(var t,n,r=document.cookie.split(";"),i=0;i<r.length;i++)if(t=r[i].split("="),n=decodeURIComponent(CKEDITOR.tools.trim(t[0]).toLowerCase()),n===e)return decodeURIComponent(t.length>1?t[1]:"");return null},setCookie:function(e,t){document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+";path=/"},getCsrfToken:function(){var t=CKEDITOR.tools.getCookie(u);return t&&t.length==d||(t=e(d),CKEDITOR.tools.setCookie(u,t)),t},escapeCss:function(e){return e?window.CSS&&CSS.escape?CSS.escape(e):isNaN(parseInt(e.charAt(0),10))?e:"\\3"+e.charAt(0)+" "+e.substring(1,e.length):""},getMouseButton:function(e){var t=e&&e.data?e.data.$:e;return t?CKEDITOR.tools.normalizeMouseButton(t.button):!1},normalizeMouseButton:function(e,t){if(!CKEDITOR.env.ie||CKEDITOR.env.version>=9&&!CKEDITOR.env.ie6Compat)return e;for(var n=[[CKEDITOR.MOUSE_BUTTON_LEFT,1],[CKEDITOR.MOUSE_BUTTON_MIDDLE,4],[CKEDITOR.MOUSE_BUTTON_RIGHT,2]],r=0;r<n.length;r++){var i=n[r];if(i[0]===e&&t)return i[1];if(!t&&i[1]===e)return i[0]}},convertHexStringToBytes:function(e){var t,n=[],r=e.length/2;for(t=0;r>t;t++)n.push(parseInt(e.substr(2*t,2),16));return n},convertBytesToBase64:function(e){var t,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r="",i=e.length;for(t=0;i>t;t+=3){var o,a=e.slice(t,t+3),s=a.length,l=[];if(3>s)for(o=s;3>o;o++)a[o]=0;for(l[0]=(252&a[0])>>2,l[1]=(3&a[0])<<4|a[1]>>4,l[2]=(15&a[1])<<2|(192&a[2])>>6,l[3]=63&a[2],o=0;4>o;o++)r+=s>=o?n.charAt(l[o]):"="}return r},style:{parse:{_colors:{aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",windowtext:"windowtext",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"},_borderStyle:["none","hidden","dotted","dashed","solid","double","groove","ridge","inset","outset"],_widthRegExp:/^(thin|medium|thick|[\+-]?\d+(\.\d+)?[a-z%]+|[\+-]?0+(\.0+)?|\.\d+[a-z%]+)$/,_rgbaRegExp:/rgba?\(\s*\d+%?\s*,\s*\d+%?\s*,\s*\d+%?\s*(?:,\s*[0-9.]+\s*)?\)/gi,_hslaRegExp:/hsla?\(\s*[0-9.]+\s*,\s*\d+%\s*,\s*\d+%\s*(?:,\s*[0-9.]+\s*)?\)/gi,background:function(e){var t={},n=this._findColor(e);return n.length&&(t.color=n[0],CKEDITOR.tools.array.forEach(n,function(t){e=e.replace(t,"")})),e=CKEDITOR.tools.trim(e),e&&(t.unprocessed=e),t},margin:function(e){return CKEDITOR.tools.style.parse.sideShorthand(e,function(e){return e.match(/(?:\-?[\.\d]+(?:%|\w*)|auto|inherit|initial|unset|revert)/g)||["0px"]})},sideShorthand:function(e,t){function n(e){r.top=i[e[0]],r.right=i[e[1]],r.bottom=i[e[2]],r.left=i[e[3]]}var r={},i=t?t(e):e.split(/\s+/);switch(i.length){case 1:n([0,0,0,0]);break;case 2:n([0,1,0,1]);break;case 3:n([0,1,2,1]);break;case 4:n([0,1,2,3])}return r},border:function(e){return CKEDITOR.tools.style.border.fromCssRule(e)},_findColor:function(e){var t=[],n=CKEDITOR.tools.array;return t=t.concat(e.match(this._rgbaRegExp)||[]),t=t.concat(e.match(this._hslaRegExp)||[]),t=t.concat(n.filter(e.split(/\s+/),function(e){return e.match(/^\#[a-f0-9]{3}(?:[a-f0-9]{3})?$/gi)?!0:e.toLowerCase()in CKEDITOR.tools.style.parse._colors}))}}},array:{filter:function(e,t,n){var r=[];return this.forEach(e,function(i,o){t.call(n,i,o,e)&&r.push(i)}),r},find:function(e,t,n){for(var r=e.length,i=0;r>i;){if(t.call(n,e[i],i,e))return e[i];i++}return void 0},forEach:function(e,t,n){var r,i=e.length;for(r=0;i>r;r++)t.call(n,e[r],r,e)},map:function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(t.call(n,e[i],i,e));return r},reduce:function(e,t,n,r){for(var i=n,o=0;o<e.length;o++)i=t.call(r,i,e[o],o,e);return i},every:function(e,t,n){if(!e.length)return!0;var r=this.filter(e,t,n);return e.length===r.length},some:function(e,t,n){for(var r=0;r<e.length;r++)if(t.call(n,e[r],r,e))return!0;return!1}},object:{DONT_ENUMS:["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],entries:function(e){return CKEDITOR.tools.array.map(CKEDITOR.tools.object.keys(e),function(t){return[t,e[t]]})},values:function(e){return CKEDITOR.tools.array.map(CKEDITOR.tools.object.keys(e),function(t){return e[t]})},keys:function(e){function t(e){var t,n=[];if("string"!=typeof e)return n;for(t=0;t<e.length;t++)n.push(String(t));return n}var n=Object.prototype.hasOwnProperty,r=[],i=CKEDITOR.tools.object.DONT_ENUMS,o=!e||"object"!=typeof e;if(CKEDITOR.env.ie&&CKEDITOR.env.version<9&&o)return t(e);for(var a in e)r.push(a);if(CKEDITOR.env.ie&&CKEDITOR.env.version<9)for(var s=0;s<i.length;s++)n.call(e,i[s])&&r.push(i[s]);return r},findKey:function(e,t){if("object"!=typeof e)return null;var n;for(n in e)if(e[n]===t)return n;return null},merge:function(e,t){var n=CKEDITOR.tools,r=n.clone(e),i=n.clone(t);return n.array.forEach(n.object.keys(i),function(e){r[e]="object"==typeof i[e]&&"object"==typeof r[e]?n.object.merge(r[e],i[e]):i[e]}),r}},getAbsoluteRectPosition:function(e,t){function n(e){if(e){var t=e.getClientRect();r.top+=t.top,r.left+=t.left,"x"in r&&"y"in r&&(r.x+=t.x,r.y+=t.y),n(e.getWindow().getFrame())}}var r=CKEDITOR.tools.copy(t);n(e.getFrame());var i=CKEDITOR.document.getWindow().getScrollPosition();return r.top+=i.y,r.left+=i.x,"x"in r&&"y"in r&&(r.y+=i.y,r.x+=i.x),r.right=r.left+r.width,r.bottom=r.top+r.height,r}},t.prototype={reset:function(){this._lastOutput=0,this._clearTimer()},_reschedule:function(){return!1},_call:function(){this._output()},_clearTimer:function(){this._scheduledTimer&&clearTimeout(this._scheduledTimer),this._scheduledTimer=0}},n.prototype=CKEDITOR.tools.prototypedCopy(t.prototype),n.prototype._reschedule=function(){this._scheduledTimer&&this._clearTimer()},n.prototype._call=function(){this._output.apply(this._context,this._args)},CKEDITOR.tools.buffers={},CKEDITOR.tools.buffers.event=t,CKEDITOR.tools.buffers.throttle=n,CKEDITOR.tools.style.border=CKEDITOR.tools.createClass({$:function(e){e=e||{},this.width=e.width,this.style=e.style,this.color=e.color,this._.normalize()},_:{normalizeMap:{color:[[/windowtext/g,"black"]]},normalize:function(){for(var e in this._.normalizeMap){var t=this[e];t&&(this[e]=CKEDITOR.tools.array.reduce(this._.normalizeMap[e],function(e,t){return e.replace(t[0],t[1])},t))}}},proto:{toString:function(){return CKEDITOR.tools.array.filter([this.width,this.style,this.color],function(e){return!!e}).join(" ")}},statics:{fromCssRule:function(e){var t={},n=e.split(/\s+/g),r=CKEDITOR.tools.style.parse._findColor(e);return r.length&&(t.color=r[0]),CKEDITOR.tools.array.forEach(n,function(e){return t.style||-1===CKEDITOR.tools.indexOf(CKEDITOR.tools.style.parse._borderStyle,e)?!t.width&&CKEDITOR.tools.style.parse._widthRegExp.test(e)?void(t.width=e):void 0:void(t.style=e)}),new CKEDITOR.tools.style.border(t)},splitCssValues:function(e,t){var n=["width","style","color"],r=["top","right","bottom","left"];t=t||{};var i=CKEDITOR.tools.array.reduce(n,function(n,r){var i=e["border-"+r]||t[r];return n[r]=i?CKEDITOR.tools.style.parse.sideShorthand(i):null,n},{});return CKEDITOR.tools.array.reduce(r,function(t,n){var r={};for(var o in i){var a=e["border-"+n+"-"+o];r[o]=a?a:i[o]&&i[o][n]}return t["border-"+n]=new CKEDITOR.tools.style.border(r),t},{})}}}),CKEDITOR.tools.array.indexOf=CKEDITOR.tools.indexOf,CKEDITOR.tools.array.isArray=CKEDITOR.tools.isArray,CKEDITOR.MOUSE_BUTTON_LEFT=0,CKEDITOR.MOUSE_BUTTON_MIDDLE=1,CKEDITOR.MOUSE_BUTTON_RIGHT=2}(),CKEDITOR.dtd=function(){"use strict";var e=CKEDITOR.tools.extend,t=function(e,t){for(var n=CKEDITOR.tools.clone(e),r=1;r<arguments.length;r++){t=arguments[r];for(var i in t)delete n[i]}return n},n={},r={},i={a:1,abbr:1,area:1,audio:1,b:1,bdi:1,bdo:1,br:1,button:1,canvas:1,cite:1,code:1,command:1,datalist:1,del:1,dfn:1,em:1,embed:1,i:1,iframe:1,img:1,input:1,ins:1,kbd:1,keygen:1,label:1,map:1,mark:1,meter:1,noscript:1,object:1,output:1,progress:1,q:1,ruby:1,s:1,samp:1,script:1,select:1,small:1,span:1,strong:1,sub:1,sup:1,textarea:1,time:1,u:1,"var":1,video:1,wbr:1},o={address:1,article:1,aside:1,blockquote:1,details:1,div:1,dl:1,fieldset:1,figure:1,footer:1,form:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,header:1,hgroup:1,hr:1,main:1,menu:1,nav:1,ol:1,p:1,pre:1,section:1,table:1,ul:1},a={command:1,link:1,meta:1,noscript:1,script:1,style:1},s={},l={"#":1},c={acronym:1,applet:1,basefont:1,big:1,font:1,isindex:1,strike:1,style:1,tt:1},u={center:1,dir:1,noframes:1};e(n,i,l,c),e(r,o,n,u);var d={a:t(n,{a:1,button:1}),abbr:n,address:r,area:s,article:r,aside:r,audio:e({source:1,track:1},r),b:n,base:s,bdi:n,bdo:n,blockquote:r,body:r,br:s,button:t(n,{a:1,button:1}),canvas:n,caption:r,cite:n,code:n,col:s,colgroup:{col:1},command:s,datalist:e({option:1},n),dd:r,del:n,details:e({summary:1},r),dfn:n,div:r,dl:{dt:1,dd:1},dt:r,em:n,embed:s,fieldset:e({legend:1},r),figcaption:r,figure:e({figcaption:1},r),footer:r,form:r,h1:n,h2:n,h3:n,h4:n,h5:n,h6:n,head:e({title:1,base:1},a),header:r,hgroup:{h1:1,h2:1,h3:1,h4:1,h5:1,h6:1},hr:s,html:e({head:1,body:1},r,a),i:n,iframe:l,img:s,input:s,ins:n,kbd:n,keygen:s,label:n,legend:n,li:r,link:s,main:r,map:r,mark:n,menu:e({li:1},r),meta:s,meter:t(n,{meter:1}),nav:r,noscript:e({link:1,meta:1,style:1},n),object:e({param:1},n),ol:{li:1},optgroup:{option:1},option:l,output:n,p:n,param:s,pre:n,progress:t(n,{progress:1}),q:n,rp:n,rt:n,ruby:e({rp:1,rt:1},n),s:n,samp:n,script:l,section:r,select:{optgroup:1,option:1},small:n,source:s,span:n,strong:n,style:l,sub:n,summary:e({h1:1,h2:1,h3:1,h4:1,h5:1,h6:1},n),sup:n,table:{caption:1,colgroup:1,thead:1,tfoot:1,tbody:1,tr:1},tbody:{tr:1},td:r,textarea:l,tfoot:{tr:1},th:r,thead:{tr:1},time:t(n,{time:1}),title:l,tr:{th:1,td:1},track:s,u:n,ul:{li:1},"var":n,video:e({source:1,track:1},r),wbr:s,acronym:n,applet:e({param:1},r),basefont:s,big:n,center:r,dialog:s,dir:{li:1},font:n,isindex:s,noframes:r,strike:n,tt:n};return e(d,{$block:e({audio:1,dd:1,dt:1,figcaption:1,li:1,video:1},o,u),$blockLimit:{article:1,aside:1,audio:1,body:1,caption:1,details:1,dir:1,div:1,dl:1,fieldset:1,figcaption:1,figure:1,footer:1,form:1,header:1,hgroup:1,main:1,menu:1,nav:1,ol:1,section:1,table:1,td:1,th:1,tr:1,ul:1,video:1},$cdata:{script:1,style:1},$editable:{address:1,article:1,aside:1,blockquote:1,body:1,details:1,div:1,fieldset:1,figcaption:1,footer:1,form:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,header:1,hgroup:1,main:1,nav:1,p:1,pre:1,section:1},$empty:{area:1,base:1,basefont:1,br:1,col:1,command:1,dialog:1,embed:1,hr:1,img:1,input:1,isindex:1,keygen:1,link:1,meta:1,param:1,source:1,track:1,wbr:1},$inline:n,$list:{dl:1,ol:1,ul:1},$listItem:{dd:1,dt:1,li:1},$nonBodyContent:e({body:1,head:1,html:1},d.head),$nonEditable:{applet:1,audio:1,button:1,embed:1,iframe:1,map:1,object:1,option:1,param:1,script:1,textarea:1,video:1},$object:{applet:1,audio:1,button:1,hr:1,iframe:1,img:1,input:1,object:1,select:1,table:1,textarea:1,video:1},$removeEmpty:{abbr:1,acronym:1,b:1,bdi:1,bdo:1,big:1,cite:1,code:1,del:1,dfn:1,em:1,font:1,i:1,ins:1,label:1,kbd:1,mark:1,meter:1,output:1,q:1,ruby:1,s:1,samp:1,small:1,span:1,strike:1,strong:1,sub:1,sup:1,time:1,tt:1,u:1,"var":1},$tabIndex:{a:1,area:1,button:1,input:1,object:1,select:1,textarea:1},$tableContent:{caption:1,col:1,colgroup:1,tbody:1,td:1,tfoot:1,th:1,thead:1,tr:1},$transparent:{a:1,audio:1,canvas:1,del:1,ins:1,map:1,noscript:1,object:1,video:1},$intermediate:{caption:1,colgroup:1,dd:1,dt:1,figcaption:1,legend:1,li:1,optgroup:1,option:1,rp:1,rt:1,summary:1,tbody:1,td:1,tfoot:1,th:1,thead:1,tr:1}}),d}(),CKEDITOR.dom.event=function(e){this.$=e},CKEDITOR.dom.event.prototype={getKey:function(){return this.$.keyCode||this.$.which},getKeystroke:function(){var e=this.getKey();return(this.$.ctrlKey||this.$.metaKey)&&(e+=CKEDITOR.CTRL),this.$.shiftKey&&(e+=CKEDITOR.SHIFT),this.$.altKey&&(e+=CKEDITOR.ALT),e
},preventDefault:function(e){var t=this.$;t.preventDefault?t.preventDefault():t.returnValue=!1,e&&this.stopPropagation()},stopPropagation:function(){var e=this.$;e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},getTarget:function(){var e=this.$.target||this.$.srcElement;return e?new CKEDITOR.dom.node(e):null},getPhase:function(){return this.$.eventPhase||2},getPageOffset:function(){var e=this.getTarget().getDocument().$,t=this.$.pageX||this.$.clientX+(e.documentElement.scrollLeft||e.body.scrollLeft),n=this.$.pageY||this.$.clientY+(e.documentElement.scrollTop||e.body.scrollTop);return{x:t,y:n}}},CKEDITOR.CTRL=1114112,CKEDITOR.SHIFT=2228224,CKEDITOR.ALT=4456448,CKEDITOR.EVENT_PHASE_CAPTURING=1,CKEDITOR.EVENT_PHASE_AT_TARGET=2,CKEDITOR.EVENT_PHASE_BUBBLING=3,CKEDITOR.dom.domObject=function(e){e&&(this.$=e)},CKEDITOR.dom.domObject.prototype=function(){var e=function(e,t){return function(n){"undefined"!=typeof CKEDITOR&&e.fire(t,new CKEDITOR.dom.event(n))}};return{getPrivate:function(){var e;return(e=this.getCustomData("_"))||this.setCustomData("_",e={}),e},on:function(t){var n=this.getCustomData("_cke_nativeListeners");if(n||(n={},this.setCustomData("_cke_nativeListeners",n)),!n[t]){var r=n[t]=e(this,t);this.$.addEventListener?this.$.addEventListener(t,r,!!CKEDITOR.event.useCapture):this.$.attachEvent&&this.$.attachEvent("on"+t,r)}return CKEDITOR.event.prototype.on.apply(this,arguments)},removeListener:function(e){if(CKEDITOR.event.prototype.removeListener.apply(this,arguments),!this.hasListeners(e)){var t=this.getCustomData("_cke_nativeListeners"),n=t&&t[e];n&&(this.$.removeEventListener?this.$.removeEventListener(e,n,!1):this.$.detachEvent&&this.$.detachEvent("on"+e,n),delete t[e])}},removeAllListeners:function(){try{var e=this.getCustomData("_cke_nativeListeners");for(var t in e){var n=e[t];this.$.detachEvent?this.$.detachEvent("on"+t,n):this.$.removeEventListener&&this.$.removeEventListener(t,n,!1),delete e[t]}}catch(r){if(!CKEDITOR.env.edge||-2146828218!==r.number)throw r}CKEDITOR.event.prototype.removeAllListeners.call(this)}}}(),function(e){var t={};CKEDITOR.on("reset",function(){t={}}),e.equals=function(e){try{return e&&e.$===this.$}catch(t){return!1}},e.setCustomData=function(e,n){var r=this.getUniqueId(),i=t[r]||(t[r]={});return i[e]=n,this},e.getCustomData=function(e){var n=this.$["data-cke-expando"],r=n&&t[n];return r&&e in r?r[e]:null},e.removeCustomData=function(e){var n,r,i=this.$["data-cke-expando"],o=i&&t[i];return o&&(n=o[e],r=e in o,delete o[e]),r?n:null},e.clearCustomData=function(){this.removeAllListeners();var e=this.getUniqueId();e&&delete t[e]},e.getUniqueId=function(){return this.$["data-cke-expando"]||(this.$["data-cke-expando"]=CKEDITOR.tools.getNextNumber())},CKEDITOR.event.implementOn(e)}(CKEDITOR.dom.domObject.prototype),CKEDITOR.dom.node=function(e){if(e){var t=e.nodeType==CKEDITOR.NODE_DOCUMENT?"document":e.nodeType==CKEDITOR.NODE_ELEMENT?"element":e.nodeType==CKEDITOR.NODE_TEXT?"text":e.nodeType==CKEDITOR.NODE_COMMENT?"comment":e.nodeType==CKEDITOR.NODE_DOCUMENT_FRAGMENT?"documentFragment":"domObject";return new CKEDITOR.dom[t](e)}return this},CKEDITOR.dom.node.prototype=new CKEDITOR.dom.domObject,CKEDITOR.NODE_ELEMENT=1,CKEDITOR.NODE_DOCUMENT=9,CKEDITOR.NODE_TEXT=3,CKEDITOR.NODE_COMMENT=8,CKEDITOR.NODE_DOCUMENT_FRAGMENT=11,CKEDITOR.POSITION_IDENTICAL=0,CKEDITOR.POSITION_DISCONNECTED=1,CKEDITOR.POSITION_FOLLOWING=2,CKEDITOR.POSITION_PRECEDING=4,CKEDITOR.POSITION_IS_CONTAINED=8,CKEDITOR.POSITION_CONTAINS=16,CKEDITOR.tools.extend(CKEDITOR.dom.node.prototype,{appendTo:function(e,t){return e.append(this,t),e},clone:function(e,t){function n(r){if(r["data-cke-expando"]&&(r["data-cke-expando"]=!1),(r.nodeType==CKEDITOR.NODE_ELEMENT||r.nodeType==CKEDITOR.NODE_DOCUMENT_FRAGMENT)&&(t||r.nodeType!=CKEDITOR.NODE_ELEMENT||r.removeAttribute("id",!1),e))for(var i=r.childNodes,o=0;o<i.length;o++)n(i[o])}function r(t){if(t.type==CKEDITOR.NODE_ELEMENT||t.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT){if(t.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT){var n=t.getName();":"==n[0]&&t.renameNode(n.substring(1))}if(e)for(var i=0;i<t.getChildCount();i++)r(t.getChild(i))}}var i=this.$.cloneNode(e);n(i);var o=new CKEDITOR.dom.node(i);return CKEDITOR.env.ie&&CKEDITOR.env.version<9&&(this.type==CKEDITOR.NODE_ELEMENT||this.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT)&&r(o),o},hasPrevious:function(){return!!this.$.previousSibling},hasNext:function(){return!!this.$.nextSibling},insertAfter:function(e){return e.$.parentNode.insertBefore(this.$,e.$.nextSibling),e},insertBefore:function(e){return e.$.parentNode.insertBefore(this.$,e.$),e},insertBeforeMe:function(e){return this.$.parentNode.insertBefore(e.$,this.$),e},getAddress:function(e){for(var t=[],n=this.getDocument().$.documentElement,r=this;r&&r!=n;){var i=r.getParent();i&&t.unshift(this.getIndex.call(r,e)),r=i}return t},getDocument:function(){return new CKEDITOR.dom.document(this.$.ownerDocument||this.$.parentNode.ownerDocument)},getIndex:function(e){function t(e,n){var r=n?e.getNext():e.getPrevious();return r&&r.type==CKEDITOR.NODE_TEXT?r.isEmpty()?t(r,n):r:null}var n,r=this,i=-1;if(!this.getParent())return-1;if(e&&r.type==CKEDITOR.NODE_TEXT&&r.isEmpty()){var o=t(r)||t(r,!0);if(!o)return-1}do(!e||r.equals(this)||r.type!=CKEDITOR.NODE_TEXT||!n&&!r.isEmpty())&&(i++,n=r.type==CKEDITOR.NODE_TEXT);while(r=r.getPrevious());return i},getNextSourceNode:function(e,t,n){if(n&&!n.call){var r=n;n=function(e){return!e.equals(r)}}var i,o=!e&&this.getFirst&&this.getFirst();if(!o){if(this.type==CKEDITOR.NODE_ELEMENT&&n&&n(this,!0)===!1)return null;o=this.getNext()}for(;!o&&(i=(i||this).getParent());){if(n&&n(i,!0)===!1)return null;o=i.getNext()}return o?n&&n(o)===!1?null:t&&t!=o.type?o.getNextSourceNode(!1,t,n):o:null},getPreviousSourceNode:function(e,t,n){if(n&&!n.call){var r=n;n=function(e){return!e.equals(r)}}var i,o=!e&&this.getLast&&this.getLast();if(!o){if(this.type==CKEDITOR.NODE_ELEMENT&&n&&n(this,!0)===!1)return null;o=this.getPrevious()}for(;!o&&(i=(i||this).getParent());){if(n&&n(i,!0)===!1)return null;o=i.getPrevious()}return o?n&&n(o)===!1?null:t&&o.type!=t?o.getPreviousSourceNode(!1,t,n):o:null},getPrevious:function(e){var t,n=this.$;do n=n.previousSibling,t=n&&10!=n.nodeType&&new CKEDITOR.dom.node(n);while(t&&e&&!e(t));return t},getNext:function(e){var t,n=this.$;do n=n.nextSibling,t=n&&new CKEDITOR.dom.node(n);while(t&&e&&!e(t));return t},getParent:function(e){var t=this.$.parentNode;return t&&(t.nodeType==CKEDITOR.NODE_ELEMENT||e&&t.nodeType==CKEDITOR.NODE_DOCUMENT_FRAGMENT)?new CKEDITOR.dom.node(t):null},getParents:function(e){var t=this,n=[];do n[e?"push":"unshift"](t);while(t=t.getParent());return n},getCommonAncestor:function(e){if(e.equals(this))return this;if(e.contains&&e.contains(this))return e;var t=this.contains?this:this.getParent();do if(t.contains(e))return t;while(t=t.getParent());return null},getPosition:function(e){var t=this.$,n=e.$;if(t.compareDocumentPosition)return t.compareDocumentPosition(n);if(t==n)return CKEDITOR.POSITION_IDENTICAL;if(this.type==CKEDITOR.NODE_ELEMENT&&e.type==CKEDITOR.NODE_ELEMENT){if(t.contains){if(t.contains(n))return CKEDITOR.POSITION_CONTAINS+CKEDITOR.POSITION_PRECEDING;if(n.contains(t))return CKEDITOR.POSITION_IS_CONTAINED+CKEDITOR.POSITION_FOLLOWING}if("sourceIndex"in t)return t.sourceIndex<0||n.sourceIndex<0?CKEDITOR.POSITION_DISCONNECTED:t.sourceIndex<n.sourceIndex?CKEDITOR.POSITION_PRECEDING:CKEDITOR.POSITION_FOLLOWING}for(var r=this.getAddress(),i=e.getAddress(),o=Math.min(r.length,i.length),a=0;o>a;a++)if(r[a]!=i[a])return r[a]<i[a]?CKEDITOR.POSITION_PRECEDING:CKEDITOR.POSITION_FOLLOWING;return r.length<i.length?CKEDITOR.POSITION_CONTAINS+CKEDITOR.POSITION_PRECEDING:CKEDITOR.POSITION_IS_CONTAINED+CKEDITOR.POSITION_FOLLOWING},getAscendant:function(e,t){var n,r,i=this.$;t||(i=i.parentNode),"function"==typeof e?(r=!0,n=e):(r=!1,n=function(t){var n="string"==typeof t.nodeName?t.nodeName.toLowerCase():"";return"string"==typeof e?n==e:n in e});for(;i;){if(n(r?new CKEDITOR.dom.node(i):i))return new CKEDITOR.dom.node(i);try{i=i.parentNode}catch(o){i=null}}return null},hasAscendant:function(e,t){var n=this.$;for(t||(n=n.parentNode);n;){if(n.nodeName&&n.nodeName.toLowerCase()==e)return!0;n=n.parentNode}return!1},move:function(e,t){e.append(this.remove(),t)},remove:function(e){var t=this.$,n=t.parentNode;if(n){if(e)for(var r;r=t.firstChild;)n.insertBefore(t.removeChild(r),t);n.removeChild(t)}return this},replace:function(e){this.insertBefore(e),e.remove()},trim:function(){this.ltrim(),this.rtrim()},ltrim:function(){for(var e;this.getFirst&&(e=this.getFirst());){if(e.type==CKEDITOR.NODE_TEXT){var t=CKEDITOR.tools.ltrim(e.getText()),n=e.getLength();if(!t){e.remove();continue}t.length<n&&(e.split(n-t.length),this.$.removeChild(this.$.firstChild))}break}},rtrim:function(){for(var e;this.getLast&&(e=this.getLast());){if(e.type==CKEDITOR.NODE_TEXT){var t=CKEDITOR.tools.rtrim(e.getText()),n=e.getLength();if(!t){e.remove();continue}t.length<n&&(e.split(t.length),this.$.lastChild.parentNode.removeChild(this.$.lastChild))}break}CKEDITOR.env.needsBrFiller&&(e=this.$.lastChild,e&&1==e.type&&"br"==e.nodeName.toLowerCase()&&e.parentNode.removeChild(e))},isReadOnly:function(e){var t=this;if(this.type!=CKEDITOR.NODE_ELEMENT&&(t=this.getParent()),CKEDITOR.env.edge&&t&&t.is("textarea","input")&&(e=!0),!e&&t&&"undefined"!=typeof t.$.isContentEditable)return!(t.$.isContentEditable||t.data("cke-editable"));for(;t;){if(t.data("cke-editable"))return!1;if(t.hasAttribute("contenteditable"))return"false"==t.getAttribute("contenteditable");t=t.getParent()}return!0}}),CKEDITOR.dom.window=function(e){CKEDITOR.dom.domObject.call(this,e)},CKEDITOR.dom.window.prototype=new CKEDITOR.dom.domObject,CKEDITOR.tools.extend(CKEDITOR.dom.window.prototype,{focus:function(){this.$.focus()},getViewPaneSize:function(){var e=this.$.document,t="CSS1Compat"==e.compatMode;return{width:(t?e.documentElement.clientWidth:e.body.clientWidth)||0,height:(t?e.documentElement.clientHeight:e.body.clientHeight)||0}},getScrollPosition:function(){var e=this.$;if("pageXOffset"in e)return{x:e.pageXOffset||0,y:e.pageYOffset||0};var t=e.document;return{x:t.documentElement.scrollLeft||t.body.scrollLeft||0,y:t.documentElement.scrollTop||t.body.scrollTop||0}},getFrame:function(){var e=this.$.frameElement;return e?new CKEDITOR.dom.element.get(e):null}}),CKEDITOR.dom.document=function(e){CKEDITOR.dom.domObject.call(this,e)},CKEDITOR.dom.document.prototype=new CKEDITOR.dom.domObject,CKEDITOR.tools.extend(CKEDITOR.dom.document.prototype,{type:CKEDITOR.NODE_DOCUMENT,appendStyleSheet:function(e){if(this.$.createStyleSheet)this.$.createStyleSheet(e);else{var t=new CKEDITOR.dom.element("link");t.setAttributes({rel:"stylesheet",type:"text/css",href:e}),this.getHead().append(t)}},appendStyleText:function(e){if(this.$.createStyleSheet){var t=this.$.createStyleSheet("");t.cssText=e}else{var n=new CKEDITOR.dom.element("style",this);n.append(new CKEDITOR.dom.text(e,this)),this.getHead().append(n)}return t||n.$.sheet},createElement:function(e,t){var n=new CKEDITOR.dom.element(e,this);return t&&(t.attributes&&n.setAttributes(t.attributes),t.styles&&n.setStyles(t.styles)),n},createText:function(e){return new CKEDITOR.dom.text(e,this)},focus:function(){this.getWindow().focus()},getActive:function(){var e;try{e=this.$.activeElement}catch(t){return null}return new CKEDITOR.dom.element(e)},getById:function(e){var t=this.$.getElementById(e);return t?new CKEDITOR.dom.element(t):null},getByAddress:function(e,t){for(var n=this.$.documentElement,r=0;n&&r<e.length;r++){var i=e[r];if(t)for(var o=-1,a=0;a<n.childNodes.length;a++){var s=n.childNodes[a];if((t!==!0||3!=s.nodeType||!s.previousSibling||3!=s.previousSibling.nodeType)&&(o++,o==i)){n=s;break}}else n=n.childNodes[i]}return n?new CKEDITOR.dom.node(n):null},getElementsByTag:function(e,t){return CKEDITOR.env.ie&&document.documentMode<=8||!t||(e=t+":"+e),new CKEDITOR.dom.nodeList(this.$.getElementsByTagName(e))},getHead:function(){var e=this.$.getElementsByTagName("head")[0];return e=e?new CKEDITOR.dom.element(e):this.getDocumentElement().append(new CKEDITOR.dom.element("head"),!0)},getBody:function(){return new CKEDITOR.dom.element(this.$.body)},getDocumentElement:function(){return new CKEDITOR.dom.element(this.$.documentElement)},getWindow:function(){return new CKEDITOR.dom.window(this.$.parentWindow||this.$.defaultView)},write:function(e){this.$.open("text/html","replace"),CKEDITOR.env.ie&&(e=e.replace(/(?:^\s*<!DOCTYPE[^>]*?>)|^/i,'$&\n<script data-cke-temp="1">('+CKEDITOR.tools.fixDomain+")();</script>")),this.$.write(e),this.$.close()},find:function(e){return new CKEDITOR.dom.nodeList(this.$.querySelectorAll(e))},findOne:function(e){var t=this.$.querySelector(e);return t?new CKEDITOR.dom.element(t):null},_getHtml5ShivFrag:function(){var e=this.getCustomData("html5ShivFrag");return e||(e=this.$.createDocumentFragment(),CKEDITOR.tools.enableHtml5Elements(e,!0),this.setCustomData("html5ShivFrag",e)),e}}),CKEDITOR.dom.nodeList=function(e){this.$=e},CKEDITOR.dom.nodeList.prototype={count:function(){return this.$.length},getItem:function(e){if(0>e||e>=this.$.length)return null;var t=this.$[e];return t?new CKEDITOR.dom.node(t):null},toArray:function(){return CKEDITOR.tools.array.map(this.$,function(e){return new CKEDITOR.dom.node(e)})}},CKEDITOR.dom.element=function(e,t){"string"==typeof e&&(e=(t?t.$:document).createElement(e)),CKEDITOR.dom.domObject.call(this,e)},CKEDITOR.dom.element.get=function(e){var t="string"==typeof e?document.getElementById(e)||document.getElementsByName(e)[0]:e;return t&&(t.$?t:new CKEDITOR.dom.element(t))},CKEDITOR.dom.element.prototype=new CKEDITOR.dom.node,CKEDITOR.dom.element.createFromHtml=function(e,t){var n=new CKEDITOR.dom.element("div",t);return n.setHtml(e),n.getFirst().remove()},CKEDITOR.dom.element.setMarker=function(e,t,n,r){var i=t.getCustomData("list_marker_id")||t.setCustomData("list_marker_id",CKEDITOR.tools.getNextNumber()).getCustomData("list_marker_id"),o=t.getCustomData("list_marker_names")||t.setCustomData("list_marker_names",{}).getCustomData("list_marker_names");return e[i]=t,o[n]=1,t.setCustomData(n,r)},CKEDITOR.dom.element.clearAllMarkers=function(e){for(var t in e)CKEDITOR.dom.element.clearMarkers(e,e[t],1)},CKEDITOR.dom.element.clearMarkers=function(e,t,n){var r=t.getCustomData("list_marker_names"),i=t.getCustomData("list_marker_id");for(var o in r)t.removeCustomData(o);t.removeCustomData("list_marker_names"),n&&(t.removeCustomData("list_marker_id"),delete e[i])},function(){function e(e,t){return(" "+e+" ").replace(s," ").indexOf(" "+t+" ")>-1}function t(e){var t=!0;return e.$.id||(e.$.id="cke_tmp_"+CKEDITOR.tools.getNextNumber(),t=!1),function(){t||e.removeAttribute("id")}}function n(e,t){var n=CKEDITOR.tools.escapeCss(e.$.id);return"#"+n+" "+t.split(/,\s*/).join(", #"+n+" ")}function r(e){var t,n=["top","left","right","bottom"];"border"==e&&(t=["color","style","width"]);for(var r=[],i=0;i<n.length;i++)if(t)for(var o=0;o<t.length;o++)r.push([e,n[i],t[o]].join("-"));else r.push([e,n[i]].join("-"));return r}function i(e){for(var t=0,n=0,r=l[e].length;r>n;n++)t+=parseFloat(this.getComputedStyle(l[e][n])||0,10)||0;return t}var o=document.createElement("_").classList,a="undefined"!=typeof o&&null!==String(o.add).match(/\[Native code\]/gi),s=/[\n\t\r]/g;CKEDITOR.tools.extend(CKEDITOR.dom.element.prototype,{type:CKEDITOR.NODE_ELEMENT,addClass:a?function(e){return this.$.classList.add(e),this}:function(t){var n=this.$.className;return n&&(e(n,t)||(n+=" "+t)),this.$.className=n||t,this},removeClass:a?function(e){var t=this.$;return t.classList.remove(e),t.className||t.removeAttribute("class"),this}:function(t){var n=this.getAttribute("class");return n&&e(n,t)&&(n=n.replace(new RegExp("(?:^|\\s+)"+t+"(?=\\s|$)"),"").replace(/^\s+/,""),n?this.setAttribute("class",n):this.removeAttribute("class")),this},hasClass:function(t){return e(this.$.className,t)},append:function(e,t){return"string"==typeof e&&(e=this.getDocument().createElement(e)),t?this.$.insertBefore(e.$,this.$.firstChild):this.$.appendChild(e.$),e},appendHtml:function(e){if(this.$.childNodes.length){var t=new CKEDITOR.dom.element("div",this.getDocument());t.setHtml(e),t.moveChildren(this)}else this.setHtml(e)},appendText:function(e){null!=this.$.text&&CKEDITOR.env.ie&&CKEDITOR.env.version<9?this.$.text+=e:this.append(new CKEDITOR.dom.text(e))},appendBogus:function(e){if(e||CKEDITOR.env.needsBrFiller){for(var t=this.getLast();t&&t.type==CKEDITOR.NODE_TEXT&&!CKEDITOR.tools.rtrim(t.getText());)t=t.getPrevious();if(!t||!t.is||!t.is("br")){var n=this.getDocument().createElement("br");CKEDITOR.env.gecko&&n.setAttribute("type","_moz"),this.append(n)}}},breakParent:function(e,t){var n=new CKEDITOR.dom.range(this.getDocument());n.setStartAfter(this),n.setEndAfter(e);var r,i,o=n.extractContents(!1,t||!1);if(n.insertNode(this.remove()),CKEDITOR.env.ie&&!CKEDITOR.env.edge){for(r=new CKEDITOR.dom.element("div");i=o.getFirst();)i.$.style.backgroundColor&&(i.$.style.backgroundColor=i.$.style.backgroundColor),r.append(i);r.insertAfter(this),r.remove(!0)}else o.insertAfterNode(this)},contains:document.compareDocumentPosition?function(e){return!!(16&this.$.compareDocumentPosition(e.$))}:function(e){var t=this.$;return e.type!=CKEDITOR.NODE_ELEMENT?t.contains(e.getParent().$):t!=e.$&&t.contains(e.$)},focus:function(){function e(){try{this.$.focus()}catch(e){}}return function(t){t?CKEDITOR.tools.setTimeout(e,100,this):e.call(this)}}(),getHtml:function(){var e=this.$.innerHTML;return CKEDITOR.env.ie?e.replace(/<\?[^>]*>/g,""):e},getOuterHtml:function(){if(this.$.outerHTML)return this.$.outerHTML.replace(/<\?[^>]*>/,"");var e=this.$.ownerDocument.createElement("div");return e.appendChild(this.$.cloneNode(!0)),e.innerHTML},getClientRect:function(e){var t=CKEDITOR.tools.extend({},this.$.getBoundingClientRect());return!t.width&&(t.width=t.right-t.left),!t.height&&(t.height=t.bottom-t.top),e?CKEDITOR.tools.getAbsoluteRectPosition(this.getWindow(),t):t},setHtml:CKEDITOR.env.ie&&CKEDITOR.env.version<9?function(e){try{var t=this.$;if(this.getParent())return t.innerHTML=e;var n=this.getDocument()._getHtml5ShivFrag();return n.appendChild(t),t.innerHTML=e,n.removeChild(t),e}catch(r){this.$.innerHTML="";var i=new CKEDITOR.dom.element("body",this.getDocument());i.$.innerHTML=e;for(var o=i.getChildren();o.count();)this.append(o.getItem(0));return e}}:function(e){return this.$.innerHTML=e},setText:function(){var e=document.createElement("p");return e.innerHTML="x",e=e.textContent,function(t){this.$[e?"textContent":"innerText"]=t}}(),getAttribute:function(){var e=function(e){return this.$.getAttribute(e,2)};return CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(t){switch(t){case"class":t="className";break;case"http-equiv":t="httpEquiv";break;case"name":return this.$.name;case"tabindex":var n=e.call(this,t);return 0!==n&&0===this.$.tabIndex&&(n=null),n;case"checked":var r=this.$.attributes.getNamedItem(t),i=r.specified?r.nodeValue:this.$.checked;return i?"checked":null;case"hspace":case"value":return this.$[t];case"style":return this.$.style.cssText;case"contenteditable":case"contentEditable":return this.$.attributes.getNamedItem("contentEditable").specified?this.$.getAttribute("contentEditable"):null}return e.call(this,t)}:e}(),getAttributes:function(e){var t,n={},r=this.$.attributes;for(e=CKEDITOR.tools.isArray(e)?e:[],t=0;t<r.length;t++)-1===CKEDITOR.tools.indexOf(e,r[t].name)&&(n[r[t].name]=r[t].value);return n},getChildren:function(){return new CKEDITOR.dom.nodeList(this.$.childNodes)},getClientSize:function(){return{width:this.$.clientWidth,height:this.$.clientHeight}},getComputedStyle:document.defaultView&&document.defaultView.getComputedStyle?function(e){var t=this.getWindow().$.getComputedStyle(this.$,null);return t?t.getPropertyValue(e):""}:function(e){return this.$.currentStyle[CKEDITOR.tools.cssStyleToDomStyle(e)]},getDtd:function(){var e=CKEDITOR.dtd[this.getName()];return this.getDtd=function(){return e},e},getElementsByTag:CKEDITOR.dom.document.prototype.getElementsByTag,getTabIndex:function(){var e=this.$.tabIndex;return 0!==e||CKEDITOR.dtd.$tabIndex[this.getName()]||0===parseInt(this.getAttribute("tabindex"),10)?e:-1},getText:function(){return this.$.textContent||this.$.innerText||""},getWindow:function(){return this.getDocument().getWindow()},getId:function(){return this.$.id||null},getNameAtt:function(){return this.$.name||null},getName:function(){var e=this.$.nodeName.toLowerCase();if(CKEDITOR.env.ie&&document.documentMode<=8){var t=this.$.scopeName;"HTML"!=t&&(e=t.toLowerCase()+":"+e)}return this.getName=function(){return e},this.getName()},getValue:function(){return this.$.value},getFirst:function(e){var t=this.$.firstChild,n=t&&new CKEDITOR.dom.node(t);return n&&e&&!e(n)&&(n=n.getNext(e)),n},getLast:function(e){var t=this.$.lastChild,n=t&&new CKEDITOR.dom.node(t);return n&&e&&!e(n)&&(n=n.getPrevious(e)),n},getStyle:function(e){return this.$.style[CKEDITOR.tools.cssStyleToDomStyle(e)]},is:function(){var e=this.getName();if("object"==typeof arguments[0])return!!arguments[0][e];for(var t=0;t<arguments.length;t++)if(arguments[t]==e)return!0;return!1},isEditable:function(e){var t=this.getName();if(this.isReadOnly()||"none"==this.getComputedStyle("display")||"hidden"==this.getComputedStyle("visibility")||CKEDITOR.dtd.$nonEditable[t]||CKEDITOR.dtd.$empty[t]||this.is("a")&&(this.data("cke-saved-name")||this.hasAttribute("name"))&&!this.getChildCount())return!1;if(e!==!1){var n=CKEDITOR.dtd[t]||CKEDITOR.dtd.span;return!(!n||!n["#"])}return!0},isIdentical:function(e){var t=this.clone(0,1),n=e.clone(0,1);if(t.removeAttributes(["_moz_dirty","data-cke-expando","data-cke-saved-href","data-cke-saved-name"]),n.removeAttributes(["_moz_dirty","data-cke-expando","data-cke-saved-href","data-cke-saved-name"]),t.$.isEqualNode)return t.$.style.cssText=CKEDITOR.tools.normalizeCssText(t.$.style.cssText),n.$.style.cssText=CKEDITOR.tools.normalizeCssText(n.$.style.cssText),t.$.isEqualNode(n.$);if(t=t.getOuterHtml(),n=n.getOuterHtml(),CKEDITOR.env.ie&&CKEDITOR.env.version<9&&this.is("a")){var r=this.getParent();if(r.type==CKEDITOR.NODE_ELEMENT){var i=r.clone();i.setHtml(t),t=i.getHtml(),i.setHtml(n),n=i.getHtml()}}return t==n},isVisible:function(){var e,t,n=(this.$.offsetHeight||this.$.offsetWidth)&&"hidden"!=this.getComputedStyle("visibility");return n&&CKEDITOR.env.webkit&&(e=this.getWindow(),!e.equals(CKEDITOR.document.getWindow())&&(t=e.$.frameElement)&&(n=new CKEDITOR.dom.element(t).isVisible())),!!n},isEmptyInlineRemoveable:function(){if(!CKEDITOR.dtd.$removeEmpty[this.getName()])return!1;for(var e=this.getChildren(),t=0,n=e.count();n>t;t++){var r=e.getItem(t);if((r.type!=CKEDITOR.NODE_ELEMENT||!r.data("cke-bookmark"))&&(r.type==CKEDITOR.NODE_ELEMENT&&!r.isEmptyInlineRemoveable()||r.type==CKEDITOR.NODE_TEXT&&CKEDITOR.tools.trim(r.getText())))return!1}return!0},hasAttributes:CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(){for(var e=this.$.attributes,t=0;t<e.length;t++){var n=e[t];switch(n.nodeName){case"class":if(this.getAttribute("class"))return!0;case"data-cke-expando":continue;default:if(n.specified)return!0}}return!1}:function(){var e=this.$.attributes,t=e.length,n={"data-cke-expando":1,_moz_dirty:1};return t>0&&(t>2||!n[e[0].nodeName]||2==t&&!n[e[1].nodeName])},hasAttribute:function(){function e(e){var t=this.$.attributes.getNamedItem(e);if("input"==this.getName())switch(e){case"class":return this.$.className.length>0;case"checked":return!!this.$.checked;case"value":var n=this.getAttribute("type");return"checkbox"==n||"radio"==n?"on"!=this.$.value:!!this.$.value}return t?t.specified:!1}return CKEDITOR.env.ie?CKEDITOR.env.version<8?function(t){return"name"==t?!!this.$.name:e.call(this,t)}:e:function(e){return!!this.$.attributes.getNamedItem(e)}}(),hide:function(){this.setStyle("display","none")},moveChildren:function(e,t){var n=this.$;if(e=e.$,n!=e){var r;if(t)for(;r=n.lastChild;)e.insertBefore(n.removeChild(r),e.firstChild);else for(;r=n.firstChild;)e.appendChild(n.removeChild(r))}},mergeSiblings:function(){function e(e,t,n){if(t&&t.type==CKEDITOR.NODE_ELEMENT){for(var r=[];t.data("cke-bookmark")||t.isEmptyInlineRemoveable();)if(r.push(t),t=n?t.getNext():t.getPrevious(),!t||t.type!=CKEDITOR.NODE_ELEMENT)return;if(e.isIdentical(t)){for(var i=n?e.getLast():e.getFirst();r.length;)r.shift().move(e,!n);t.moveChildren(e,!n),t.remove(),i&&i.type==CKEDITOR.NODE_ELEMENT&&i.mergeSiblings()}}}return function(t){(t===!1||CKEDITOR.dtd.$removeEmpty[this.getName()]||this.is("a"))&&(e(this,this.getNext(),!0),e(this,this.getPrevious()))}}(),show:function(){this.setStyles({display:"",visibility:""})},setAttribute:function(){var e=function(e,t){return this.$.setAttribute(e,t),this};return CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(t,n){return"class"==t?this.$.className=n:"style"==t?this.$.style.cssText=n:"tabindex"==t?this.$.tabIndex=n:"checked"==t?this.$.checked=n:"contenteditable"==t?e.call(this,"contentEditable",n):e.apply(this,arguments),this}:CKEDITOR.env.ie8Compat&&CKEDITOR.env.secure?function(t,n){if("src"==t&&n.match(/^http:\/\//))try{e.apply(this,arguments)}catch(r){}else e.apply(this,arguments);return this}:e}(),setAttributes:function(e){for(var t in e)this.setAttribute(t,e[t]);return this},setValue:function(e){return this.$.value=e,this},removeAttribute:function(){var e=function(e){this.$.removeAttribute(e)};return CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(t){"class"==t?t="className":"tabindex"==t?t="tabIndex":"contenteditable"==t&&(t="contentEditable"),e.call(this,t)}:e}(),removeAttributes:function(e){if(CKEDITOR.tools.isArray(e))for(var t=0;t<e.length;t++)this.removeAttribute(e[t]);else{e=e||this.getAttributes();for(var n in e)e.hasOwnProperty(n)&&this.removeAttribute(n)}},removeStyle:function(e){var t=this.$.style;if(t.removeProperty||"border"!=e&&"margin"!=e&&"padding"!=e)t.removeProperty?t.removeProperty(e):t.removeAttribute(CKEDITOR.tools.cssStyleToDomStyle(e)),this.$.style.cssText||this.removeAttribute("style");else for(var n=r(e),i=0;i<n.length;i++)this.removeStyle(n[i])},setStyle:function(e,t){return this.$.style[CKEDITOR.tools.cssStyleToDomStyle(e)]=t,this},setStyles:function(e){for(var t in e)this.setStyle(t,e[t]);return this},setOpacity:function(e){CKEDITOR.env.ie&&CKEDITOR.env.version<9?(e=Math.round(100*e),this.setStyle("filter",e>=100?"":"progid:DXImageTransform.Microsoft.Alpha(opacity="+e+")")):this.setStyle("opacity",e)},unselectable:function(){if(this.setStyles(CKEDITOR.tools.cssVendorPrefix("user-select","none")),CKEDITOR.env.ie){this.setAttribute("unselectable","on");for(var e,t=this.getElementsByTag("*"),n=0,r=t.count();r>n;n++)e=t.getItem(n),e.setAttribute("unselectable","on")}},getPositionedAncestor:function(){for(var e=this;"html"!=e.getName();){if("static"!=e.getComputedStyle("position"))return e;e=e.getParent()}return null},getDocumentPosition:function(e){var t=0,n=0,r=this.getDocument(),i=r.getBody(),o="BackCompat"==r.$.compatMode;if(document.documentElement.getBoundingClientRect&&(CKEDITOR.env.ie?8!==CKEDITOR.env.version:!0)){var a=this.$.getBoundingClientRect(),s=r.$,l=s.documentElement,c=l.clientTop||i.$.clientTop||0,u=l.clientLeft||i.$.clientLeft||0,d=!0;if(CKEDITOR.env.ie){var E=r.getDocumentElement().contains(this),f=r.getBody().contains(this);d=o&&f||!o&&E}if(d){var h,m;if(CKEDITOR.env.webkit||CKEDITOR.env.ie&&CKEDITOR.env.version>=12)h=i.$.scrollLeft||l.scrollLeft,m=i.$.scrollTop||l.scrollTop;else{var T=o?i.$:l;h=T.scrollLeft,m=T.scrollTop}t=a.left+h-u,n=a.top+m-c}}else for(var C,O=this,g=null;O&&"body"!=O.getName()&&"html"!=O.getName();){t+=O.$.offsetLeft-O.$.scrollLeft,n+=O.$.offsetTop-O.$.scrollTop,O.equals(this)||(t+=O.$.clientLeft||0,n+=O.$.clientTop||0);for(var p=g;p&&!p.equals(O);)t-=p.$.scrollLeft,n-=p.$.scrollTop,p=p.getParent();g=O,O=(C=O.$.offsetParent)?new CKEDITOR.dom.element(C):null}if(e){var D=this.getWindow(),I=e.getWindow();if(!D.equals(I)&&D.$.frameElement){var R=new CKEDITOR.dom.element(D.$.frameElement).getDocumentPosition(e);t+=R.x,n+=R.y}}return document.documentElement.getBoundingClientRect||CKEDITOR.env.gecko&&!o&&(t+=this.$.clientLeft?1:0,n+=this.$.clientTop?1:0),{x:t,y:n}},scrollIntoView:function(e){var t=this.getParent();if(t)do{var n=t.$.clientWidth&&t.$.clientWidth<t.$.scrollWidth||t.$.clientHeight&&t.$.clientHeight<t.$.scrollHeight;if(n&&!t.is("body")&&this.scrollIntoParent(t,e,1),t.is("html")){var r=t.getWindow();try{var i=r.$.frameElement;i&&(t=new CKEDITOR.dom.element(i))}catch(o){}}}while(t=t.getParent())},scrollIntoParent:function(e,t,n){function r(t,n){/body|html/.test(e.getName())?e.getWindow().$.scrollBy(t,n):(e.$.scrollLeft+=t,e.$.scrollTop+=n)}function i(e,t){var n={x:0,y:0};if(!e.is(s?"body":"html")){var r=e.$.getBoundingClientRect();n.x=r.left,n.y=r.top}var o=e.getWindow();if(!o.equals(t)){var a=i(CKEDITOR.dom.element.get(o.$.frameElement),t);n.x+=a.x,n.y+=a.y}return n}function o(e,t){return parseInt(e.getComputedStyle("margin-"+t)||0,10)||0}!e&&(e=this.getWindow());var a=e.getDocument(),s="BackCompat"==a.$.compatMode;if(e instanceof CKEDITOR.dom.window&&(e=s?a.getBody():a.getDocumentElement()),CKEDITOR.env.webkit){var l=this.getEditor(!1);l&&(l._.previousScrollTop=null)}var c,u,d=e.getWindow(),E=i(this,d),f=i(e,d),h=this.$.offsetHeight,m=this.$.offsetWidth,T=e.$.clientHeight,C=e.$.clientWidth;c={x:E.x-o(this,"left")-f.x||0,y:E.y-o(this,"top")-f.y||0},u={x:E.x+m+o(this,"right")-(f.x+C)||0,y:E.y+h+o(this,"bottom")-(f.y+T)||0},(c.y<0||u.y>0)&&r(0,t===!0?c.y:t===!1?u.y:c.y<0?c.y:u.y),n&&(c.x<0||u.x>0)&&r(c.x<0?c.x:u.x,0)},setState:function(e,t,n){switch(t=t||"cke",e){case CKEDITOR.TRISTATE_ON:this.addClass(t+"_on"),this.removeClass(t+"_off"),this.removeClass(t+"_disabled"),n&&this.setAttribute("aria-pressed",!0),n&&this.removeAttribute("aria-disabled");break;case CKEDITOR.TRISTATE_DISABLED:this.addClass(t+"_disabled"),this.removeClass(t+"_off"),this.removeClass(t+"_on"),n&&this.setAttribute("aria-disabled",!0),n&&this.removeAttribute("aria-pressed");break;default:this.addClass(t+"_off"),this.removeClass(t+"_on"),this.removeClass(t+"_disabled"),n&&this.removeAttribute("aria-pressed"),n&&this.removeAttribute("aria-disabled")}},getFrameDocument:function(){var e=this.$;try{e.contentWindow.document}catch(t){e.src=e.src}return e&&new CKEDITOR.dom.document(e.contentWindow.document)},copyAttributes:function(e,t){var n=this.$.attributes;t=t||{};for(var r=0;r<n.length;r++){var i,o=n[r],a=o.nodeName.toLowerCase();a in t||("checked"==a&&(i=this.getAttribute(a))?e.setAttribute(a,i):(!CKEDITOR.env.ie||this.hasAttribute(a))&&(i=this.getAttribute(a),null===i&&(i=o.nodeValue),e.setAttribute(a,i)))}""!==this.$.style.cssText&&(e.$.style.cssText=this.$.style.cssText)},renameNode:function(e){if(this.getName()!=e){var t=this.getDocument(),n=new CKEDITOR.dom.element(e,t);this.copyAttributes(n),this.moveChildren(n),this.getParent(!0)&&this.$.parentNode.replaceChild(n.$,this.$),n.$["data-cke-expando"]=this.$["data-cke-expando"],this.$=n.$,delete this.getName}},getChild:function(){function e(e,t){var n=e.childNodes;return t>=0&&t<n.length?n[t]:void 0}return function(t){var n=this.$;if(t.slice)for(t=t.slice();t.length>0&&n;)n=e(n,t.shift());else n=e(n,t);return n?new CKEDITOR.dom.node(n):null}}(),getChildCount:function(){return this.$.childNodes.length},disableContextMenu:function(){function e(e){return e.type==CKEDITOR.NODE_ELEMENT&&e.hasClass("cke_enable_context_menu")}this.on("contextmenu",function(t){t.data.getTarget().getAscendant(e,!0)||t.data.preventDefault()})},getDirection:function(e){return e?this.getComputedStyle("direction")||this.getDirection()||this.getParent()&&this.getParent().getDirection(1)||this.getDocument().$.dir||"ltr":this.getStyle("direction")||this.getAttribute("dir")},data:function(e,t){return e="data-"+e,void 0===t?this.getAttribute(e):(t===!1?this.removeAttribute(e):this.setAttribute(e,t),null)},getEditor:function(e){var t,n,r,i=CKEDITOR.instances;
e=e||void 0===e;for(t in i){if(n=i[t],n.element.equals(this)&&n.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO)return n;if(!e&&(r=n.editable(),r&&(r.equals(this)||r.contains(this))))return n}return null},find:function(e){var r=t(this),i=new CKEDITOR.dom.nodeList(this.$.querySelectorAll(n(this,e)));return r(),i},findOne:function(e){var r=t(this),i=this.$.querySelector(n(this,e));return r(),i?new CKEDITOR.dom.element(i):null},forEach:function(e,t,n){if(!(n||t&&this.type!=t))var r=e(this);if(r!==!1)for(var i,o=this.getChildren(),a=0;a<o.count();a++)i=o.getItem(a),i.type==CKEDITOR.NODE_ELEMENT?i.forEach(e,t):t&&i.type!=t||e(i)},fireEventHandler:function(e,t){var n="on"+e,r=this.$;if(CKEDITOR.env.ie&&CKEDITOR.env.version<9){var i=r.ownerDocument.createEventObject();for(var o in t)i[o]=t[o];r.fireEvent(n,i)}else r[r[e]?e:n](t)},isDetached:function(){var e=this.getDocument(),t=e.getDocumentElement();return t.equals(this)||t.contains(this)?!CKEDITOR.env.ie||CKEDITOR.env.version>8&&!CKEDITOR.env.quirks?!e.$.defaultView:!1:!0}});var l={width:["border-left-width","border-right-width","padding-left","padding-right"],height:["border-top-width","border-bottom-width","padding-top","padding-bottom"]};CKEDITOR.dom.element.prototype.setSize=function(e,t,n){"number"==typeof t&&(!n||CKEDITOR.env.ie&&CKEDITOR.env.quirks||(t-=i.call(this,e)),this.setStyle(e,t+"px"))},CKEDITOR.dom.element.prototype.getSize=function(e,t){var n=Math.max(this.$["offset"+CKEDITOR.tools.capitalize(e)],this.$["client"+CKEDITOR.tools.capitalize(e)])||0;return t&&(n-=i.call(this,e)),n}}(),CKEDITOR.dom.documentFragment=function(e){e=e||CKEDITOR.document,this.$=e.type==CKEDITOR.NODE_DOCUMENT?e.$.createDocumentFragment():e},CKEDITOR.tools.extend(CKEDITOR.dom.documentFragment.prototype,CKEDITOR.dom.element.prototype,{type:CKEDITOR.NODE_DOCUMENT_FRAGMENT,insertAfterNode:function(e){e=e.$,e.parentNode.insertBefore(this.$,e.nextSibling)},getHtml:function(){var e=new CKEDITOR.dom.element("div");return this.clone(1,1).appendTo(e),e.getHtml().replace(/\s*data-cke-expando=".*?"/g,"")}},!0,{append:1,appendBogus:1,clone:1,getFirst:1,getHtml:1,getLast:1,getParent:1,getNext:1,getPrevious:1,appendTo:1,moveChildren:1,insertBefore:1,insertAfterNode:1,replace:1,trim:1,type:1,ltrim:1,rtrim:1,getDocument:1,getChildCount:1,getChild:1,getChildren:1}),CKEDITOR.tools.extend(CKEDITOR.dom.documentFragment.prototype,CKEDITOR.dom.document.prototype,!0,{find:1,findOne:1}),function(){function e(e,t){var n=this.range;if(this._.end)return null;if(!this._.start){if(this._.start=1,n.collapsed)return this.end(),null;n.optimize()}var r,i,o=n.startContainer,a=n.endContainer,s=n.startOffset,l=n.endOffset,c=this.guard,u=this.type,d=e?"getPreviousSourceNode":"getNextSourceNode";if(!e&&!this._.guardLTR){var E=a.type==CKEDITOR.NODE_ELEMENT?a:a.getParent(),f=a.type==CKEDITOR.NODE_ELEMENT?a.getChild(l):a.getNext();this._.guardLTR=function(e,t){return!(t&&E.equals(e)||f&&e.equals(f)||e.type==CKEDITOR.NODE_ELEMENT&&t&&e.equals(n.root))}}if(e&&!this._.guardRTL){var h=o.type==CKEDITOR.NODE_ELEMENT?o:o.getParent(),m=o.type==CKEDITOR.NODE_ELEMENT?s?o.getChild(s-1):null:o.getPrevious();this._.guardRTL=function(e,t){return!(t&&h.equals(e)||m&&e.equals(m)||e.type==CKEDITOR.NODE_ELEMENT&&t&&e.equals(n.root))}}var T=e?this._.guardRTL:this._.guardLTR;for(i=c?function(e,t){return T(e,t)===!1?!1:c(e,t)}:T,this.current?r=this.current[d](!1,u,i):(e?(r=a,r.type==CKEDITOR.NODE_ELEMENT&&(r=l>0?r.getChild(l-1):i(r,!0)===!1?null:r.getPreviousSourceNode(!0,u,i))):(r=o,r.type==CKEDITOR.NODE_ELEMENT&&((r=r.getChild(s))||(r=i(o,!0)===!1?null:o.getNextSourceNode(!0,u,i)))),r&&i(r)===!1&&(r=null));r&&!this._.end;){if(this.current=r,this.evaluator&&this.evaluator(r)===!1){if(t&&this.evaluator)return!1}else if(!t)return r;r=r[d](!1,u,i)}return this.end(),this.current=null}function t(t){for(var n,r=null;n=e.call(this,t);)r=n;return r}function n(e){var t,n={};for(t in e)CKEDITOR.dtd[t]["#"]&&(n[t]=1);return n}function r(e){if(d(e))return!1;if(e.type==CKEDITOR.NODE_TEXT)return!0;if(e.type==CKEDITOR.NODE_ELEMENT){if(e.is(CKEDITOR.dtd.$inline)||e.is("hr")||"false"==e.getAttribute("contenteditable"))return!0;if(!CKEDITOR.env.needsBrFiller&&e.is(f)&&E(e))return!0}return!1}CKEDITOR.dom.walker=CKEDITOR.tools.createClass({$:function(e){this.range=e,this._={}},proto:{end:function(){this._.end=1},next:function(){return e.call(this)},previous:function(){return e.call(this,1)},checkForward:function(){return e.call(this,0,1)!==!1},checkBackward:function(){return e.call(this,1,1)!==!1},lastForward:function(){return t.call(this)},lastBackward:function(){return t.call(this,1)},reset:function(){delete this.current,this._={}}}});var i={block:1,"list-item":1,table:1,"table-row-group":1,"table-header-group":1,"table-footer-group":1,"table-row":1,"table-column-group":1,"table-column":1,"table-cell":1,"table-caption":1},o={absolute:1,fixed:1};CKEDITOR.dom.element.prototype.isBlockBoundary=function(e){var t="none"==this.getComputedStyle("float")&&!(this.getComputedStyle("position")in o);return t&&i[this.getComputedStyle("display")]?!0:!!(this.is(CKEDITOR.dtd.$block)||e&&this.is(e))},CKEDITOR.dom.walker.blockBoundary=function(e){return function(t){return!(t.type==CKEDITOR.NODE_ELEMENT&&t.isBlockBoundary(e))}},CKEDITOR.dom.walker.listItemBoundary=function(){return this.blockBoundary({br:1})},CKEDITOR.dom.walker.bookmark=function(e,t){function n(e){return e&&e.getName&&"span"==e.getName()&&e.data("cke-bookmark")}return function(r){var i,o;return i=r&&r.type!=CKEDITOR.NODE_ELEMENT&&(o=r.getParent())&&n(o),i=e?i:i||n(r),!!(t^i)}},CKEDITOR.dom.walker.whitespaces=function(e){return function(t){var n;return t&&t.type==CKEDITOR.NODE_TEXT&&(n=!CKEDITOR.tools.trim(t.getText())||CKEDITOR.env.webkit&&t.getText()==CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE),!!(e^n)}},CKEDITOR.dom.walker.invisible=function(e){var t=CKEDITOR.dom.walker.whitespaces(),n=CKEDITOR.env.webkit?1:0;return function(r){var i;return t(r)?i=1:(r.type==CKEDITOR.NODE_TEXT&&(r=r.getParent()),i=r.$.offsetWidth<=n),!!(e^i)}},CKEDITOR.dom.walker.nodeType=function(e,t){return function(n){return!!(t^n.type==e)}},CKEDITOR.dom.walker.bogus=function(e){function t(e){return!s(e)&&!l(e)}return function(n){var r=CKEDITOR.env.needsBrFiller?n.is&&n.is("br"):n.getText&&a.test(n.getText());if(r){var i=n.getParent(),o=n.getNext(t);r=i.isBlockBoundary()&&(!o||o.type==CKEDITOR.NODE_ELEMENT&&o.isBlockBoundary())}return!!(e^r)}},CKEDITOR.dom.walker.temp=function(e){return function(t){t.type!=CKEDITOR.NODE_ELEMENT&&(t=t.getParent());var n=t&&t.hasAttribute("data-cke-temp");return!!(e^n)}};var a=/^[\t\r\n ]*(?:&nbsp;|\xa0)$/,s=CKEDITOR.dom.walker.whitespaces(),l=CKEDITOR.dom.walker.bookmark(),c=CKEDITOR.dom.walker.temp(),u=function(e){return l(e)||s(e)||e.type==CKEDITOR.NODE_ELEMENT&&e.is(CKEDITOR.dtd.$inline)&&!e.is(CKEDITOR.dtd.$empty)};CKEDITOR.dom.walker.ignored=function(e){return function(t){var n=s(t)||l(t)||c(t);return!!(e^n)}};var d=CKEDITOR.dom.walker.ignored();CKEDITOR.dom.walker.empty=function(e){return function(t){for(var n=0,r=t.getChildCount();r>n;++n)if(!d(t.getChild(n)))return!!e;return!e}};var E=CKEDITOR.dom.walker.empty(),f=CKEDITOR.dom.walker.validEmptyBlockContainers=CKEDITOR.tools.extend(n(CKEDITOR.dtd.$block),{caption:1,td:1,th:1});CKEDITOR.dom.walker.editable=function(e){return function(t){return!!(e^r(t))}},CKEDITOR.dom.element.prototype.getBogus=function(){var e=this;do e=e.getPreviousSourceNode();while(u(e));return e&&(CKEDITOR.env.needsBrFiller?e.is&&e.is("br"):e.getText&&a.test(e.getText()))?e:!1}}(),CKEDITOR.dom.range=function(e){this.startContainer=null,this.startOffset=null,this.endContainer=null,this.endOffset=null,this.collapsed=!0;var t=e instanceof CKEDITOR.dom.document;this.document=t?e:e.getDocument(),this.root=t?e.getBody():e},function(){function e(e){e.collapsed=e.startContainer&&e.endContainer&&e.startContainer.equals(e.endContainer)&&e.startOffset==e.endOffset}function t(e,t,n,r,i){"use strict";function o(e,t,n,r){var o=n?e.getPrevious():e.getNext();return r&&h?o:(T||r?t.append(e.clone(!0,i),n):(e.remove(),m&&t.append(e,n)),o)}function a(){var e,t,n,r=Math.min(y.length,b.length);for(e=0;r>e;e++)if(t=y[e],n=b[e],!t.equals(n))return e;return e-1}function s(){var t=k-1,n=u&&d&&!O.equals(g);if(N-1>t||_-1>t||n){if(n?e.moveToPosition(g,CKEDITOR.POSITION_BEFORE_START):_==t+1&&c?e.moveToPosition(b[t],CKEDITOR.POSITION_BEFORE_END):e.moveToPosition(b[t+1],CKEDITOR.POSITION_BEFORE_START),r){var i=y[t+1];if(i&&i.type==CKEDITOR.NODE_ELEMENT){var o=CKEDITOR.dom.element.createFromHtml('<span data-cke-bookmark="1" style="display:none">&nbsp;</span>',e.document);o.insertAfter(i),i.mergeSiblings(!1),e.moveToBookmark({startNode:o})}}}else e.collapse(!0)}e.optimizeBookmark();var l,c,u,d,E,f,h=0===t,m=1==t,T=2==t,C=T||m,O=e.startContainer,g=e.endContainer,p=e.startOffset,D=e.endOffset;if(T&&g.type==CKEDITOR.NODE_TEXT&&(O.equals(g)||O.type===CKEDITOR.NODE_ELEMENT&&O.getFirst().equals(g)))return void n.append(e.document.createText(g.substring(p,D)));g.type==CKEDITOR.NODE_TEXT?T?f=!0:g=g.split(D):g.getChildCount()>0?D>=g.getChildCount()?(g=g.getChild(D-1),c=!0):g=g.getChild(D):(c=!0,d=!0),O.type==CKEDITOR.NODE_TEXT?T?E=!0:O.split(p):O.getChildCount()>0?0===p?(O=O.getChild(p),l=!0):O=O.getChild(p-1):(l=!0,u=!0);for(var I,R,v,K,y=O.getParents(),b=g.getParents(),k=a(),N=y.length-1,_=b.length-1,S=n,w=-1,A=k;N>=A;A++){for(R=y[A],K=R.getNext(),A!=N||R.equals(b[A])&&_>N?C&&(I=S.append(R.clone(0,i))):l?o(R,S,!1,u):E&&S.append(e.document.createText(R.substring(p)));K;){if(K.equals(b[A])){w=A;break}K=o(K,S)}S=I}for(S=n,A=k;_>=A;A++)if(v=b[A],K=v.getPrevious(),v.equals(y[A]))C&&(S=S.getChild(0));else{if(A!=_||v.equals(y[A])&&N>_?C&&(I=S.append(v.clone(0,i))):c?o(v,S,!1,d):f&&S.append(e.document.createText(v.substring(0,D))),A>w)for(;K;)K=o(K,S,!0);S=I}T||s()}function n(){var e=!1,t=CKEDITOR.dom.walker.whitespaces(),n=CKEDITOR.dom.walker.bookmark(!0),r=CKEDITOR.dom.walker.bogus();return function(i){return n(i)||t(i)?!0:r(i)&&!e?(e=!0,!0):i.type==CKEDITOR.NODE_TEXT&&(i.hasAscendant("pre")||CKEDITOR.tools.trim(i.getText()).length)?!1:i.type!=CKEDITOR.NODE_ELEMENT||i.is(o)?!0:!1}}function r(e){var t=CKEDITOR.dom.walker.whitespaces(),n=CKEDITOR.dom.walker.bookmark(1);return function(r){return n(r)||t(r)?!0:!e&&a(r)||r.type==CKEDITOR.NODE_ELEMENT&&r.is(CKEDITOR.dtd.$removeEmpty)}}function i(e){return function(){var t;return this[e?"getPreviousNode":"getNextNode"](function(e){return!t&&c(e)&&(t=e),l(e)&&!(a(e)&&e.equals(t))})}}var o={abbr:1,acronym:1,b:1,bdo:1,big:1,cite:1,code:1,del:1,dfn:1,em:1,font:1,i:1,ins:1,label:1,kbd:1,q:1,samp:1,small:1,span:1,strike:1,strong:1,sub:1,sup:1,tt:1,u:1,"var":1},a=CKEDITOR.dom.walker.bogus(),s=/^[\t\r\n ]*(?:&nbsp;|\xa0)$/,l=CKEDITOR.dom.walker.editable(),c=CKEDITOR.dom.walker.ignored(!0);CKEDITOR.dom.range.prototype={clone:function(){var e=new CKEDITOR.dom.range(this.root);return e._setStartContainer(this.startContainer),e.startOffset=this.startOffset,e._setEndContainer(this.endContainer),e.endOffset=this.endOffset,e.collapsed=this.collapsed,e},collapse:function(e){e?(this._setEndContainer(this.startContainer),this.endOffset=this.startOffset):(this._setStartContainer(this.endContainer),this.startOffset=this.endOffset),this.collapsed=!0},cloneContents:function(e){var n=new CKEDITOR.dom.documentFragment(this.document);return e="undefined"==typeof e?!0:e,this.collapsed||t(this,2,n,!1,e),n},deleteContents:function(e){this.collapsed||t(this,0,null,e)},extractContents:function(e,n){var r=new CKEDITOR.dom.documentFragment(this.document);return n="undefined"==typeof n?!0:n,this.collapsed||t(this,1,r,e,n),r},equals:function(e){return this.startOffset===e.startOffset&&this.endOffset===e.endOffset&&this.startContainer.equals(e.startContainer)&&this.endContainer.equals(e.endContainer)},createBookmark:function(e){function t(e){return!!n(e)}function n(e){return e.getAscendant(function(e){return e.data&&e.data("cke-temp")&&!r(e)},!0)}function r(e){var t=["cke_copybin","cke_pastebin"];return-1!==CKEDITOR.tools.array.indexOf(t,e.getAttribute("id"))}var i,o,a,s,l,c=this.startContainer,u=this.endContainer,d=this.collapsed;return i=this.document.createElement("span"),i.data("cke-bookmark",1),i.setStyle("display","none"),i.setHtml("&nbsp;"),e&&(a="cke_bm_"+CKEDITOR.tools.getNextNumber(),i.setAttribute("id",a+(d?"C":"S"))),d||(o=i.clone(),o.setHtml("&nbsp;"),e&&o.setAttribute("id",a+"E"),s=this.clone(),t(u)&&(l=n(u),s.moveToPosition(l,CKEDITOR.POSITION_AFTER_END)),s.collapse(),s.insertNode(o)),s=this.clone(),t(c)&&(l=n(c),s.moveToPosition(l,CKEDITOR.POSITION_BEFORE_START)),s.collapse(!0),s.insertNode(i),o?(this.setStartAfter(i),this.setEndBefore(o)):this.moveToPosition(i,CKEDITOR.POSITION_AFTER_END),{startNode:e?a+(d?"C":"S"):i,endNode:e?a+"E":o,serializable:e,collapsed:d}},createBookmark2:function(){function e(e,t){return e.type!=CKEDITOR.NODE_ELEMENT||0===t||t==e.getChildCount()?0:e.getChild(t-1).type==CKEDITOR.NODE_TEXT&&e.getChild(t).type==CKEDITOR.NODE_TEXT}function t(e){for(var t=0;(e=e.getPrevious())&&e.type==CKEDITOR.NODE_TEXT;)t+=e.getText().replace(CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE,"").length;return t}function n(n){var r=n.container,a=n.offset;if(e(r,a)&&(r=r.getChild(a-1),a=r.getLength()),r.type==CKEDITOR.NODE_ELEMENT&&a>0&&(a=i(r,a)+1),r.type==CKEDITOR.NODE_TEXT){var s=t(r);if(r.isEmpty()){var l=r.getPrevious(o);s?(a=s,r=l?l.getNext():r.getParent().getFirst()):(r=r.getParent(),a=l?l.getIndex(!0)+1:0)}else a+=s}n.container=r,n.offset=a}function r(e,t){var n=t.getCustomData("cke-fillingChar");if(n){var r=e.container;return n.equals(r)?(e.offset-=CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE.length,void(e.offset<=0&&(e.offset=r.getIndex(),e.container=r.getParent()))):void 0}}function i(e,t){for(var n;t--;)if(n=e.getChild(t).getIndex(!0),n>=0)return n;return-1}var o=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_TEXT,!0);return function(e){var t=this.collapsed,i={container:this.startContainer,offset:this.startOffset},o={container:this.endContainer,offset:this.endOffset};return e&&(n(i),r(i,this.root),t||(n(o),r(o,this.root))),{start:i.container.getAddress(e),end:t?null:o.container.getAddress(e),startOffset:i.offset,endOffset:o.offset,normalized:e,collapsed:t,is2:!0}}}(),moveToBookmark:function(e){if(e.is2){var t=this.document.getByAddress(e.start,e.normalized),n=e.startOffset,r=e.end&&this.document.getByAddress(e.end,e.normalized),i=e.endOffset;this.setStart(t,n),r?this.setEnd(r,i):this.collapse(!0)}else{var o=e.serializable,a=o?this.document.getById(e.startNode):e.startNode,s=o?this.document.getById(e.endNode):e.endNode;this.setStartBefore(a),a.remove(),s?(this.setEndBefore(s),s.remove()):this.collapse(!0)}},getBoundaryNodes:function(){var e,t=this.startContainer,n=this.endContainer,r=this.startOffset,i=this.endOffset;if(t.type==CKEDITOR.NODE_ELEMENT)if(e=t.getChildCount(),e>r)t=t.getChild(r);else if(1>e)t=t.getPreviousSourceNode();else{for(t=t.$;t.lastChild;)t=t.lastChild;t=new CKEDITOR.dom.node(t),t=t.getNextSourceNode()||t}if(n.type==CKEDITOR.NODE_ELEMENT)if(e=n.getChildCount(),e>i)n=n.getChild(i).getPreviousSourceNode(!0);else if(1>e)n=n.getPreviousSourceNode();else{for(n=n.$;n.lastChild;)n=n.lastChild;n=new CKEDITOR.dom.node(n)}return t.getPosition(n)&CKEDITOR.POSITION_FOLLOWING&&(t=n),{startNode:t,endNode:n}},getCommonAncestor:function(e,t){var n,r=this.startContainer,i=this.endContainer;return n=r.equals(i)?e&&r.type==CKEDITOR.NODE_ELEMENT&&this.startOffset==this.endOffset-1?r.getChild(this.startOffset):r:r.getCommonAncestor(i),t&&!n.is?n.getParent():n},optimize:function(){var e=this.startContainer,t=this.startOffset;e.type!=CKEDITOR.NODE_ELEMENT&&(t?t>=e.getLength()&&this.setStartAfter(e):this.setStartBefore(e)),e=this.endContainer,t=this.endOffset,e.type!=CKEDITOR.NODE_ELEMENT&&(t?t>=e.getLength()&&this.setEndAfter(e):this.setEndBefore(e))},optimizeBookmark:function(){var e=this.startContainer,t=this.endContainer;e.is&&e.is("span")&&e.data("cke-bookmark")&&this.setStartAt(e,CKEDITOR.POSITION_BEFORE_START),t&&t.is&&t.is("span")&&t.data("cke-bookmark")&&this.setEndAt(t,CKEDITOR.POSITION_AFTER_END)},trim:function(e,t){var n=this.startContainer,r=this.startOffset,i=this.collapsed;if((!e||i)&&n&&n.type==CKEDITOR.NODE_TEXT){if(r)if(r>=n.getLength())r=n.getIndex()+1,n=n.getParent();else{var o=n.split(r);r=n.getIndex()+1,n=n.getParent(),this.startContainer.equals(this.endContainer)?this.setEnd(o,this.endOffset-this.startOffset):n.equals(this.endContainer)&&(this.endOffset+=1)}else r=n.getIndex(),n=n.getParent();if(this.setStart(n,r),i)return void this.collapse(!0)}var a=this.endContainer,s=this.endOffset;t||i||!a||a.type!=CKEDITOR.NODE_TEXT||(s?s>=a.getLength()?(s=a.getIndex()+1,a=a.getParent()):(a.split(s),s=a.getIndex()+1,a=a.getParent()):(s=a.getIndex(),a=a.getParent()),this.setEnd(a,s))},enlarge:function(e,t){function n(e,t){var n=new CKEDITOR.dom.range(h);n.setStart(e,t),n.setEndAt(h,CKEDITOR.POSITION_BEFORE_END);var r,o=new CKEDITOR.dom.walker(n);for(o.guard=function(e){return!(e.type==CKEDITOR.NODE_ELEMENT&&e.isBlockBoundary())};r=o.next();){if(r.type!=CKEDITOR.NODE_TEXT)return!1;if(E=r!=e?r.getText():r.substring(t),i.test(E))return!1}return!0}function r(e){return e&&e.type==CKEDITOR.NODE_ELEMENT&&e.hasAttribute("contenteditable")?null:e}var i=new RegExp(/[^\s\ufeff]/);switch(e){case CKEDITOR.ENLARGE_INLINE:var o=1;case CKEDITOR.ENLARGE_ELEMENT:if(this.collapsed)return;var a,s,l,c,u,d,E,f=this.getCommonAncestor(),h=this.root,m=!1,T=this.startContainer,C=this.startOffset;for(T.type==CKEDITOR.NODE_TEXT?(C&&(T=!CKEDITOR.tools.trim(T.substring(0,C)).length&&T,m=!!T),T&&((c=T.getPrevious())||(l=T.getParent()))):(C&&(c=T.getChild(C-1)||T.getLast()),c||(l=T)),l=r(l);l||c;){if(l&&!c){if(!u&&l.equals(f)&&(u=!0),o?l.isBlockBoundary():!h.contains(l))break;m&&"inline"==l.getComputedStyle("display")||(m=!1,u?a=l:this.setStartBefore(l)),c=l.getPrevious()}for(;c;)if(d=!1,c.type!=CKEDITOR.NODE_COMMENT){if(c.type==CKEDITOR.NODE_TEXT)E=c.getText(),i.test(E)&&(c=null),d=/[\s\ufeff]$/.test(E);else{var O=CKEDITOR.env.webkit?1:0;if((c.$.offsetWidth>O||t&&c.is("br"))&&!c.data("cke-bookmark"))if(m&&CKEDITOR.dtd.$removeEmpty[c.getName()]){if(E=c.getText(),i.test(E))c=null;else for(var g,p=c.$.getElementsByTagName("*"),D=0;g=p[D++];)if(!CKEDITOR.dtd.$removeEmpty[g.nodeName.toLowerCase()]){c=null;break}c&&(d=!!E.length)}else c=null}if(d&&(m?u?a=l:l&&this.setStartBefore(l):m=!0),c){var I=c.getPrevious();if(!l&&!I){l=c,c=null;break}c=I}else l=null}else c=c.getPrevious();l&&(l=r(l.getParent()))}for(T=this.endContainer,C=this.endOffset,l=c=null,u=m=!1,T.type==CKEDITOR.NODE_TEXT?CKEDITOR.tools.trim(T.substring(C)).length?m=!0:(m=!T.getLength(),C==T.getLength()?(c=T.getNext())||(l=T.getParent()):n(T,C)&&(l=T.getParent())):(c=T.getChild(C),c||(l=T));l||c;){if(l&&!c){if(!u&&l.equals(f)&&(u=!0),o?l.isBlockBoundary():!h.contains(l))break;m&&"inline"==l.getComputedStyle("display")||(m=!1,u?s=l:l&&this.setEndAfter(l)),c=l.getNext()}for(;c;){if(d=!1,c.type==CKEDITOR.NODE_TEXT)E=c.getText(),n(c,0)||(c=null),d=/^[\s\ufeff]/.test(E);else if(c.type==CKEDITOR.NODE_ELEMENT){if((c.$.offsetWidth>0||t&&c.is("br"))&&!c.data("cke-bookmark"))if(m&&CKEDITOR.dtd.$removeEmpty[c.getName()]){if(E=c.getText(),i.test(E))c=null;else for(p=c.$.getElementsByTagName("*"),D=0;g=p[D++];)if(!CKEDITOR.dtd.$removeEmpty[g.nodeName.toLowerCase()]){c=null;break}c&&(d=!!E.length)}else c=null}else d=1;if(d&&m&&(u?s=l:this.setEndAfter(l)),c){if(I=c.getNext(),!l&&!I){l=c,c=null;break}c=I}else l=null}l&&(l=r(l.getParent()))}a&&s&&(f=a.contains(s)?s:a,this.setStartBefore(f),this.setEndAfter(f));break;case CKEDITOR.ENLARGE_BLOCK_CONTENTS:case CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS:var R=new CKEDITOR.dom.range(this.root);h=this.root,R.setStartAt(h,CKEDITOR.POSITION_AFTER_START),R.setEnd(this.startContainer,this.startOffset);var v,K,y=new CKEDITOR.dom.walker(R),b=CKEDITOR.dom.walker.blockBoundary(e==CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS?{br:1}:null),k=null,N=function(e){if(e.type==CKEDITOR.NODE_ELEMENT&&"false"==e.getAttribute("contenteditable"))if(k){if(k.equals(e))return void(k=null)}else k=e;else if(k)return;var t=b(e);return t||(v=e),t},_=function(e){var t=N(e);return!t&&e.is&&e.is("br")&&(K=e),t};if(y.guard=N,l=y.lastBackward(),v=v||h,this.setStartAt(v,!v.is("br")&&(!l&&this.checkStartOfBlock()||l&&v.contains(l))?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_AFTER_END),e==CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS){var S=this.clone();y=new CKEDITOR.dom.walker(S);var w=CKEDITOR.dom.walker.whitespaces(),A=CKEDITOR.dom.walker.bookmark();y.evaluator=function(e){return!w(e)&&!A(e)};var x=y.previous();if(x&&x.type==CKEDITOR.NODE_ELEMENT&&x.is("br"))return}R=this.clone(),R.collapse(),R.setEndAt(h,CKEDITOR.POSITION_BEFORE_END),y=new CKEDITOR.dom.walker(R),y.guard=e==CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS?_:N,v=k=K=null,l=y.lastForward(),v=v||h,this.setEndAt(v,!l&&this.checkEndOfBlock()||l&&v.contains(l)?CKEDITOR.POSITION_BEFORE_END:CKEDITOR.POSITION_BEFORE_START),K&&this.setEndAfter(K)}},shrink:function(e,t,n){var r="boolean"==typeof n?n:n&&"boolean"==typeof n.shrinkOnBlockBoundary?n.shrinkOnBlockBoundary:!0,i=n&&n.skipBogus;if(!this.collapsed){e=e||CKEDITOR.SHRINK_TEXT;var o=this.clone(),a=this.startContainer,s=this.endContainer,l=this.startOffset,c=this.endOffset,u=1,d=1;a&&a.type==CKEDITOR.NODE_TEXT&&(l?l>=a.getLength()?o.setStartAfter(a):(o.setStartBefore(a),u=0):o.setStartBefore(a)),s&&s.type==CKEDITOR.NODE_TEXT&&(c?c>=s.getLength()?o.setEndAfter(s):(o.setEndAfter(s),d=0):o.setEndBefore(s));var E=new CKEDITOR.dom.walker(o),f=CKEDITOR.dom.walker.bookmark(),h=CKEDITOR.dom.walker.bogus();E.evaluator=function(t){return t.type==(e==CKEDITOR.SHRINK_ELEMENT?CKEDITOR.NODE_ELEMENT:CKEDITOR.NODE_TEXT)};var m;if(E.guard=function(t,n){return i&&h(t)?!0:f(t)?!0:e==CKEDITOR.SHRINK_ELEMENT&&t.type==CKEDITOR.NODE_TEXT?!1:n&&t.equals(m)?!1:r===!1&&t.type==CKEDITOR.NODE_ELEMENT&&t.isBlockBoundary()?!1:t.type==CKEDITOR.NODE_ELEMENT&&t.hasAttribute("contenteditable")?!1:(n||t.type!=CKEDITOR.NODE_ELEMENT||(m=t),!0)},u){var T=E[e==CKEDITOR.SHRINK_ELEMENT?"lastForward":"next"]();T&&this.setStartAt(T,t?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_START)}if(d){E.reset();var C=E[e==CKEDITOR.SHRINK_ELEMENT?"lastBackward":"previous"]();C&&this.setEndAt(C,t?CKEDITOR.POSITION_BEFORE_END:CKEDITOR.POSITION_AFTER_END)}return!(!u&&!d)}},insertNode:function(e){this.optimizeBookmark(),this.trim(!1,!0);var t=this.startContainer,n=this.startOffset,r=t.getChild(n);r?e.insertBefore(r):t.append(e),e.getParent()&&e.getParent().equals(this.endContainer)&&this.endOffset++,this.setStartBefore(e)},moveToPosition:function(e,t){this.setStartAt(e,t),this.collapse(!0)},moveToRange:function(e){this.setStart(e.startContainer,e.startOffset),this.setEnd(e.endContainer,e.endOffset)},selectNodeContents:function(e){this.setStart(e,0),this.setEnd(e,e.type==CKEDITOR.NODE_TEXT?e.getLength():e.getChildCount())},setStart:function(t,n){t.type==CKEDITOR.NODE_ELEMENT&&CKEDITOR.dtd.$empty[t.getName()]&&(n=t.getIndex(),t=t.getParent()),this._setStartContainer(t),this.startOffset=n,this.endContainer||(this._setEndContainer(t),this.endOffset=n),e(this)},setEnd:function(t,n){t.type==CKEDITOR.NODE_ELEMENT&&CKEDITOR.dtd.$empty[t.getName()]&&(n=t.getIndex()+1,t=t.getParent()),this._setEndContainer(t),this.endOffset=n,this.startContainer||(this._setStartContainer(t),this.startOffset=n),e(this)},setStartAfter:function(e){this.setStart(e.getParent(),e.getIndex()+1)},setStartBefore:function(e){this.setStart(e.getParent(),e.getIndex())},setEndAfter:function(e){this.setEnd(e.getParent(),e.getIndex()+1)},setEndBefore:function(e){this.setEnd(e.getParent(),e.getIndex())},setStartAt:function(t,n){switch(n){case CKEDITOR.POSITION_AFTER_START:this.setStart(t,0);break;case CKEDITOR.POSITION_BEFORE_END:t.type==CKEDITOR.NODE_TEXT?this.setStart(t,t.getLength()):this.setStart(t,t.getChildCount());break;case CKEDITOR.POSITION_BEFORE_START:this.setStartBefore(t);break;case CKEDITOR.POSITION_AFTER_END:this.setStartAfter(t)}e(this)},setEndAt:function(t,n){switch(n){case CKEDITOR.POSITION_AFTER_START:this.setEnd(t,0);break;case CKEDITOR.POSITION_BEFORE_END:t.type==CKEDITOR.NODE_TEXT?this.setEnd(t,t.getLength()):this.setEnd(t,t.getChildCount());break;case CKEDITOR.POSITION_BEFORE_START:this.setEndBefore(t);break;case CKEDITOR.POSITION_AFTER_END:this.setEndAfter(t)}e(this)},fixBlock:function(e,t){var n=this.createBookmark(),r=this.document.createElement(t);this.collapse(e),this.enlarge(CKEDITOR.ENLARGE_BLOCK_CONTENTS),this.extractContents().appendTo(r),r.trim(),this.insertNode(r);var i=r.getBogus();return i&&i.remove(),r.appendBogus(),this.moveToBookmark(n),r},splitBlock:function(e,t){var n=new CKEDITOR.dom.elementPath(this.startContainer,this.root),r=new CKEDITOR.dom.elementPath(this.endContainer,this.root),i=n.blockLimit,o=r.blockLimit,a=n.block,s=r.block,l=null;if(!i.equals(o))return null;"br"!=e&&(a||(a=this.fixBlock(!0,e),s=new CKEDITOR.dom.elementPath(this.endContainer,this.root).block),s||(s=this.fixBlock(!1,e)));var c=a&&this.checkStartOfBlock(),u=s&&this.checkEndOfBlock();return this.deleteContents(),a&&a.equals(s)&&(u?(l=new CKEDITOR.dom.elementPath(this.startContainer,this.root),this.moveToPosition(s,CKEDITOR.POSITION_AFTER_END),s=null):c?(l=new CKEDITOR.dom.elementPath(this.startContainer,this.root),this.moveToPosition(a,CKEDITOR.POSITION_BEFORE_START),a=null):(s=this.splitElement(a,t||!1),a.is("ul","ol")||a.appendBogus())),{previousBlock:a,nextBlock:s,wasStartOfBlock:c,wasEndOfBlock:u,elementPath:l}},splitElement:function(e,t){if(!this.collapsed)return null;this.setEndAt(e,CKEDITOR.POSITION_BEFORE_END);var n=this.extractContents(!1,t||!1),r=e.clone(!1,t||!1);return n.appendTo(r),r.insertAfter(e),this.moveToPosition(e,CKEDITOR.POSITION_AFTER_END),r},removeEmptyBlocksAtEnd:function(){function e(e){return function(r){return t(r)||n(r)||r.type==CKEDITOR.NODE_ELEMENT&&r.isEmptyInlineRemoveable()?!1:e.is("table")&&r.is("caption")?!1:!0}}var t=CKEDITOR.dom.walker.whitespaces(),n=CKEDITOR.dom.walker.bookmark(!1);return function(t){for(var n,r=this.createBookmark(),i=this[t?"endPath":"startPath"](),o=i.block||i.blockLimit;o&&!o.equals(i.root)&&!o.getFirst(e(o));)n=o.getParent(),this[t?"setEndAt":"setStartAt"](o,CKEDITOR.POSITION_AFTER_END),o.remove(1),o=n;this.moveToBookmark(r)}}(),startPath:function(){return new CKEDITOR.dom.elementPath(this.startContainer,this.root)},endPath:function(){return new CKEDITOR.dom.elementPath(this.endContainer,this.root)},checkBoundaryOfElement:function(e,t){var n=t==CKEDITOR.START,i=this.clone();i.collapse(n),i[n?"setStartAt":"setEndAt"](e,n?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_END);var o=new CKEDITOR.dom.walker(i);return o.evaluator=r(n),o[n?"checkBackward":"checkForward"]()},checkStartOfBlock:function(){var e=this.startContainer,t=this.startOffset;if(CKEDITOR.env.ie&&t&&e.type==CKEDITOR.NODE_TEXT){var r=CKEDITOR.tools.ltrim(e.substring(0,t));s.test(r)&&this.trim(0,1)}this.trim();var i=new CKEDITOR.dom.elementPath(this.startContainer,this.root),o=this.clone();o.collapse(!0),o.setStartAt(i.block||i.blockLimit,CKEDITOR.POSITION_AFTER_START);var a=new CKEDITOR.dom.walker(o);return a.evaluator=n(),a.checkBackward()},checkEndOfBlock:function(){var e=this.endContainer,t=this.endOffset;if(CKEDITOR.env.ie&&e.type==CKEDITOR.NODE_TEXT){var r=CKEDITOR.tools.rtrim(e.substring(t));s.test(r)&&this.trim(1,0)}this.trim();var i=new CKEDITOR.dom.elementPath(this.endContainer,this.root),o=this.clone();o.collapse(!1),o.setEndAt(i.block||i.blockLimit,CKEDITOR.POSITION_BEFORE_END);var a=new CKEDITOR.dom.walker(o);return a.evaluator=n(),a.checkForward()},getPreviousNode:function(e,t,n){var r=this.clone();r.collapse(1),r.setStartAt(n||this.root,CKEDITOR.POSITION_AFTER_START);var i=new CKEDITOR.dom.walker(r);return i.evaluator=e,i.guard=t,i.previous()},getNextNode:function(e,t,n){var r=this.clone();r.collapse(),r.setEndAt(n||this.root,CKEDITOR.POSITION_BEFORE_END);var i=new CKEDITOR.dom.walker(r);return i.evaluator=e,i.guard=t,i.next()},checkReadOnly:function(){function e(e,t){for(;e;){if(e.type==CKEDITOR.NODE_ELEMENT){if("false"==e.getAttribute("contentEditable")&&!e.data("cke-editable"))return 0;if(e.is("html")||"true"==e.getAttribute("contentEditable")&&(e.contains(t)||e.equals(t)))break}e=e.getParent()}return 1}return function(){var t=this.startContainer,n=this.endContainer;return!(e(t,n)&&e(n,t))}}(),moveToElementEditablePosition:function(e,t){function n(e,n){var r;return e.type==CKEDITOR.NODE_ELEMENT&&e.isEditable(!1)&&(r=e[t?"getLast":"getFirst"](c)),n||r||(r=e[t?"getPrevious":"getNext"](c)),r}if(e.type==CKEDITOR.NODE_ELEMENT&&!e.isEditable(!1))return this.moveToPosition(e,t?CKEDITOR.POSITION_AFTER_END:CKEDITOR.POSITION_BEFORE_START),!0;for(var r=0;e;){if(e.type==CKEDITOR.NODE_TEXT){t&&this.endContainer&&this.checkEndOfBlock()&&s.test(e.getText())?this.moveToPosition(e,CKEDITOR.POSITION_BEFORE_START):this.moveToPosition(e,t?CKEDITOR.POSITION_AFTER_END:CKEDITOR.POSITION_BEFORE_START),r=1;break}if(e.type==CKEDITOR.NODE_ELEMENT)if(e.isEditable())this.moveToPosition(e,t?CKEDITOR.POSITION_BEFORE_END:CKEDITOR.POSITION_AFTER_START),r=1;else if(t&&e.is("br")&&this.endContainer&&this.checkEndOfBlock())this.moveToPosition(e,CKEDITOR.POSITION_BEFORE_START);else if("false"==e.getAttribute("contenteditable")&&e.is(CKEDITOR.dtd.$block))return this.setStartBefore(e),this.setEndAfter(e),!0;e=n(e,r)}return!!r},moveToClosestEditablePosition:function(e,t){var n,r,i,o=0,a=[CKEDITOR.POSITION_AFTER_END,CKEDITOR.POSITION_BEFORE_START];return e?(n=new CKEDITOR.dom.range(this.root),n.moveToPosition(e,a[t?0:1])):n=this.clone(),e&&!e.is(CKEDITOR.dtd.$block)?o=1:(r=n[t?"getNextEditableNode":"getPreviousEditableNode"](),r&&(o=1,i=r.type==CKEDITOR.NODE_ELEMENT,i&&r.is(CKEDITOR.dtd.$block)&&"false"==r.getAttribute("contenteditable")?(n.setStartAt(r,CKEDITOR.POSITION_BEFORE_START),n.setEndAt(r,CKEDITOR.POSITION_AFTER_END)):!CKEDITOR.env.needsBrFiller&&i&&r.is(CKEDITOR.dom.walker.validEmptyBlockContainers)?(n.setEnd(r,0),n.collapse()):n.moveToPosition(r,a[t?1:0]))),o&&this.moveToRange(n),!!o},moveToElementEditStart:function(e){return this.moveToElementEditablePosition(e)},moveToElementEditEnd:function(e){return this.moveToElementEditablePosition(e,!0)},getEnclosedNode:function(){var e=this.clone();if(e.optimize(),e.startContainer.type!=CKEDITOR.NODE_ELEMENT||e.endContainer.type!=CKEDITOR.NODE_ELEMENT)return null;var t=new CKEDITOR.dom.walker(e),n=CKEDITOR.dom.walker.bookmark(!1,!0),r=CKEDITOR.dom.walker.whitespaces(!0);t.evaluator=function(e){return r(e)&&n(e)};var i=t.next();return t.reset(),i&&i.equals(t.previous())?i:null},getTouchedStartNode:function(){var e=this.startContainer;return this.collapsed||e.type!=CKEDITOR.NODE_ELEMENT?e:e.getChild(this.startOffset)||e},getTouchedEndNode:function(){var e=this.endContainer;return this.collapsed||e.type!=CKEDITOR.NODE_ELEMENT?e:e.getChild(this.endOffset-1)||e},getNextEditableNode:i(),getPreviousEditableNode:i(1),_getTableElement:function(e){e=e||{td:1,th:1,tr:1,tbody:1,thead:1,tfoot:1,table:1};var t=this.getTouchedStartNode(),n=this.getTouchedEndNode(),r=t.getAscendant("table",!0),i=n.getAscendant("table",!0);return r&&!this.root.contains(r)?null:this.getEnclosedNode()?this.getEnclosedNode().getAscendant(e,!0):r&&i&&(r.equals(i)||r.contains(i)||i.contains(r))?t.getAscendant(e,!0):null},scrollIntoView:function(){var e,t,n,r=new CKEDITOR.dom.element.createFromHtml("<span>&nbsp;</span>",this.document),i=this.clone();i.optimize(),(n=i.startContainer.type==CKEDITOR.NODE_TEXT)?(t=i.startContainer.getText(),e=i.startContainer.split(i.startOffset),r.insertAfter(i.startContainer)):i.insertNode(r),r.scrollIntoView(),n&&(i.startContainer.setText(t),e.remove()),r.remove()},getClientRects:function(){function e(e,t){var n,r,i,o,a,s,l=CKEDITOR.tools.array.map(e,function(e){return e}),c=new CKEDITOR.dom.range(t.root);return t.startContainer instanceof CKEDITOR.dom.element&&(a=0===t.startOffset&&t.startContainer.hasAttribute("data-widget")),t.endContainer instanceof CKEDITOR.dom.element&&(s=t.endOffset===(t.endContainer.getChildCount?t.endContainer.getChildCount():t.endContainer.length),s=s&&t.endContainer.hasAttribute("data-widget")),a&&c.setStart(t.startContainer.getParent(),t.startContainer.getIndex()),s&&c.setEnd(t.endContainer.getParent(),t.endContainer.getIndex()+1),(a||s)&&(t=c),o=t.cloneContents(),n=o.find("[data-cke-widget-id]").toArray(),(n=CKEDITOR.tools.array.map(n,function(e){var n=t.root.editor,r=e.getAttribute("data-cke-widget-id");
return n.widgets.instances[r].element}))?(r=CKEDITOR.tools.array.map(n,function(e){var t,n=e.getParent().hasClass("cke_widget_wrapper")?e.getParent():e;return i=this.root.getDocument().$.createRange(),i.setStart(n.getParent().$,n.getIndex()),i.setEnd(n.getParent().$,n.getIndex()+1),t=i.getClientRects(),t.widgetRect=e.getClientRect(),t},t),CKEDITOR.tools.array.forEach(r,function(e){function t(r){CKEDITOR.tools.array.forEach(l,function(t,i){var o=CKEDITOR.tools.objectCompare(e[r],t);o||(o=CKEDITOR.tools.objectCompare(e.widgetRect,t)),o&&(Array.prototype.splice.call(l,i,e.length-r,e.widgetRect),n=!0)}),n||(r<l.length-1?t(r+1):l.push(e.widgetRect))}var n;t(0)}),l):void 0}function t(e,t,n){var i,o,a;return t.collapsed?n.startContainer instanceof CKEDITOR.dom.element?(i=n.checkStartOfBlock(),o=new CKEDITOR.dom.text("​"),i?n.startContainer.append(o,!0):0===n.startOffset?o.insertBefore(n.startContainer.getFirst()):(a=n.startContainer.getChildren().getItem(n.startOffset-1),o.insertAfter(a)),t.setStart(o.$,0),t.setEnd(o.$,0),e=t.getClientRects(),o.remove()):n.startContainer instanceof CKEDITOR.dom.text&&(""===n.startContainer.getText()?(n.startContainer.setText("​"),e=t.getClientRects(),n.startContainer.setText("")):e=[r(n.createBookmark())]):e=[r(n.createBookmark())],e}function n(e,t,n){var r=CKEDITOR.tools.extend({},e);return t&&(r=CKEDITOR.tools.getAbsoluteRectPosition(n.document.getWindow(),r)),!r.width&&(r.width=r.right-r.left),!r.height&&(r.height=r.bottom-r.top),r}function r(e){var t,n=e.startNode,r=e.endNode;return n.setText("​"),n.removeStyle("display"),r?(r.setText("​"),r.removeStyle("display"),t=[n.getClientRect(),r.getClientRect()],r.remove()):t=[n.getClientRect(),n.getClientRect()],n.remove(),{right:Math.max(t[0].right,t[1].right),bottom:Math.max(t[0].bottom,t[1].bottom),left:Math.min(t[0].left,t[1].left),top:Math.min(t[0].top,t[1].top),width:Math.abs(t[0].left-t[1].left),height:Math.max(t[0].bottom,t[1].bottom)-Math.min(t[0].top,t[1].top)}}return void 0!==this.document.getSelection?function(r){var i,o=this.root.getDocument().$.createRange();return o.setStart(this.startContainer.$,this.startOffset),o.setEnd(this.endContainer.$,this.endOffset),i=o.getClientRects(),i=e(i,this),i.length||(i=t(i,o,this)),CKEDITOR.tools.array.map(i,function(e){return n(e,r,this)},this)}:function(e){return[n(r(this.createBookmark()),e,this)]}}(),_setStartContainer:function(e){this.startContainer=e},_setEndContainer:function(e){this.endContainer=e},_find:function(e,t){var n,r,i,o,a,s=this.getCommonAncestor(),l=this.getBoundaryNodes(),c=[];if(s&&s.find)for(i=s.find(e),r=0;r<i.count();r++)n=i.getItem(r),(t||!n.isReadOnly())&&(o=n.getPosition(l.startNode)&CKEDITOR.POSITION_FOLLOWING||l.startNode.equals(n),a=n.getPosition(l.endNode)&CKEDITOR.POSITION_PRECEDING+CKEDITOR.POSITION_IS_CONTAINED||l.endNode.equals(n),o&&a&&c.push(n));return c}},CKEDITOR.dom.range.mergeRanges=function(e){return CKEDITOR.tools.array.reduce(e,function(e,t){var n=e[e.length-1],r=!1;if(t=t.clone(),t.enlarge(CKEDITOR.ENLARGE_ELEMENT),n){var i,o=new CKEDITOR.dom.range(t.root),a=new CKEDITOR.dom.walker(o),s=CKEDITOR.dom.walker.whitespaces();for(o.setStart(n.endContainer,n.endOffset),o.setEnd(t.startContainer,t.startOffset),i=a.next();s(i)||t.endContainer.equals(i);)i=a.next();r=!i}return r?n.setEnd(t.endContainer,t.endOffset):e.push(t),e},[])}}(),CKEDITOR.POSITION_AFTER_START=1,CKEDITOR.POSITION_BEFORE_END=2,CKEDITOR.POSITION_BEFORE_START=3,CKEDITOR.POSITION_AFTER_END=4,CKEDITOR.ENLARGE_ELEMENT=1,CKEDITOR.ENLARGE_BLOCK_CONTENTS=2,CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS=3,CKEDITOR.ENLARGE_INLINE=4,CKEDITOR.START=1,CKEDITOR.END=2,CKEDITOR.SHRINK_ELEMENT=1,CKEDITOR.SHRINK_TEXT=2,function(){function e(e){arguments.length<1||(this.range=e,this.forceBrBreak=0,this.enlargeBr=1,this.enforceRealBlocks=0,this._||(this._={}))}function t(){var e,t=this.range.clone(),n=t.startPath(),r=t.endPath(),i=!t.collapsed&&a(t,n.block),o=!t.collapsed&&a(t,r.block,1);if(t.shrink(CKEDITOR.SHRINK_ELEMENT,!0),i&&t.setStartAt(n.block,CKEDITOR.POSITION_BEFORE_END),o&&t.setEndAt(r.block,CKEDITOR.POSITION_AFTER_START),e=t.endContainer.hasAscendant("pre",!0)||t.startContainer.hasAscendant("pre",!0),t.enlarge(this.forceBrBreak&&!e||!this.enlargeBr?CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS:CKEDITOR.ENLARGE_BLOCK_CONTENTS),!t.collapsed){var s=new CKEDITOR.dom.walker(t.clone()),l=CKEDITOR.dom.walker.bookmark(!0,!0);s.evaluator=l,this._.nextNode=s.next(),s=new CKEDITOR.dom.walker(t.clone()),s.evaluator=l;var c=s.previous();if(this._.lastNode=c.getNextSourceNode(!0,null,t.root),this._.lastNode&&this._.lastNode.type==CKEDITOR.NODE_TEXT&&!CKEDITOR.tools.trim(this._.lastNode.getText())&&this._.lastNode.getParent().isBlockBoundary()){var u=this.range.clone();if(u.moveToPosition(this._.lastNode,CKEDITOR.POSITION_AFTER_END),u.checkEndOfBlock()){var d=new CKEDITOR.dom.elementPath(u.endContainer,u.root),E=d.block||d.blockLimit;this._.lastNode=E.getNextSourceNode(!0)}}this._.lastNode&&t.root.contains(this._.lastNode)||(this._.lastNode=this._.docEndMarker=t.document.createText(""),this._.lastNode.insertAfter(c)),t=null}return this._.started=1,t}function n(e,t){null==t&&(t=i(e));for(var n;n=t.shift();)if(r(n))return{element:n,remaining:t};return null}function r(e){return e.getDtd().p}function i(e){var t=[];return e.forEach(function(e){return"true"==e.getAttribute("contenteditable")?(t.push(e),!1):void 0},CKEDITOR.NODE_ELEMENT,!0),t}function o(e,t,r,i){var a=n(r,i);if(!a)return 0;var s=CKEDITOR.filter.instances[a.element.data("cke-filter")];if(s&&!s.check(t))return o(e,t,r,a.remaining);var l=new CKEDITOR.dom.range(a.element);l.selectNodeContents(a.element);var c=l.createIterator();return c.enlargeBr=e.enlargeBr,c.enforceRealBlocks=e.enforceRealBlocks,c.activeFilter=c.filter=s,e._.nestedEditable={element:a.element,container:r,remaining:a.remaining,iterator:c},1}function a(e,t,n){if(!t)return!1;var r=e.clone();return r.collapse(!n),r.checkBoundaryOfElement(t,n?CKEDITOR.START:CKEDITOR.END)}var s=/^[\r\n\t ]+$/,l=CKEDITOR.dom.walker.bookmark(!1,!0),c=CKEDITOR.dom.walker.whitespaces(!0),u=function(e){return l(e)&&c(e)},d={dd:1,dt:1,li:1};e.prototype={getNextParagraph:function(e){var n,r,i,a,c;if(e=e||"p",this._.nestedEditable){if(n=this._.nestedEditable.iterator.getNextParagraph(e))return this.activeFilter=this._.nestedEditable.iterator.activeFilter,n;if(this.activeFilter=this.filter,o(this,e,this._.nestedEditable.container,this._.nestedEditable.remaining))return this.activeFilter=this._.nestedEditable.iterator.activeFilter,this._.nestedEditable.iterator.getNextParagraph(e);this._.nestedEditable=null}if(!this.range.root.getDtd()[e])return null;this._.started||(r=t.call(this));var E=this._.nextNode,f=this._.lastNode;for(this._.nextNode=null;E;){var h=0,m=E.hasAscendant("pre"),T=E.type!=CKEDITOR.NODE_ELEMENT,C=0;if(T)E.type==CKEDITOR.NODE_TEXT&&s.test(E.getText())&&(T=0);else{var O=E.getName();if(CKEDITOR.dtd.$block[O]&&"false"==E.getAttribute("contenteditable")){n=E,o(this,e,n);break}if(E.isBlockBoundary(this.forceBrBreak&&!m&&{br:1})){if("br"==O)T=1;else if(!r&&!E.getChildCount()&&"hr"!=O){n=E,i=E.equals(f);break}r&&(r.setEndAt(E,CKEDITOR.POSITION_BEFORE_START),"br"!=O&&(this._.nextNode=E)),h=1}else{if(E.getFirst()){r||(r=this.range.clone(),r.setStartAt(E,CKEDITOR.POSITION_BEFORE_START)),E=E.getFirst();continue}T=1}}if(T&&!r&&(r=this.range.clone(),r.setStartAt(E,CKEDITOR.POSITION_BEFORE_START)),i=(!h||T)&&E.equals(f),r&&!h)for(;!E.getNext(u)&&!i;){var g=E.getParent();if(g.isBlockBoundary(this.forceBrBreak&&!m&&{br:1})){h=1,T=0,i=i||g.equals(f),r.setEndAt(g,CKEDITOR.POSITION_BEFORE_END);break}E=g,T=1,i=E.equals(f),C=1}if(T&&r.setEndAt(E,CKEDITOR.POSITION_AFTER_END),E=this._getNextSourceNode(E,C,f),i=!E,i||h&&r)break}if(!n){if(!r)return this._.docEndMarker&&this._.docEndMarker.remove(),this._.nextNode=null,null;var p=new CKEDITOR.dom.elementPath(r.startContainer,r.root),D=p.blockLimit,I={div:1,th:1,td:1};if(n=p.block,!n&&D&&!this.enforceRealBlocks&&I[D.getName()]&&r.checkStartOfBlock()&&r.checkEndOfBlock()&&!D.equals(r.root))n=D;else if(!n||this.enforceRealBlocks&&n.is(d))n=this.range.document.createElement(e),r.extractContents().appendTo(n),n.trim(),r.insertNode(n),a=c=!0;else if("li"!=n.getName()){if(!r.checkStartOfBlock()||!r.checkEndOfBlock()){n=n.clone(!1),r.extractContents().appendTo(n),n.trim();var R=r.splitBlock();a=!R.wasStartOfBlock,c=!R.wasEndOfBlock,r.insertNode(n)}}else i||(this._.nextNode=n.equals(f)?null:this._getNextSourceNode(r.getBoundaryNodes().endNode,1,f))}if(a){var v=n.getPrevious();v&&v.type==CKEDITOR.NODE_ELEMENT&&("br"==v.getName()?v.remove():v.getLast()&&"br"==v.getLast().$.nodeName.toLowerCase()&&v.getLast().remove())}if(c){var K=n.getLast();K&&K.type==CKEDITOR.NODE_ELEMENT&&"br"==K.getName()&&(!CKEDITOR.env.needsBrFiller||K.getPrevious(l)||K.getNext(l))&&K.remove()}return this._.nextNode||(this._.nextNode=i||n.equals(f)||!f?null:this._getNextSourceNode(n,1,f)),n},_getNextSourceNode:function(e,t,n){function r(e){return!(e.equals(n)||e.equals(o))}var i,o=this.range.root;for(i=e.getNextSourceNode(t,null,r);!l(i);)i=i.getNextSourceNode(t,null,r);return i}},CKEDITOR.dom.range.prototype.createIterator=function(){return new e(this)}}(),CKEDITOR.command=function(e,t){this.uiItems=[],this.exec=function(n){return this.state!=CKEDITOR.TRISTATE_DISABLED&&this.checkAllowed()?(this.editorFocus&&e.focus(),this.fire("exec")===!1?!0:t.exec.call(this,e,n)!==!1):!1},this.refresh=function(e,n){return!this.readOnly&&e.readOnly?!0:this.context&&!n.isContextFor(this.context)?(this.disable(),!0):this.checkAllowed(!0)?(this.startDisabled||this.enable(),this.modes&&!this.modes[e.mode]&&this.disable(),this.fire("refresh",{editor:e,path:n})===!1?!0:t.refresh&&t.refresh.apply(this,arguments)!==!1):(this.disable(),!0)};var n;this.checkAllowed=function(t){return t||"boolean"!=typeof n?n=e.activeFilter.checkFeature(this):n},CKEDITOR.tools.extend(this,t,{modes:{wysiwyg:1},editorFocus:1,contextSensitive:!!t.context,state:CKEDITOR.TRISTATE_DISABLED}),CKEDITOR.event.call(this)},CKEDITOR.command.prototype={enable:function(){this.state==CKEDITOR.TRISTATE_DISABLED&&this.checkAllowed()&&this.setState(this.preserveState&&"undefined"!=typeof this.previousState?this.previousState:CKEDITOR.TRISTATE_OFF)},disable:function(){this.setState(CKEDITOR.TRISTATE_DISABLED)},setState:function(e){return this.state==e?!1:e==CKEDITOR.TRISTATE_DISABLED||this.checkAllowed()?(this.previousState=this.state,this.state=e,this.fire("state"),!0):!1},toggleState:function(){this.state==CKEDITOR.TRISTATE_OFF?this.setState(CKEDITOR.TRISTATE_ON):this.state==CKEDITOR.TRISTATE_ON&&this.setState(CKEDITOR.TRISTATE_OFF)}},CKEDITOR.event.implementOn(CKEDITOR.command.prototype),CKEDITOR.ENTER_P=1,CKEDITOR.ENTER_BR=2,CKEDITOR.ENTER_DIV=3,CKEDITOR.config={customConfig:"config.js",autoUpdateElement:!0,language:"",defaultLanguage:"en",contentsLangDirection:"",enterMode:CKEDITOR.ENTER_P,forceEnterMode:!1,shiftEnterMode:CKEDITOR.ENTER_BR,docType:"<!DOCTYPE html>",bodyId:"",bodyClass:"",fullPage:!1,height:200,contentsCss:CKEDITOR.getUrl("contents.css"),extraPlugins:"",removePlugins:"",protectedSource:[],tabIndex:0,width:"",baseFloatZIndex:1e4,blockedKeystrokes:[CKEDITOR.CTRL+66,CKEDITOR.CTRL+73,CKEDITOR.CTRL+85]},function(){"use strict";function e(e,t,n,r,i){var o,a,s=[];for(o in t)a=t[o],a="boolean"==typeof a?{}:"function"==typeof a?{match:a}:Y(a),"$"!=o.charAt(0)&&(a.elements=o),n&&(a.featureName=n.toLowerCase()),b(a),r.push(a),s.push(a);p(i,s)}function t(e,t,i,o){(!e.match||e.match(t))&&(o||f(e,t))&&(e.propertiesOnly||(i.valid=!0),i.allAttributes||(i.allAttributes=r(e.attributes,t.attributes,i.validAttributes)),i.allStyles||(i.allStyles=r(e.styles,t.styles,i.validStyles)),i.allClasses||(i.allClasses=n(e.classes,t.classes,i.validClasses)))}function n(e,t,n){if(!e)return!1;if(e===!0)return!0;for(var r,i=0,o=t.length;o>i;++i)r=t[i],n[r]||(n[r]=e(r));return!1}function r(e,t,n){if(!e)return!1;if(e===!0)return!0;for(var r in t)n[r]||(n[r]=e(r));return!1}function i(e,t,n){if(!e.match||e.match(t)){if(e.noProperties)return!1;n.hadInvalidAttribute=a(e.attributes,t.attributes)||n.hadInvalidAttribute,n.hadInvalidStyle=a(e.styles,t.styles)||n.hadInvalidStyle,n.hadInvalidClass=o(e.classes,t.classes)||n.hadInvalidClass}}function o(e,t){if(!e)return!1;for(var n=!1,r=e===!0,i=t.length;i--;)(r||e(t[i]))&&(t.splice(i,1),n=!0);return n}function a(e,t){if(!e)return!1;var n=!1,r=e===!0;for(var i in t)(r||e(i))&&(delete t[i],n=!0);return n}function s(e,t,n){return e.disabled?!1:e.customConfig&&!n?!1:t?(e._.cachedChecks={},!0):!1}function l(e){var t,n=e.getDefinition(),r={},i=n.attributes;return r[n.element]=t={styles:n.styles,requiredStyles:n.styles&&CKEDITOR.tools.object.keys(n.styles)},i&&(i=Y(i),t.classes=i["class"]?i["class"].split(/\s+/):null,t.requiredClasses=t.classes,delete i["class"],t.attributes=i,t.requiredAttributes=i&&CKEDITOR.tools.object.keys(i)),r}function c(e,t){if(!e)return!1;if(e===!0)return e;if("string"==typeof e)return e=J(e),"*"==e?!0:CKEDITOR.tools.convertArrayToObject(e.split(t));if(CKEDITOR.tools.isArray(e))return e.length?CKEDITOR.tools.convertArrayToObject(e):!1;var n={},r=0;for(var i in e)n[i]=e[i],r++;return r?n:!1}function u(e,t){for(var n,r=0,i=t.length;i>r;++r)if(n=t[r](e))return n}function d(e,t){var n,r=[],i=!0;e?i=!1:e={};for(n in t)"!"==n.charAt(0)&&(n=n.slice(1),r.push(n),e[n]=!0,i=!1);for(;n=r.pop();)t[n]=t["!"+n],delete t["!"+n];return i?!1:e}function E(e,n,r){var o,a,s=n.name,l=e._,c=l.allowedRules.elements[s],u=l.allowedRules.generic,d=l.disallowedRules.elements[s],E=l.disallowedRules.generic,f=r.skipRequired,h={valid:!1,validAttributes:{},validClasses:{},validStyles:{},allAttributes:!1,allClasses:!1,allStyles:!1,hadInvalidAttribute:!1,hadInvalidClass:!1,hadInvalidStyle:!1};if(!c&&!u)return null;if(R(n),d)for(o=0,a=d.length;a>o;++o)if(i(d[o],n,h)===!1)return null;if(E)for(o=0,a=E.length;a>o;++o)i(E[o],n,h);if(c)for(o=0,a=c.length;a>o;++o)t(c[o],n,h,f);if(u)for(o=0,a=u.length;a>o;++o)t(u[o],n,h,f);return h}function f(e,t){if(e.nothingRequired)return!0;var n,r,i,o;if(i=e.requiredClasses)for(o=t.classes,n=0;n<i.length;++n)if(r=i[n],"string"==typeof r){if(-1==CKEDITOR.tools.indexOf(o,r))return!1}else if(!CKEDITOR.tools.checkIfAnyArrayItemMatches(o,r))return!1;return h(t.styles,e.requiredStyles)&&h(t.attributes,e.requiredAttributes)}function h(e,t){if(!t)return!0;for(var n,r=0;r<t.length;++r)if(n=t[r],"string"==typeof n){if(!(n in e))return!1}else if(!CKEDITOR.tools.checkIfAnyObjectPropertyMatches(e,n))return!1;return!0}function m(e){var t=D(e).$1,n=t.styles,r=t.classes;return t.name=t.elements,t.classes=r=r?r.split(/\s*,\s*/):[],t.styles=C(n),t.attributes=C(t.attributes),t.children=[],r.length&&(t.attributes["class"]=r.join(" ")),n&&(t.attributes.style=CKEDITOR.tools.writeCssText(t.styles)),t}function T(e){var t=e.getDefinition(),n=t.styles,r=t.attributes||{};return n&&!CKEDITOR.tools.isEmpty(n)?(n=Y(n),r.style=CKEDITOR.tools.writeCssText(n,!0)):n={},{name:t.element,attributes:r,classes:r["class"]?r["class"].split(/\s+/):[],styles:n,children:[]}}function C(e){if(!e)return{};for(var t=e.split(/\s*,\s*/).sort(),n={};t.length;)n[t.shift()]=Q;return n}function O(e){var t=[];for(var n in e)t.push(n.indexOf("*")>-1?new RegExp("^"+n.replace(/\*/g,".*")+"$"):n);return t}function g(e){var t,n,r;for(t in tt)e[t]=w(e[t]);var i=!0;for(r in nt)t=nt[r],n=O(e[t]),n.length&&(e[t]=n,i=!1);e.nothingRequired=i,e.noProperties=!(e.attributes||e.classes||e.styles)}function p(e,t){var n,r,i,o,a,s=e.elements,l=e.generic;for(n=0,r=t.length;r>n;++n)if(i=Y(t[n]),a=i.classes===!0||i.styles===!0||i.attributes===!0,g(i),i.elements===!0||null===i.elements)l[a?"unshift":"push"](i);else{var c=i.elements;delete i.elements;for(o in c)s[o]?s[o][a?"unshift":"push"](i):s[o]=[i]}}function D(e){var t,n,r,i,o,a={},s=1;for(e=J(e);t=e.match(rt);)(n=t[2])?(r=I(n,"styles"),i=I(n,"attrs"),o=I(n,"classes")):r=i=o=null,a["$"+s++]={elements:t[1],classes:o,styles:r,attributes:i},e=e.slice(t[0].length);return a}function I(e,t){var n=e.match(it[t]);return n?J(n[1]):null}function R(e){var t=e.styleBackup=e.attributes.style,n=e.classBackup=e.attributes["class"];e.styles||(e.styles=CKEDITOR.tools.parseCssText(t||"",1)),e.classes||(e.classes=n?n.split(/\s+/):[])}function v(e,t,n,r){var i,o,a,s,l=decodeURIComponent(t.value.replace(/^\{cke_protected\}/,"")),c=[];if(n)for(a=0;a<n.length;++a)if((s=l.match(n[a]))&&s[0].length==l.length)return!0;return i=CKEDITOR.htmlParser.fragment.fromHtml(l),1==i.children.length&&(o=i.children[0]).type==CKEDITOR.NODE_ELEMENT&&K(e,o,c,r),!c.length}function K(e,t,n,r){var i,o,a=0;if(r.toHtml&&(t.name=t.name.replace(ot,"$1")),r.doCallbacks&&e.elementCallbacks&&(o=u(t,e.elementCallbacks)))return o;if(r.doTransform&&k(e,t),r.doFilter){if(i=E(e,t,r),!i)return n.push(t),G;if(!i.valid)return n.push(t),G;if(_(t,i)&&(a=G),!r.skipFinalValidation&&!S(t))return n.push(t),G}return r.toHtml&&(t.name=t.name.replace(at,"cke:$1")),a}function y(e){var t,n=[];for(t in e)t.indexOf("*")>-1&&n.push(t.replace(/\*/g,".*"));return n.length?new RegExp("^(?:"+n.join("|")+")$"):null}function b(e){e.elements=c(e.elements,/\s+/)||null,e.propertiesOnly=e.propertiesOnly||e.elements===!0;var t,n=/\s*,\s*/;for(t in tt)e[t]=c(e[t],n)||null,e[nt[t]]=d(c(e[nt[t]],n),e[t])||null;e.match=e.match||null}function k(e,t){var n,r=e._.transformations[t.name];if(r){for(R(t),n=0;n<r.length;++n)M(e,t,r[n]);N(t)}}function N(e){var t,n=e.attributes;delete n.style,delete n["class"],(t=CKEDITOR.tools.writeCssText(e.styles,!0))&&(n.style=t),e.classes.length&&(n["class"]=e.classes.sort().join(" "))}function _(e,t){var n,r,i,o=t.validAttributes,a=t.validStyles,s=t.validClasses,l=e.attributes,c=e.styles,u=e.classes,d=e.classBackup,E=e.styleBackup,f=[],h=[],m=/^data-cke-/,T=!1;if(delete l.style,delete l["class"],delete e.classBackup,delete e.styleBackup,!t.allAttributes)for(n in l)o[n]||(m.test(n)?n==(r=n.replace(/^data-cke-saved-/,""))||o[r]||(delete l[n],T=!0):(delete l[n],T=!0));if(!t.allStyles||t.hadInvalidStyle){for(n in c)t.allStyles||a[n]?f.push(n+":"+c[n]):T=!0;f.length&&(l.style=f.sort().join("; "))}else E&&(l.style=E);if(!t.allClasses||t.hadInvalidClass){for(i=0;i<u.length;++i)(t.allClasses||s[u[i]])&&h.push(u[i]);h.length&&(l["class"]=h.sort().join(" ")),d&&h.length<d.split(/\s+/).length&&(T=!0)}else d&&(l["class"]=d);return T}function S(e){switch(e.name){case"a":if(!(e.children.length||e.attributes.name||e.attributes.id))return!1;break;case"img":if(!e.attributes.src)return!1}return!0}function w(e){if(!e)return!1;if(e===!0)return!0;var t=y(e);return function(n){return n in e||t&&n.match(t)}}function A(e,t){for(var n,r=X[t],i=0,o=e.length;o>i;++i)if(n=e[i],n.type==CKEDITOR.NODE_ELEMENT&&!r[n.name])return!1;return!0}function x(){return new CKEDITOR.htmlParser.element("br")}function L(e){return e.type==CKEDITOR.NODE_TEXT||e.type==CKEDITOR.NODE_ELEMENT&&X.$inline[e.name]}function P(e){return e.type==CKEDITOR.NODE_ELEMENT&&("br"==e.name||X.$block[e.name])}function B(e,t,n){var r=e.name;X.$empty[r]||!e.children.length?"hr"==r&&"br"==t?e.replaceWith(x()):(e.parent&&n.push({check:"it",el:e.parent}),e.remove()):X.$block[r]||"tr"==r?"br"==t?$(e,n):F(e,t,n):r in{style:1,script:1}?e.remove():(e.parent&&n.push({check:"it",el:e.parent}),e.replaceWithChildren())}function F(e,t,n){var r=e.children;if(A(r,t))return e.name=t,e.attributes={},void n.push({check:"parent-down",el:e});var i,o,a,s,l=e.parent,c=l.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT||"body"==l.name;for(i=r.length;i>0;)o=r[--i],c&&L(o)?(a||(a=new CKEDITOR.htmlParser.element(t),a.insertAfter(e),n.push({check:"parent-down",el:a})),a.add(o,0)):(a=null,s=X[l.name]||X.span,o.insertAfter(e),l.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT||o.type!=CKEDITOR.NODE_ELEMENT||s[o.name]||n.push({check:"el-up",el:o}));e.remove()}function $(e){var t;e.previous&&!P(e.previous)&&(t=x(),t.insertBefore(e)),e.next&&!P(e.next)&&(t=x(),t.insertAfter(e)),e.replaceWithChildren()}function M(e,t,n){var r,i;for(r=0;r<n.length;++r)if(i=n[r],!(i.check&&!e.check(i.check,!1)||i.left&&!i.left(t)))return void i.right(t,et)}function q(e,t){var n,r,i,o,a,s=t.getDefinition(),l=s.attributes,c=s.styles;if(e.name!=s.element)return!1;for(n in l)if("class"==n){for(i=l[n].split(/\s+/),o=e.classes.join("|");a=i.pop();)if(-1==o.indexOf(a))return!1}else if(e.attributes[n]!=l[n])return!1;for(r in c)if(e.styles[r]!=c[r])return!1;return!0}function H(e,t){var n,r;return"string"==typeof e?n=e:e instanceof CKEDITOR.style?r=e:(n=e[0],r=e[1]),[{element:n,left:r,right:function(e,n){n.transform(e,t)}}]}function j(e,t){return e.element?e.element:t?t.match(/^([a-z0-9]+)/i)[0]:e.left.getDefinition().element}function U(e){return function(t){return q(t,e)}}function z(e){return function(t,n){n[e](t)}}function V(e){var t,n,r,i,o,a,s=[];for(n=0;n<e.length;++n)r=e[n],"string"==typeof r?(r=r.split(/\s*:\s*/),i=r[0],o=null,a=r[1]):(i=r.check,o=r.left,a=r.right),t||(t=j(r,i)),o instanceof CKEDITOR.style&&(o=U(o)),s.push({check:i==t?null:i,left:o,right:"string"==typeof a?z(a):a});return{name:t,rules:s}}var X=CKEDITOR.dtd,G=1,W=2,Y=CKEDITOR.tools.copy,J=CKEDITOR.tools.trim,Q="cke-test",Z=["","p","br","div"];CKEDITOR.FILTER_SKIP_TREE=W,CKEDITOR.filter=function(e,t){this.allowedContent=[],this.disallowedContent=[],this.elementCallbacks=null,this.disabled=!1,this.editor=null,this.id=CKEDITOR.tools.getNextNumber(),this._={allowedRules:{elements:{},generic:[]},disallowedRules:{elements:{},generic:[]},transformations:{},cachedTests:{},cachedChecks:{}},CKEDITOR.filter.instances[this.id]=this;var n=this.editor=e instanceof CKEDITOR.editor?e:null;if(n&&!t){this.customConfig=!0;var r=n.config.allowedContent;if(r===!0)return void(this.disabled=!0);r||(this.customConfig=!1),this.allow(r,"config",1),this.allow(n.config.extraAllowedContent,"extra",1),this.allow(Z[n.enterMode]+" "+Z[n.shiftEnterMode],"default",1),this.disallow(n.config.disallowedContent)}else this.customConfig=!1,this.allow(t||e,"default",1)},CKEDITOR.filter.instances={},CKEDITOR.filter.prototype={allow:function(t,n,r){if(!s(this,t,r))return!1;var i,o;if("string"==typeof t)t=D(t);else if(t instanceof CKEDITOR.style){if(t.toAllowedContentRules)return this.allow(t.toAllowedContentRules(this.editor),n,r);t=l(t)}else if(CKEDITOR.tools.isArray(t)){for(i=0;i<t.length;++i)o=this.allow(t[i],n,r);return o}return e(this,t,n,this.allowedContent,this._.allowedRules),!0},applyTo:function(e,t,n,r){if(this.disabled)return!1;var i,o=this,a=[],s=this.editor&&this.editor.config.protectedSource,l=!1,c={doFilter:!n,doTransform:!0,doCallbacks:!0,toHtml:t};e.forEach(function(e){if(e.type==CKEDITOR.NODE_ELEMENT){if("off"==e.attributes["data-cke-filter"])return!1;if(t&&"span"==e.name&&~CKEDITOR.tools.object.keys(e.attributes).join("|").indexOf("data-cke-"))return;if(i=K(o,e,a,c),i&G)l=!0;else if(i&W)return!1}else e.type==CKEDITOR.NODE_COMMENT&&e.value.match(/^\{cke_protected\}(?!\{C\})/)&&(v(o,e,s,c)||a.push(e))},null,!0),a.length&&(l=!0);for(var u,d,E,f,h=[],m=Z[r||(this.editor?this.editor.enterMode:CKEDITOR.ENTER_P)];u=a.pop();)u.type==CKEDITOR.NODE_ELEMENT?B(u,m,h):u.remove();for(;E=h.pop();)if(d=E.el,d.parent)switch(f=X[d.parent.name]||X.span,E.check){case"it":X.$removeEmpty[d.name]&&!d.children.length?B(d,m,h):S(d)||B(d,m,h);break;case"el-up":d.parent.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT||f[d.name]||B(d,m,h);break;case"parent-down":d.parent.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT||f[d.name]||B(d.parent,m,h)}return l},checkFeature:function(e){return this.disabled?!0:e?(e.toFeature&&(e=e.toFeature(this.editor)),!e.requiredContent||this.check(e.requiredContent)):!0},disable:function(){this.disabled=!0},disallow:function(t){return s(this,t,!0)?("string"==typeof t&&(t=D(t)),e(this,t,null,this.disallowedContent,this._.disallowedRules),!0):!1},addContentForms:function(e){if(!this.disabled&&e){var t,n,r,i=[];for(t=0;t<e.length&&!r;++t)n=e[t],("string"==typeof n||n instanceof CKEDITOR.style)&&this.check(n)&&(r=n);if(r){for(t=0;t<e.length;++t)i.push(H(e[t],r));this.addTransformations(i)}}},addElementCallback:function(e){this.elementCallbacks||(this.elementCallbacks=[]),this.elementCallbacks.push(e)},addFeature:function(e){return this.disabled?!0:e?(e.toFeature&&(e=e.toFeature(this.editor)),this.allow(e.allowedContent,e.name),this.addTransformations(e.contentTransformations),this.addContentForms(e.contentForms),e.requiredContent&&(this.customConfig||this.disallowedContent.length)?this.check(e.requiredContent):!0):!0},addTransformations:function(e){if(!this.disabled&&e){var t,n,r=this._.transformations;for(n=0;n<e.length;++n)t=V(e[n]),r[t.name]||(r[t.name]=[]),r[t.name].push(t.rules)}},check:function(e,t,n){if(this.disabled)return!0;if(CKEDITOR.tools.isArray(e)){for(var r=e.length;r--;)if(this.check(e[r],t,n))return!0;return!1}var i,o,a;if("string"==typeof e){if(a=e+"<"+(t===!1?"0":"1")+(n?"1":"0")+">",a in this._.cachedChecks)return this._.cachedChecks[a];i=m(e)}else i=T(e);var s,l=CKEDITOR.tools.clone(i),c=[];if(t!==!1&&(s=this._.transformations[i.name])){for(r=0;r<s.length;++r)M(this,i,s[r]);N(i)}if(K(this,l,c,{doFilter:!0,doTransform:t!==!1,skipRequired:!n,skipFinalValidation:!n}),c.length>0)o=!1;else{var u=i.attributes["class"];u&&(i.attributes["class"]=i.attributes["class"].split(" ").sort().join(" ")),o=CKEDITOR.tools.objectCompare(i.attributes,l.attributes,!0),u&&(i.attributes["class"]=u)}return"string"==typeof e&&(this._.cachedChecks[a]=o),o},getAllowedEnterMode:function(){var e=["p","div","br"],t={p:CKEDITOR.ENTER_P,div:CKEDITOR.ENTER_DIV,br:CKEDITOR.ENTER_BR};return function(n,r){var i,o=e.slice();if(this.check(Z[n]))return n;for(r||(o=o.reverse());i=o.pop();)if(this.check(i))return t[i];return CKEDITOR.ENTER_BR}}(),clone:function(){var e=new CKEDITOR.filter,t=CKEDITOR.tools.clone;return e.allowedContent=t(this.allowedContent),e._.allowedRules=t(this._.allowedRules),e.disallowedContent=t(this.disallowedContent),e._.disallowedRules=t(this._.disallowedRules),e._.transformations=t(this._.transformations),e.disabled=this.disabled,e.editor=this.editor,e},destroy:function(){delete CKEDITOR.filter.instances[this.id],delete this._,delete this.allowedContent,delete this.disallowedContent}};var et,tt={styles:1,attributes:1,classes:1},nt={styles:"requiredStyles",attributes:"requiredAttributes",classes:"requiredClasses"},rt=/^([a-z0-9\-*\s]+)((?:\s*\{[!\w\-,\s\*]+\}\s*|\s*\[[!\w\-,\s\*]+\]\s*|\s*\([!\w\-,\s\*]+\)\s*){0,3})(?:;\s*|$)/i,it={styles:/{([^}]+)}/,attrs:/\[([^\]]+)\]/,classes:/\(([^\)]+)\)/},ot=/^cke:(object|embed|param)$/,at=/^(object|embed|param)$/;et=CKEDITOR.filter.transformationsTools={sizeToStyle:function(e){this.lengthToStyle(e,"width"),this.lengthToStyle(e,"height")},sizeToAttribute:function(e){this.lengthToAttribute(e,"width"),this.lengthToAttribute(e,"height")},lengthToStyle:function(e,t,n){if(n=n||t,!(n in e.styles)){var r=e.attributes[t];r&&(/^\d+$/.test(r)&&(r+="px"),e.styles[n]=r)}delete e.attributes[t]},lengthToAttribute:function(e,t,n){if(n=n||t,!(n in e.attributes)){var r=e.styles[t],i=r&&r.match(/^(\d+)(?:\.\d*)?px$/);i?e.attributes[n]=i[1]:r==Q&&(e.attributes[n]=Q)}delete e.styles[t]},alignmentToStyle:function(e){if(!("float"in e.styles)){var t=e.attributes.align;("left"==t||"right"==t)&&(e.styles["float"]=t)}delete e.attributes.align},alignmentToAttribute:function(e){if(!("align"in e.attributes)){var t=e.styles["float"];("left"==t||"right"==t)&&(e.attributes.align=t)}delete e.styles["float"]},splitBorderShorthand:function(e){if(e.styles.border){var t=CKEDITOR.tools.style.parse.border(e.styles.border);t.color&&(e.styles["border-color"]=t.color),t.style&&(e.styles["border-style"]=t.style),t.width&&(e.styles["border-width"]=t.width),delete e.styles.border}},listTypeToStyle:function(e){if(e.attributes.type)switch(e.attributes.type){case"a":e.styles["list-style-type"]="lower-alpha";break;case"A":e.styles["list-style-type"]="upper-alpha";break;case"i":e.styles["list-style-type"]="lower-roman";break;case"I":e.styles["list-style-type"]="upper-roman";break;case"1":e.styles["list-style-type"]="decimal";break;default:e.styles["list-style-type"]=e.attributes.type}},splitMarginShorthand:function(e){function t(t){e.styles["margin-top"]=n[t[0]],e.styles["margin-right"]=n[t[1]],e.styles["margin-bottom"]=n[t[2]],e.styles["margin-left"]=n[t[3]]}if(e.styles.margin){var n=e.styles.margin.match(/(\-?[\.\d]+\w+)/g)||["0px"];switch(n.length){case 1:t([0,0,0,0]);break;case 2:t([0,1,0,1]);break;case 3:t([0,1,2,1]);break;case 4:t([0,1,2,3])}delete e.styles.margin}},matchesStyle:q,transform:function(e,t){if("string"==typeof t)e.name=t;else{var n,r,i,o,a,s=t.getDefinition(),l=s.styles,c=s.attributes;e.name=s.element;for(n in c)if("class"==n)for(i=e.classes.join("|"),o=c[n].split(/\s+/);a=o.pop();)-1==i.indexOf(a)&&e.classes.push(a);else e.attributes[n]=c[n];for(r in l)e.styles[r]=l[r]}}}}(),function(){CKEDITOR.focusManager=function(e){return e.focusManager?e.focusManager:(this.hasFocus=!1,this.currentActive=null,this._={editor:e},this)};var e="focusmanager",t="focusmanager_handlers";CKEDITOR.focusManager._={blurDelay:200},CKEDITOR.focusManager.prototype={focus:function(e){if(this._.timer&&clearTimeout(this._.timer),e&&(this.currentActive=e),!this.hasFocus&&!this._.locked){var t=CKEDITOR.currentInstance;t&&t.focusManager.blur(1),this.hasFocus=!0;var n=this._.editor.container;n&&n.addClass("cke_focus"),this._.editor.fire("focus")}},lock:function(){this._.locked=1},unlock:function(){delete this._.locked},blur:function(e){function t(){if(this.hasFocus){this.hasFocus=!1;var e=this._.editor.container;e&&e.removeClass("cke_focus"),this._.editor.fire("blur")}}if(!this._.locked){this._.timer&&clearTimeout(this._.timer);var n=CKEDITOR.focusManager._.blurDelay;e||!n?t.call(this):this._.timer=CKEDITOR.tools.setTimeout(function(){delete this._.timer,t.call(this)},n,this)}},add:function(n,r){var i=n.getCustomData(e);if(!i||i!=this){i&&i.remove(n);var o="focus",a="blur";r&&(CKEDITOR.env.ie?(o="focusin",a="focusout"):CKEDITOR.event.useCapture=1);var s={blur:function(){n.equals(this.currentActive)&&this.blur()},focus:function(){this.focus(n)}};n.on(o,s.focus,this),n.on(a,s.blur,this),r&&(CKEDITOR.event.useCapture=0),n.setCustomData(e,this),n.setCustomData(t,s)}},remove:function(n){n.removeCustomData(e);var r=n.removeCustomData(t);n.removeListener("blur",r.blur),n.removeListener("focus",r.focus)}}}(),CKEDITOR.keystrokeHandler=function(e){return e.keystrokeHandler?e.keystrokeHandler:(this.keystrokes={},this.blockedKeystrokes={},this._={editor:e},this)},function(){var e,t=function(t){t=t.data;var n=t.getKeystroke(),r=this.keystrokes[n],i=this._.editor;if(e=i.fire("key",{keyCode:n,domEvent:t})===!1,!e){if(r){var o={from:"keystrokeHandler"};e=i.execCommand(r,o)!==!1}e||(e=!!this.blockedKeystrokes[n])}return e&&t.preventDefault(!0),!e},n=function(t){e&&(e=!1,t.data.preventDefault(!0))};CKEDITOR.keystrokeHandler.prototype={attach:function(e){e.on("keydown",t,this),CKEDITOR.env.gecko&&CKEDITOR.env.mac&&e.on("keypress",n,this)}}}(),function(){CKEDITOR.lang={languages:{af:1,ar:1,az:1,bg:1,bn:1,bs:1,ca:1,cs:1,cy:1,da:1,de:1,"de-ch":1,el:1,"en-au":1,"en-ca":1,"en-gb":1,en:1,eo:1,es:1,"es-mx":1,et:1,eu:1,fa:1,fi:1,fo:1,"fr-ca":1,fr:1,gl:1,gu:1,he:1,hi:1,hr:1,hu:1,id:1,is:1,it:1,ja:1,ka:1,km:1,ko:1,ku:1,lt:1,lv:1,mk:1,mn:1,ms:1,nb:1,nl:1,no:1,oc:1,pl:1,"pt-br":1,pt:1,ro:1,ru:1,si:1,sk:1,sl:1,sq:1,"sr-latn":1,sr:1,sv:1,th:1,tr:1,tt:1,ug:1,uk:1,vi:1,"zh-cn":1,zh:1},rtl:{ar:1,fa:1,he:1,ku:1,ug:1},load:function(e,t,n){e&&CKEDITOR.lang.languages[e]||(e=this.detect(t,e));var r=this,i=function(){r[e].dir=r.rtl[e]?"rtl":"ltr",n(e,r[e])};this[e]?i():CKEDITOR.scriptLoader.load(CKEDITOR.getUrl("lang/"+e+".js"),i,this)},detect:function(e,t){var n=this.languages;t=t||navigator.userLanguage||navigator.language||e;var r=t.toLowerCase().match(/([a-z]+)(?:-([a-z]+))?/),i=r[1],o=r[2];return n[i+"-"+o]?i=i+"-"+o:n[i]||(i=null),CKEDITOR.lang.detect=i?function(){return i}:function(e){return e},i||e}}}(),CKEDITOR.scriptLoader=function(){var e={},t={};return{load:function(n,r,i,o){function a(e){e.$.onload=null,e.$.onerror=null
}var s="string"==typeof n;s&&(n=[n]),i||(i=CKEDITOR);var l=n.length,c=[],u=[],d=function(e){r&&(s?r.call(i,e):r.call(i,c,u))};if(0===l)return void d(!0);var E=function(e,t){(t?c:u).push(e),--l<=0&&(o&&CKEDITOR.document.getDocumentElement().removeStyle("cursor"),d(t))},f=function(n,r){e[n]=1;var i=t[n];delete t[n];for(var o=0;o<i.length;o++)i[o](n,r)},h=function(n){if(e[n])return void E(n,!0);var i=t[n]||(t[n]=[]);if(i.push(E),!(i.length>1)){var o=new CKEDITOR.dom.element("script");o.setAttributes({type:"text/javascript",src:n}),r&&(CKEDITOR.env.ie&&(CKEDITOR.env.version<=8||CKEDITOR.env.ie9Compat)?o.$.onreadystatechange=function(){("loaded"==o.$.readyState||"complete"==o.$.readyState)&&(o.$.onreadystatechange=null,f(n,!0))}:(o.$.onload=function(){setTimeout(function(){a(o),f(n,!0)},0)},o.$.onerror=function(){a(o),f(n,!1)})),o.appendTo(CKEDITOR.document.getHead())}};o&&CKEDITOR.document.getDocumentElement().setStyle("cursor","wait");for(var m=0;l>m;m++)h(n[m])},queue:function(){function e(){var e;(e=t[0])&&this.load(e.scriptUrl,e.callback,CKEDITOR,0)}var t=[];return function(n,r){function i(){r&&r.apply(this,arguments),t.shift(),e.call(o)}var o=this;t.push({scriptUrl:n,callback:i}),1==t.length&&e.call(this)}}()}}(),CKEDITOR.resourceManager=function(e,t){this.basePath=e,this.fileName=t,this.registered={},this.loaded={},this.externals={},this._={waitingList:{}}},CKEDITOR.resourceManager.prototype={add:function(e,t){if(this.registered[e])throw new Error('[CKEDITOR.resourceManager.add] The resource name "'+e+'" is already registered.');var n=this.registered[e]=t||{};return n.name=e,n.path=this.getPath(e),CKEDITOR.fire(e+CKEDITOR.tools.capitalize(this.fileName)+"Ready",n),this.get(e)},get:function(e){return this.registered[e]||null},getPath:function(e){var t=this.externals[e];return CKEDITOR.getUrl(t&&t.dir||this.basePath+e+"/")},getFilePath:function(e){var t=this.externals[e];return CKEDITOR.getUrl(this.getPath(e)+(t?t.file:this.fileName+".js"))},addExternal:function(e,t,n){n||(t=t.replace(/[^\/]+$/,function(e){return n=e,""})),n=n||this.fileName+".js",e=e.split(",");for(var r=0;r<e.length;r++){var i=e[r];this.externals[i]={dir:t,file:n}}},load:function(e,t,n){CKEDITOR.tools.isArray(e)||(e=e?[e]:[]);for(var r=this.loaded,i=this.registered,o=[],a={},s={},l=0;l<e.length;l++){var c=e[l];if(c)if(r[c]||i[c])s[c]=this.get(c);else{var u=this.getFilePath(c);o.push(u),u in a||(a[u]=[]),a[u].push(c)}}CKEDITOR.scriptLoader.load(o,function(e,i){if(i.length)throw new Error('[CKEDITOR.resourceManager.load] Resource name "'+a[i[0]].join(",")+'" was not found at "'+i[0]+'".');for(var o=0;o<e.length;o++)for(var l=a[e[o]],c=0;c<l.length;c++){var u=l[c];s[u]=this.get(u),r[u]=1}t.call(n,s)},this)}},CKEDITOR.plugins=new CKEDITOR.resourceManager("plugins/","plugin"),CKEDITOR.plugins.load=CKEDITOR.tools.override(CKEDITOR.plugins.load,function(e){var t={};return function(n,r,i){var o={},a=function(n){e.call(this,n,function(e){CKEDITOR.tools.extend(o,e);var n=[];for(var s in e){var l=e[s],c=l&&l.requires;if(!t[s]){if(l.icons)for(var u=l.icons.split(","),d=u.length;d--;)CKEDITOR.skin.addIcon(u[d],l.path+"icons/"+(CKEDITOR.env.hidpi&&l.hidpi?"hidpi/":"")+u[d]+".png");l.isSupportedEnvironment=l.isSupportedEnvironment||function(){return!0},t[s]=1}if(c){c.split&&(c=c.split(","));for(var E=0;E<c.length;E++)o[c[E]]||n.push(c[E])}}if(n.length)a.call(this,n);else{for(s in o)l=o[s],l.onLoad&&!l.onLoad._called&&(l.onLoad()===!1&&delete o[s],l.onLoad._called=1);r&&r.call(i||window,o)}},this)};a.call(this,n)}}),CKEDITOR.plugins.setLang=function(e,t,n){var r=this.get(e),i=r.langEntries||(r.langEntries={}),o=r.lang||(r.lang=[]);o.split&&(o=o.split(",")),-1==CKEDITOR.tools.indexOf(o,t)&&o.push(t),i[t]=n},CKEDITOR.ui=function(e){return e.ui?e.ui:(this.items={},this.instances={},this.editor=e,this._={handlers:{}},this)},CKEDITOR.ui.prototype={add:function(e,t,n){n.name=e.toLowerCase();var r=this.items[e]={type:t,command:n.command||null,args:Array.prototype.slice.call(arguments,2)};CKEDITOR.tools.extend(r,n)},get:function(e){return this.instances[e]},create:function(e){var t=this.items[e],n=t&&this._.handlers[t.type],r=t&&t.command&&this.editor.getCommand(t.command),i=n&&n.create.apply(this,t.args);return this.instances[e]=i,r&&r.uiItems.push(i),i&&!i.type&&(i.type=t.type),i},addHandler:function(e,t){this._.handlers[e]=t},space:function(e){return CKEDITOR.document.getById(this.spaceId(e))},spaceId:function(e){return this.editor.id+"_"+e}},CKEDITOR.event.implementOn(CKEDITOR.ui),function(){function e(e,i,a){if(CKEDITOR.event.call(this),e=e&&CKEDITOR.tools.clone(e),void 0!==i){if(!(i instanceof CKEDITOR.dom.element))throw new Error("Expect element of type CKEDITOR.dom.element.");if(!a)throw new Error("One of the element modes must be specified.");if(CKEDITOR.env.ie&&CKEDITOR.env.quirks&&a==CKEDITOR.ELEMENT_MODE_INLINE)throw new Error("Inline element mode is not supported on IE quirks.");if(!n(i,a))throw new Error('The specified element mode is not supported on element: "'+i.getName()+'".');this.element=i,this.elementMode=a,this.name=this.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO&&(i.getId()||i.getNameAtt())}else this.elementMode=CKEDITOR.ELEMENT_MODE_NONE;this._={},this.commands={},this.templates={},this.name=this.name||t(),this.id=CKEDITOR.tools.getNextId(),this.status="unloaded",this.config=CKEDITOR.tools.prototypedCopy(CKEDITOR.config),this.ui=new CKEDITOR.ui(this),this.focusManager=new CKEDITOR.focusManager(this),this.keystrokeHandler=new CKEDITOR.keystrokeHandler(this),this.on("readOnly",r),this.on("selectionChange",function(e){o(this,e.data.path)}),this.on("activeFilterChange",function(){o(this,this.elementPath(),!0)}),this.on("mode",r),CKEDITOR.dom.selection.setupEditorOptimization(this),this.on("instanceReady",function(){if(this.config.startupFocus){if("end"===this.config.startupFocus){var e=this.createRange();e.selectNodeContents(this.editable()),e.shrink(CKEDITOR.SHRINK_ELEMENT,!0),e.collapse(),this.getSelection().selectRanges([e])}this.focus()}}),CKEDITOR.fire("instanceCreated",null,this),CKEDITOR.add(this),CKEDITOR.tools.setTimeout(function(){this.isDestroyed()||this.isDetached()||s(this,e)},0,this)}function t(){do var e="editor"+ ++C;while(CKEDITOR.instances[e]);return e}function n(e,t){return t==CKEDITOR.ELEMENT_MODE_INLINE?e.is(CKEDITOR.dtd.$editable)||e.is("textarea"):t==CKEDITOR.ELEMENT_MODE_REPLACE?!e.is(CKEDITOR.dtd.$nonBodyContent):1}function r(){var e,t=this.commands;for(e in t)i(this,t[e])}function i(e,t){t[t.startDisabled?"disable":e.readOnly&&!t.readOnly?"disable":t.modes[e.mode]?"enable":"disable"]()}function o(e,t,n){if(t){var r,i,o=e.commands;for(i in o)r=o[i],(n||r.contextSensitive)&&r.refresh(e,t)}}function a(e){var t=e.config.customConfig;if(!t)return!1;t=CKEDITOR.getUrl(t);var n=O[t]||(O[t]={});return n.fn?(n.fn.call(e,e.config),CKEDITOR.getUrl(e.config.customConfig)!=t&&a(e)||e.fireOnce("customConfigLoaded")):CKEDITOR.scriptLoader.queue(t,function(){n.fn=n.fn||CKEDITOR.editorConfig||function(){},a(e)}),!0}function s(e,t){e.on("customConfigLoaded",function(){if(t){if(t.on)for(var n in t.on)e.on(n,t.on[n]);CKEDITOR.tools.extend(e.config,t,!0),delete e.config.on}l(e)}),t&&null!=t.customConfig&&(e.config.customConfig=t.customConfig),a(e)||e.fireOnce("customConfigLoaded")}function l(e){function t(){return n.readOnly?!0:e.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?e.element.is("textarea")?e.element.hasAttribute("disabled")||e.element.hasAttribute("readonly"):e.element.isReadOnly():e.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE?e.element.hasAttribute("disabled")||e.element.hasAttribute("readonly"):!1}var n=e.config;e.readOnly=t(),e.blockless=e.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?!(e.element.is("textarea")||CKEDITOR.dtd[e.element.getName()].p):!1,e.tabIndex=n.tabIndex||e.element&&e.element.getAttribute("tabindex")||0,e.activeEnterMode=e.enterMode=m(e,n.enterMode),e.activeShiftEnterMode=e.shiftEnterMode=m(e,n.shiftEnterMode),n.skin&&(CKEDITOR.skinName=n.skin),e.fireOnce("configLoaded"),c(e)}function c(e){e.dataProcessor=new CKEDITOR.htmlDataProcessor(e),e.filter=e.activeFilter=new CKEDITOR.filter(e),u(e)}function u(e){CKEDITOR.skin.loadPart("editor",function(){d(e)})}function d(e){CKEDITOR.lang.load(e.config.language,e.config.defaultLanguage,function(t,n){var r=e.config.title;e.langCode=t,e.lang=CKEDITOR.tools.prototypedCopy(n),e.title="string"==typeof r||r===!1?r:[e.lang.editor,e.name].join(", "),e.config.contentsLangDirection||(e.config.contentsLangDirection=e.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?e.element.getDirection(1):e.lang.dir),e.fire("langLoaded"),E(e)})}function E(e){e.getStylesSet(function(t){e.once("loaded",function(){e.fire("stylesSet",{styles:t})},null,null,1),f(e)})}function f(e){function t(e){return e?(CKEDITOR.tools.isArray(e)&&(e=e.join(",")),e.replace(/\s/g,"")):""}var n=e.config,r=t(n.plugins),i=t(n.extraPlugins),o=t(n.removePlugins);if(i){var a=new RegExp("(?:^|,)(?:"+i.replace(/,/g,"|")+")(?=,|$)","g");r=r.replace(a,""),r+=","+i}if(o){var s=new RegExp("(?:^|,)(?:"+o.replace(/,/g,"|")+")(?=,|$)","g");r=r.replace(s,"")}CKEDITOR.env.air&&(r+=",adobeair"),CKEDITOR.plugins.load(r.split(","),function(t){var r=[],i=[],o=[];e.plugins=CKEDITOR.tools.extend({},e.plugins,t);for(var a in t){var l,c,u=t[a],d=u.lang,E=null,f=u.requires;if(CKEDITOR.tools.isArray(f)&&(f=f.join(",")),f&&(l=f.match(s)))for(;c=l.pop();)CKEDITOR.error("editor-plugin-required",{plugin:c.replace(",",""),requiredBy:a});if(d&&!e.lang[a]){if(d.split&&(d=d.split(",")),CKEDITOR.tools.indexOf(d,e.langCode)>=0)E=e.langCode;else{var h=e.langCode.replace(/-.*/,"");E=h!=e.langCode&&CKEDITOR.tools.indexOf(d,h)>=0?h:CKEDITOR.tools.indexOf(d,"en")>=0?"en":d[0]}u.langEntries&&u.langEntries[E]?(e.lang[a]=u.langEntries[E],E=null):o.push(CKEDITOR.getUrl(u.path+"lang/"+E+".js"))}i.push(E),r.push(u)}CKEDITOR.scriptLoader.load(o,function(){if(!e.isDestroyed()&&!e.isDetached()){for(var t=["beforeInit","init","afterInit"],o=0;o<t.length;o++)for(var a=0;a<r.length;a++){var s=r[a];0===o&&i[a]&&s.lang&&s.langEntries&&(e.lang[s.name]=s.langEntries[i[a]]),s[t[o]]&&s[t[o]](e)}for(e.fireOnce("pluginsLoaded"),n.keystrokes&&e.setKeystroke(e.config.keystrokes),a=0;a<e.config.blockedKeystrokes.length;a++)e.keystrokeHandler.blockedKeystrokes[e.config.blockedKeystrokes[a]]=1;e.status="loaded",e.fireOnce("loaded"),CKEDITOR.fire("instanceLoaded",null,e)}})})}function h(){var e=this.element;if(e&&this.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO){var t=this.getData();return this.config.htmlEncodeOutput&&(t=CKEDITOR.tools.htmlEncode(t)),e.is("textarea")?e.setValue(t):e.setHtml(t),!0}return!1}function m(e,t){return e.blockless?CKEDITOR.ENTER_BR:t}function T(e,t){function n(e){var t=e.startContainer,n=e.endContainer;return t.is&&(t.is("tr")||t.is("td")&&t.equals(n)&&e.endOffset===t.getChildCount())?!0:!1}function r(e){var t=e.startContainer;return t.is("tr")?e.cloneContents():t.clone(!0)}for(var i,o,a,s=new CKEDITOR.dom.documentFragment,l=0;l<e.length;l++){var c=e[l],u=c.startContainer.getAscendant("tr",!0);n(c)?(i||(i=u.getAscendant("table").clone(),i.append(u.getAscendant({thead:1,tbody:1,tfoot:1}).clone()),s.append(i),i=i.findOne("thead, tbody, tfoot")),o&&o.equals(u)||(o=u,a=u.clone(),i.append(a)),a.append(r(c))):s.append(c.cloneContents())}return i?s:t.getHtmlFromRange(e[0])}e.prototype=CKEDITOR.editor.prototype,CKEDITOR.editor=e;var C=0,O={};CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{plugins:{detectConflict:function(e,t){for(var n=0;n<t.length;n++){var r=t[n];if(this[r])return CKEDITOR.warn("editor-plugin-conflict",{plugin:e,replacedWith:r}),!0}return!1}},addCommand:function(e,t){t.name=e.toLowerCase();var n=t instanceof CKEDITOR.command?t:new CKEDITOR.command(this,t);return this.mode&&i(this,n),this.commands[e]=n},_attachToForm:function(){function e(e){n.updateElement(),n._.required&&!r.getValue()&&n.fire("required")===!1&&e.data.preventDefault()}function t(e){return!!(e&&e.call&&e.apply)}var n=this,r=n.element,i=new CKEDITOR.dom.element(r.$.form);r.is("textarea")&&i&&(i.on("submit",e),t(i.$.submit)&&(i.$.submit=CKEDITOR.tools.override(i.$.submit,function(t){return function(){e(),t.apply?t.apply(this):t()}})),n.on("destroy",function(){i.removeListener("submit",e)}))},destroy:function(e){var t=CKEDITOR.filter.instances,n=this;this.fire("beforeDestroy"),!e&&h.call(this),this.editable(null),this.filter&&delete this.filter,CKEDITOR.tools.array.forEach(CKEDITOR.tools.object.keys(t),function(e){var r=t[e];n===r.editor&&r.destroy()}),delete this.activeFilter,this.status="destroyed",this.fire("destroy"),this.removeAllListeners(),CKEDITOR.remove(this),CKEDITOR.fire("instanceDestroyed",null,this)},elementPath:function(e){if(!e){var t=this.getSelection();if(!t)return null;e=t.getStartElement()}return e?new CKEDITOR.dom.elementPath(e,this.editable()):null},createRange:function(){var e=this.editable();return e?new CKEDITOR.dom.range(e):null},execCommand:function(e,t){var n=this.getCommand(e),r={name:e,commandData:t||{},command:n};return n&&n.state!=CKEDITOR.TRISTATE_DISABLED&&this.fire("beforeCommandExec",r)!==!1&&(r.returnValue=n.exec(r.commandData),!n.async&&this.fire("afterCommandExec",r)!==!1)?r.returnValue:!1},getCommand:function(e){return this.commands[e]},getData:function(e){!e&&this.fire("beforeGetData");var t=this._.data;if("string"!=typeof t){var n=this.element;t=n&&this.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE?n.is("textarea")?n.getValue():n.getHtml():""}return t={dataValue:t},!e&&this.fire("getData",t),t.dataValue},getSnapshot:function(){var e=this.fire("getSnapshot");if("string"!=typeof e){var t=this.element;e=t&&this.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE?t.is("textarea")?t.getValue():t.getHtml():""}return e},loadSnapshot:function(e){this.fire("loadSnapshot",e)},setData:function(e,t,n){var r,i=!0,o=t;t&&"object"==typeof t&&(n=t.internal,o=t.callback,i=!t.noSnapshot),!n&&i&&this.fire("saveSnapshot"),(o||!n)&&this.once("dataReady",function(e){!n&&i&&this.fire("saveSnapshot"),o&&o.call(e.editor)}),r={dataValue:e},!n&&this.fire("setData",r),this._.data=r.dataValue,!n&&this.fire("afterSetData",r)},setReadOnly:function(e){e=null==e||e,this.readOnly!=e&&(this.readOnly=e,this.keystrokeHandler.blockedKeystrokes[8]=+e,this.editable().setReadOnly(e),this.fire("readOnly"))},insertHtml:function(e,t,n){this.fire("insertHtml",{dataValue:e,mode:t,range:n})},insertText:function(e){this.fire("insertText",e)},insertElement:function(e){this.fire("insertElement",e)},getSelectedHtml:function(e){var t=this.editable(),n=this.getSelection(),r=n&&n.getRanges();if(!t||!r||0===r.length)return null;var i=T(r,t);return e?i.getHtml():i},extractSelectedHtml:function(e,t){var n,r=this.editable(),i=this.getSelection().getRanges(),o=new CKEDITOR.dom.documentFragment;if(!r||0===i.length)return null;for(n=0;n<i.length;n++)o.append(r.extractHtmlFromRange(i[n],t));return t||this.getSelection().selectRanges([i[0]]),e?o.getHtml():o},focus:function(){this.fire("beforeFocus")},checkDirty:function(){return"ready"==this.status&&this._.previousValue!==this.getSnapshot()},resetDirty:function(){this._.previousValue=this.getSnapshot()},updateElement:function(){return h.call(this)},setKeystroke:function(){for(var e,t,n=this.keystrokeHandler.keystrokes,r=CKEDITOR.tools.isArray(arguments[0])?arguments[0]:[[].slice.call(arguments,0)],i=r.length;i--;)e=r[i],t=0,CKEDITOR.tools.isArray(e)&&(t=e[1],e=e[0]),t?n[e]=t:delete n[e]},getCommandKeystroke:function(e,t){var n="string"==typeof e?this.getCommand(e):e,r=[];if(n){var i=CKEDITOR.tools.object.findKey(this.commands,n),o=this.keystrokeHandler.keystrokes;if(n.fakeKeystroke)r.push(n.fakeKeystroke);else for(var a in o)o[a]===i&&r.push(a)}return t?r:r[0]||null},addFeature:function(e){return this.filter.addFeature(e)},setActiveFilter:function(e){e||(e=this.filter),this.activeFilter!==e&&(this.activeFilter=e,this.fire("activeFilterChange"),e===this.filter?this.setActiveEnterMode(null,null):this.setActiveEnterMode(e.getAllowedEnterMode(this.enterMode),e.getAllowedEnterMode(this.shiftEnterMode,!0)))},setActiveEnterMode:function(e,t){e=e?m(this,e):this.enterMode,t=t?m(this,t):this.shiftEnterMode,(this.activeEnterMode!=e||this.activeShiftEnterMode!=t)&&(this.activeEnterMode=e,this.activeShiftEnterMode=t,this.fire("activeEnterModeChange"))},showNotification:function(e){alert(e)},isDetached:function(){return!!this.container&&this.container.isDetached()},isDestroyed:function(){return"destroyed"===this.status}}),CKEDITOR.editor._getEditorElement=function(e){if(!CKEDITOR.env.isCompatible)return null;var t=CKEDITOR.dom.element.get(e);return t?t.getEditor()?(CKEDITOR.error("editor-element-conflict",{editorName:t.getEditor().name}),null):t:(CKEDITOR.error("editor-incorrect-element",{element:e}),null)}}(),CKEDITOR.ELEMENT_MODE_NONE=0,CKEDITOR.ELEMENT_MODE_REPLACE=1,CKEDITOR.ELEMENT_MODE_APPENDTO=2,CKEDITOR.ELEMENT_MODE_INLINE=3,CKEDITOR.htmlParser=function(){this._={htmlPartsRegex:/<(?:(?:\/([^>]+)>)|(?:!--([\S|\s]*?)-->)|(?:([^\/\s>]+)((?:\s+[\w\-:.]+(?:\s*=\s*?(?:(?:"[^"]*")|(?:'[^']*')|[^\s"'\/>]+))?)*)[\S\s]*?(\/?)>))/g}},function(){var e=/([\w\-:.]+)(?:(?:\s*=\s*(?:(?:"([^"]*)")|(?:'([^']*)')|([^\s>]+)))|(?=\s|$))/g,t={checked:1,compact:1,declare:1,defer:1,disabled:1,ismap:1,multiple:1,nohref:1,noresize:1,noshade:1,nowrap:1,readonly:1,selected:1};CKEDITOR.htmlParser.prototype={onTagOpen:function(){},onTagClose:function(){},onText:function(){},onCDATA:function(){},onComment:function(){},parse:function(n){for(var r,i,o,a=0;r=this._.htmlPartsRegex.exec(n);){var s=r.index;if(s>a){var l=n.substring(a,s);o?o.push(l):this.onText(l)}if(a=this._.htmlPartsRegex.lastIndex,!(i=r[1])||(i=i.toLowerCase(),o&&CKEDITOR.dtd.$cdata[i]&&(this.onCDATA(o.join("")),o=null),o))if(o)o.push(r[0]);else if(i=r[3]){if(i=i.toLowerCase(),/="/.test(i))continue;var c,u={},d=r[4],E=!!r[5];if(d)for(;c=e.exec(d);){var f=c[1].toLowerCase(),h=c[2]||c[3]||c[4]||"";u[f]=!h&&t[f]?f:CKEDITOR.tools.htmlDecodeAttr(h)}this.onTagOpen(i,u,E),!o&&CKEDITOR.dtd.$cdata[i]&&(o=[])}else(i=r[2])&&this.onComment(i);else this.onTagClose(i)}n.length>a&&this.onText(n.substring(a,n.length))}}}(),CKEDITOR.htmlParser.basicWriter=CKEDITOR.tools.createClass({$:function(){this._={output:[]}},proto:{openTag:function(e){this._.output.push("<",e)},openTagClose:function(e,t){this._.output.push(t?" />":">")},attribute:function(e,t){"string"==typeof t&&(t=CKEDITOR.tools.htmlEncodeAttr(t)),this._.output.push(" ",e,'="',t,'"')},closeTag:function(e){this._.output.push("</",e,">")},text:function(e){this._.output.push(e)},comment:function(e){this._.output.push("<!--",e,"-->")},write:function(e){this._.output.push(e)},reset:function(){this._.output=[],this._.indent=!1},getHtml:function(e){var t=this._.output.join("");return e&&this.reset(),t}}}),function(){CKEDITOR.htmlParser.node=function(){},CKEDITOR.htmlParser.node.prototype={remove:function(){var e=this.parent.children,t=CKEDITOR.tools.indexOf(e,this),n=this.previous,r=this.next;n&&(n.next=r),r&&(r.previous=n),e.splice(t,1),this.parent=null},replaceWith:function(e){var t=this.parent.children,n=CKEDITOR.tools.indexOf(t,this),r=e.previous=this.previous,i=e.next=this.next;r&&(r.next=e),i&&(i.previous=e),t[n]=e,e.parent=this.parent,this.parent=null},insertAfter:function(e){var t=e.parent.children,n=CKEDITOR.tools.indexOf(t,e),r=e.next;t.splice(n+1,0,this),this.next=e.next,this.previous=e,e.next=this,r&&(r.previous=this),this.parent=e.parent},insertBefore:function(e){var t=e.parent.children,n=CKEDITOR.tools.indexOf(t,e);t.splice(n,0,this),this.next=e,this.previous=e.previous,e.previous&&(e.previous.next=this),e.previous=this,this.parent=e.parent},getAscendant:function(e){for(var t=("function"==typeof e?e:"string"==typeof e?function(t){return t.name==e}:function(t){return t.name in e}),n=this.parent;n&&n.type==CKEDITOR.NODE_ELEMENT;){if(t(n))return n;n=n.parent}return null},wrapWith:function(e){return this.replaceWith(e),e.add(this),e},getIndex:function(){return CKEDITOR.tools.indexOf(this.parent.children,this)},getFilterContext:function(e){return e||{}}}}(),CKEDITOR.htmlParser.comment=function(e){this.value=e,this._={isBlockLike:!1}},CKEDITOR.htmlParser.comment.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_COMMENT,filter:function(e,t){var n=this.value;return(n=e.onComment(t,n,this))?"string"!=typeof n?(this.replaceWith(n),!1):(this.value=n,!0):(this.remove(),!1)},writeHtml:function(e,t){t&&this.filter(t),e.comment(this.value)}}),function(){CKEDITOR.htmlParser.text=function(e){this.value=e,this._={isBlockLike:!1}},CKEDITOR.htmlParser.text.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_TEXT,filter:function(e,t){return(this.value=e.onText(t,this.value,this))?void 0:(this.remove(),!1)},writeHtml:function(e,t){t&&this.filter(t),e.text(this.value)}})}(),function(){CKEDITOR.htmlParser.cdata=function(e){this.value=e},CKEDITOR.htmlParser.cdata.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_TEXT,filter:function(){},writeHtml:function(e){e.write(this.value)}})}(),CKEDITOR.htmlParser.fragment=function(){this.children=[],this.parent=null,this._={isBlockLike:!0,hasInlineStarted:!1}},function(){function e(e){return e.attributes["data-cke-survive"]?!1:"a"==e.name&&e.attributes.href||CKEDITOR.dtd.$removeEmpty[e.name]}var t=CKEDITOR.tools.extend({table:1,ul:1,ol:1,dl:1},CKEDITOR.dtd.table,CKEDITOR.dtd.ul,CKEDITOR.dtd.ol,CKEDITOR.dtd.dl),n={ol:1,ul:1},r=CKEDITOR.tools.extend({},{html:1},CKEDITOR.dtd.html,CKEDITOR.dtd.body,CKEDITOR.dtd.head,{style:1,script:1}),i={ul:"li",ol:"li",dl:"dd",table:"tbody",tbody:"tr",thead:"tr",tfoot:"tr",tr:"td"};CKEDITOR.htmlParser.fragment.fromHtml=function(o,a,s){function l(e){var t;if(T.length>0)for(var n=0;n<T.length;n++){var r=T[n],i=r.name,o=CKEDITOR.dtd[i],a=O.name&&CKEDITOR.dtd[O.name];a&&!a[i]||e&&o&&!o[e]&&CKEDITOR.dtd[e]?i==O.name&&(d(O,O.parent,1),n--):(t||(c(),t=1),r=r.clone(),r.parent=O,O=r,T.splice(n,1),n--)}}function c(){for(;C.length;)d(C.shift(),O)}function u(e){if(e._.isBlockLike&&"pre"!=e.name&&"textarea"!=e.name){var t,n=e.children.length,r=e.children[n-1];r&&r.type==CKEDITOR.NODE_TEXT&&((t=CKEDITOR.tools.rtrim(r.value))?r.value=t:e.children.length=n-1)}}function d(t,n,r){n=n||O||m;var i=O;void 0===t.previous&&(E(n,t)&&(O=n,h.onTagOpen(s,{}),t.returnPoint=n=O),u(t),(!e(t)||t.children.length)&&n.add(t),"pre"==t.name&&(p=!1),"textarea"==t.name&&(g=!1)),t.returnPoint?(O=t.returnPoint,delete t.returnPoint):O=r?n:i}function E(e,t){if((e==m||"body"==e.name)&&s&&(!e.name||CKEDITOR.dtd[e.name][s])){var n,r;return n=t.attributes&&(r=t.attributes["data-cke-real-element-type"])?r:t.name,n&&n in CKEDITOR.dtd.$inline&&!(n in CKEDITOR.dtd.head)&&!t.isOrphan||t.type==CKEDITOR.NODE_TEXT}}function f(e,t){return e in CKEDITOR.dtd.$listItem||e in CKEDITOR.dtd.$tableContent?e==t||"dt"==e&&"dd"==t||"dd"==e&&"dt"==t:!1}var h=new CKEDITOR.htmlParser,m=a instanceof CKEDITOR.htmlParser.element?a:"string"==typeof a?new CKEDITOR.htmlParser.element(a):new CKEDITOR.htmlParser.fragment,T=[],C=[],O=m,g="textarea"==m.name,p="pre"==m.name;h.onTagOpen=function(i,o,a,s){var u=new CKEDITOR.htmlParser.element(i,o);if(u.isUnknown&&a&&(u.isEmpty=!0),u.isOptionalClose=s,e(u))return void T.push(u);if("pre"==i)p=!0;else{if("br"==i&&p)return void O.add(new CKEDITOR.htmlParser.text("\n"));"textarea"==i&&(g=!0)}if("br"==i)return void C.push(u);for(;;){var E=O.name,m=E?CKEDITOR.dtd[E]||(O._.isBlockLike?CKEDITOR.dtd.div:CKEDITOR.dtd.span):r;if(u.isUnknown||O.isUnknown||m[i])break;if(O.isOptionalClose)h.onTagClose(E);else if(i in n&&E in n){var D=O.children,I=D[D.length-1];I&&"li"==I.name||d(I=new CKEDITOR.htmlParser.element("li"),O),!u.returnPoint&&(u.returnPoint=O),O=I}else if(i in CKEDITOR.dtd.$listItem&&!f(i,E))h.onTagOpen("li"==i?"ul":"dl",{},0,1);else if(E in t&&!f(i,E))!u.returnPoint&&(u.returnPoint=O),O=O.parent;else{if(E in CKEDITOR.dtd.$inline&&T.unshift(O),!O.parent){u.isOrphan=1;break}d(O,O.parent,1)}}l(i),c(),u.parent=O,u.isEmpty?d(u):O=u},h.onTagClose=function(e){for(var t=T.length-1;t>=0;t--)if(e==T[t].name)return void T.splice(t,1);for(var n=[],r=[],i=O;i!=m&&i.name!=e;)i._.isBlockLike||r.unshift(i),n.push(i),i=i.returnPoint||i.parent;if(i!=m){for(t=0;t<n.length;t++){var o=n[t];d(o,o.parent)}O=i,i._.isBlockLike&&c(),d(i,i.parent),i==O&&(O=O.parent),T=T.concat(r)}"body"==e&&(s=!1)},h.onText=function(e){if(O._.hasInlineStarted&&!C.length||p||g||(e=CKEDITOR.tools.ltrim(e),0!==e.length)){var n=O.name,o=n?CKEDITOR.dtd[n]||(O._.isBlockLike?CKEDITOR.dtd.div:CKEDITOR.dtd.span):r;if(!g&&!o["#"]&&n in t)return h.onTagOpen(i[n]||""),void h.onText(e);c(),l(),p||g||(e=e.replace(/[\t\r\n ]{2,}|[\t\r\n]/g," ")),e=new CKEDITOR.htmlParser.text(e),E(O,e)&&this.onTagOpen(s,{},0,1),O.add(e)}},h.onCDATA=function(e){O.add(new CKEDITOR.htmlParser.cdata(e))},h.onComment=function(e){c(),l(),O.add(new CKEDITOR.htmlParser.comment(e))},h.parse(o),c();for(;O!=m;)d(O,O.parent,1);return u(m),m},CKEDITOR.htmlParser.fragment.prototype={type:CKEDITOR.NODE_DOCUMENT_FRAGMENT,add:function(e,t){isNaN(t)&&(t=this.children.length);var n=t>0?this.children[t-1]:null;if(n){if(e._.isBlockLike&&n.type==CKEDITOR.NODE_TEXT&&(n.value=CKEDITOR.tools.rtrim(n.value),0===n.value.length))return this.children.pop(),void this.add(e);n.next=e}e.previous=n,e.parent=this,this.children.splice(t,0,e),this._.hasInlineStarted||(this._.hasInlineStarted=e.type==CKEDITOR.NODE_TEXT||e.type==CKEDITOR.NODE_ELEMENT&&!e._.isBlockLike)},filter:function(e,t){t=this.getFilterContext(t),e.onRoot(t,this),this.filterChildren(e,!1,t)},filterChildren:function(e,t,n){if(this.childrenFilteredBy!=e.id){n=this.getFilterContext(n),t&&!this.parent&&e.onRoot(n,this),this.childrenFilteredBy=e.id;for(var r=0;r<this.children.length;r++)this.children[r].filter(e,n)===!1&&r--}},writeHtml:function(e,t){t&&this.filter(t),this.writeChildrenHtml(e)},writeChildrenHtml:function(e,t,n){var r=this.getFilterContext();n&&!this.parent&&t&&t.onRoot(r,this),t&&this.filterChildren(t,!1,r);for(var i=0,o=this.children,a=o.length;a>i;i++)o[i].writeHtml(e)},forEach:function(e,t,n){if(!(n||t&&this.type!=t))var r=e(this);if(r!==!1)for(var i,o=this.children,a=0;a<o.length;a++)i=o[a],i.type==CKEDITOR.NODE_ELEMENT?i.forEach(e,t):t&&i.type!=t||e(i)},getFilterContext:function(e){return e||{}}}}(),function(){function e(){this.rules=[]}function t(t,n,r,i){var o,a;for(o in n)a=t[o],a||(a=t[o]=new e),a.add(n[o],r,i)}function n(e,t){return e.nonEditable&&!t.options.applyToAll?!1:e.nestedEditable&&t.options.excludeNestedEditable?!1:!0}CKEDITOR.htmlParser.filter=CKEDITOR.tools.createClass({$:function(t){this.id=CKEDITOR.tools.getNextNumber(),this.elementNameRules=new e,this.attributeNameRules=new e,this.elementsRules={},this.attributesRules={},this.textRules=new e,this.commentRules=new e,this.rootRules=new e,t&&this.addRules(t,10)},proto:{addRules:function(e,n){var r;"number"==typeof n?r=n:n&&"priority"in n&&(r=n.priority),"number"!=typeof r&&(r=10),"object"!=typeof n&&(n={}),e.elementNames&&this.elementNameRules.addMany(e.elementNames,r,n),e.attributeNames&&this.attributeNameRules.addMany(e.attributeNames,r,n),e.elements&&t(this.elementsRules,e.elements,r,n),e.attributes&&t(this.attributesRules,e.attributes,r,n),e.text&&this.textRules.add(e.text,r,n),e.comment&&this.commentRules.add(e.comment,r,n),e.root&&this.rootRules.add(e.root,r,n)},applyTo:function(e){e.filter(this)},onElementName:function(e,t){return this.elementNameRules.execOnName(e,t)},onAttributeName:function(e,t){return this.attributeNameRules.execOnName(e,t)},onText:function(e,t,n){return this.textRules.exec(e,t,n)},onComment:function(e,t,n){return this.commentRules.exec(e,t,n)},onRoot:function(e,t){return this.rootRules.exec(e,t)},onElement:function(e,t){for(var n,r,i=[this.elementsRules["^"],this.elementsRules[t.name],this.elementsRules.$],o=0;3>o;o++)if(n=i[o]){if(r=n.exec(e,t,this),r===!1)return null;if(r&&r!=t)return this.onNode(e,r);if(t.parent&&!t.name)break}return t},onNode:function(e,t){var n=t.type;return n==CKEDITOR.NODE_ELEMENT?this.onElement(e,t):n==CKEDITOR.NODE_TEXT?new CKEDITOR.htmlParser.text(this.onText(e,t.value,t)):n==CKEDITOR.NODE_COMMENT?new CKEDITOR.htmlParser.comment(this.onComment(e,t.value,t)):null},onAttribute:function(e,t,n,r){var i=this.attributesRules[n];return i?i.exec(e,r,t,this):r}}}),CKEDITOR.htmlParser.filterRulesGroup=e,e.prototype={add:function(e,t,n){this.rules.splice(this.findIndex(t),0,{value:e,priority:t,options:n})},addMany:function(e,t,n){for(var r=[this.findIndex(t),0],i=0,o=e.length;o>i;i++)r.push({value:e[i],priority:t,options:n});this.rules.splice.apply(this.rules,r)},findIndex:function(e){for(var t=this.rules,n=t.length,r=n-1;r>=0&&e<t[r].priority;)r--;return r+1},exec:function(e,t){var r,i,o,a,s,l=t instanceof CKEDITOR.htmlParser.node||t instanceof CKEDITOR.htmlParser.fragment,c=Array.prototype.slice.call(arguments,1),u=this.rules,d=u.length;for(a=0;d>a;a++)if(l&&(r=t.type,i=t.name),s=u[a],n(e,s)){if(o=s.value.apply(null,c),o===!1)return o;if(l&&o&&(o.name!=i||o.type!=r))return o;null!=o&&(c[0]=t=o)}return t},execOnName:function(e,t){for(var r,i=0,o=this.rules,a=o.length;t&&a>i;i++)r=o[i],n(e,r)&&(t=t.replace(r.value[0],r.value[1]));return t}}}(),function(){function e(e,t){function o(e){return e||CKEDITOR.env.needsNbspFiller?new CKEDITOR.htmlParser.text(" "):new CKEDITOR.htmlParser.element("br",{"data-cke-bogus":1})}function l(e,t){return function(n){if(n.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT){d(n);var r=!e||("function"==typeof t?t(n):t)!==!1;r&&E(n)&&n.add(o(e))}}}function c(e){return function(t){if(t.parent.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT){var n=t.attributes;if("data-cke-bogus"in n||"data-cke-eol"in n)return void delete n["data-cke-bogus"];var l=r(t),c=i(t);!l&&a(t.parent)?s(t.parent,o(e)):a(l)&&c&&!a(c)&&o(e).insertBefore(l)}}}function u(e,t){if((!h||CKEDITOR.env.needsBrFiller)&&e.type==CKEDITOR.NODE_ELEMENT&&"br"==e.name&&!e.attributes["data-cke-eol"])return!0;var n;if(e.type==CKEDITOR.NODE_TEXT&&(n=e.value.match(K))){if(n.index&&(new CKEDITOR.htmlParser.text(e.value.substring(0,n.index)).insertBefore(e),e.value=n[0]),!CKEDITOR.env.needsBrFiller&&h&&(!t||e.parent.name in m))return!0;if(!h){var r=e.previous;if(r&&"br"==r.name)return!0;if(!r||a(r))return!0}}return!1}function d(e){var t,r,s=[],l=n(e);if(l)for(u(l,1)&&s.push(l);l;)a(l)&&(t=i(l))&&u(t)&&((r=i(t))&&!a(r)?s.push(t):(o(h).insertAfter(t),t.remove())),l=l.previous;for(var c=0;c<s.length;c++)s[c].remove()}function E(e){if(!h&&!CKEDITOR.env.needsBrFiller&&e.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT)return!1;if(!h&&!CKEDITOR.env.needsBrFiller&&(document.documentMode>7||e.name in CKEDITOR.dtd.tr||e.name in CKEDITOR.dtd.$listItem))return!1;var t=n(e);return!t||"form"==e.name&&"input"==t.name}var f={elements:{}},h="html"==t,m=CKEDITOR.tools.extend({},N);for(var T in m)"#"in b[T]||delete m[T];for(T in m)f.elements[T]=l(h,e.config.fillEmptyBlocks);return f.root=l(h,!1),f.elements.br=c(h),f}function t(e,t){return e!=CKEDITOR.ENTER_BR&&t!==!1?e==CKEDITOR.ENTER_DIV?"div":"p":!1}function n(e){for(var t=e.children[e.children.length-1];t&&o(t);)t=t.previous;return t}function r(e){for(var t=e.next;t&&o(t);)t=t.next;return t}function i(e){for(var t=e.previous;t&&o(t);)t=t.previous;return t}function o(e){return e.type==CKEDITOR.NODE_TEXT&&!CKEDITOR.tools.trim(e.value)||e.type==CKEDITOR.NODE_ELEMENT&&e.attributes["data-cke-bookmark"]}function a(e){return e&&(e.type==CKEDITOR.NODE_ELEMENT&&e.name in N||e.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT)}function s(e,t){var n=e.children[e.children.length-1];e.children.push(t),t.parent=e,n&&(n.next=t,t.previous=n)}function l(e){return e.parent?e.getIndex():-1}function c(e){var t=e.attributes;"false"!=t.contenteditable&&(t["data-cke-editable"]=t.contenteditable?"true":1),t.contenteditable="false"}function u(e){var t=e.attributes;switch(t["data-cke-editable"]){case"true":t.contenteditable="true";break;case"1":delete t.contenteditable}}function d(e){return e.replace(x,function(e,t,n){return"<"+t+n.replace(L,function(e,t){return P.test(t)&&-1==n.indexOf("data-cke-saved-"+t)?" data-cke-saved-"+e+" data-cke-"+CKEDITOR.rnd+"-"+e:e
})+">"})}function E(e,t){return e.replace(t,function(e,t,n){return 0===e.indexOf("<textarea")&&(e=t+p(n).replace(/</g,"&lt;").replace(/>/g,"&gt;")+"</textarea>"),"<cke:encoded>"+encodeURIComponent(e)+"</cke:encoded>"})}function f(e){return e.replace($,function(e,t){return decodeURIComponent(t)})}function h(e){return e.replace(M,"$1cke:$2")}function m(e){return e.replace(q,"$1$2")}function T(e){return e.replace(H,"<cke:$1$2></cke:$1>")}function C(e){return e.replace(/(<pre\b[^>]*>)(\r\n|\n)/g,"$1$2$2")}function O(e){return e.replace(/<!--(?!{cke_protected})[\s\S]+?-->/g,function(e){return"<!--"+y+"{C}"+encodeURIComponent(e).replace(/--/g,"%2D%2D")+"-->"})}function g(e){return e.replace(/([^a-z0-9<\-])(on\w{3,})(?!>)/gi,"$1data-cke-"+CKEDITOR.rnd+"-$2")}function p(e){return e.replace(/<!--\{cke_protected\}\{C\}([\s\S]+?)-->/g,function(e,t){return decodeURIComponent(t)})}function D(e,t){var n=t._.dataStore;return e.replace(/<!--\{cke_protected\}([\s\S]+?)-->/g,function(e,t){return decodeURIComponent(t)}).replace(/\{cke_protected_(\d+)\}/g,function(e,t){return n&&n[t]||""})}function I(e,t){var n=[],r=t.config.protectedSource,i=t._.dataStore||(t._.dataStore={id:1}),o=/<\!--\{cke_temp(comment)?\}(\d*?)-->/g,a=[/<script[\s\S]*?(<\/script>|$)/gi,/<noscript[\s\S]*?<\/noscript>/gi,/<meta[\s\S]*?\/?>/gi].concat(r);e=e.replace(/<!--[\s\S]*?-->/g,function(e){return"<!--{cke_tempcomment}"+(n.push(e)-1)+"-->"});for(var s=0;s<a.length;s++)e=e.replace(a[s],function(e){return e=e.replace(o,function(e,t,r){return n[r]}),/cke_temp(comment)?/.test(e)?e:"<!--{cke_temp}"+(n.push(e)-1)+"-->"});return e=e.replace(o,function(e,t,r){return"<!--"+y+(t?"{C}":"")+encodeURIComponent(n[r]).replace(/--/g,"%2D%2D")+"-->"}),e=e.replace(/<\w+(?:\s+(?:(?:[^\s=>]+\s*=\s*(?:[^'"\s>]+|'[^']*'|"[^"]*"))|[^\s=\/>]+))+\s*\/?>/g,function(e){return e.replace(/<!--\{cke_protected\}([^>]*)-->/g,function(e,t){return i[i.id]=decodeURIComponent(t),"{cke_protected_"+i.id++ +"}"})}),e=e.replace(/<(title|iframe|textarea)([^>]*)>([\s\S]*?)<\/\1>/g,function(e,n,r,i){return"<"+n+r+">"+D(p(i),t)+"</"+n+">"})}function R(e,t){if(!e.children.length&&CKEDITOR.dtd[e.name][t]){var n=new CKEDITOR.htmlParser.element(t);e.add(n)}}var v;CKEDITOR.htmlDataProcessor=function(n){var r,i,o=this;this.editor=n,this.dataFilter=r=new CKEDITOR.htmlParser.filter,this.htmlFilter=i=new CKEDITOR.htmlParser.filter,this.writer=new CKEDITOR.htmlParser.basicWriter,r.addRules(_),r.addRules(S,{applyToAll:!0}),r.addRules(e(n,"data"),{applyToAll:!0}),i.addRules(w),i.addRules(A,{applyToAll:!0}),i.addRules(e(n,"html"),{applyToAll:!0}),n.on("toHtml",function(e){var r,i=e.data,o=i.dataValue;o=v(o),o=I(o,n),o=E(o,F),o=d(o),o=E(o,B),o=h(o),o=T(o),o=C(o),o=g(o);var a,s=i.context||n.editable().getName();CKEDITOR.env.ie&&CKEDITOR.env.version<9&&"pre"==s&&(s="div",o="<pre>"+o+"</pre>",a=1);var l=n.document.createElement(s);l.setHtml("a"+o),o=l.getHtml().substr(1),o=o.replace(new RegExp("data-cke-"+CKEDITOR.rnd+"-","ig"),""),a&&(o=o.replace(/^<pre>|<\/pre>$/gi,"")),o=m(o),o=f(o),o=p(o),r=i.fixForBody===!1?!1:t(i.enterMode,n.config.autoParagraph),o=CKEDITOR.htmlParser.fragment.fromHtml(o,i.context,r),r&&R(o,r),i.dataValue=o},null,null,5),n.on("toHtml",function(e){e.data.filter.applyTo(e.data.dataValue,!0,e.data.dontFilter,e.data.enterMode)&&n.fire("dataFiltered")},null,null,6),n.on("toHtml",function(e){e.data.dataValue.filterChildren(o.dataFilter,!0)},null,null,10),n.on("toHtml",function(e){var t=e.data,n=t.dataValue,r=new CKEDITOR.htmlParser.basicWriter;n.writeChildrenHtml(r),n=r.getHtml(!0),t.dataValue=O(n)},null,null,15),n.on("toDataFormat",function(e){var r=e.data.dataValue;e.data.enterMode!=CKEDITOR.ENTER_BR&&(r=r.replace(/^<br *\/?>/i,"")),e.data.dataValue=CKEDITOR.htmlParser.fragment.fromHtml(r,e.data.context,t(e.data.enterMode,n.config.autoParagraph))},null,null,5),n.on("toDataFormat",function(e){e.data.dataValue.filterChildren(o.htmlFilter,!0)},null,null,10),n.on("toDataFormat",function(e){e.data.filter.applyTo(e.data.dataValue,!1,!0)},null,null,11),n.on("toDataFormat",function(e){var t=e.data.dataValue,r=o.writer;r.reset(),t.writeChildrenHtml(r),t=r.getHtml(!0),t=p(t),t=D(t,n),e.data.dataValue=t},null,null,15)},CKEDITOR.htmlDataProcessor.prototype={toHtml:function(e,t,n,r){var i,o,a,s,l=this.editor;return t&&"object"==typeof t?(i=t.context,n=t.fixForBody,r=t.dontFilter,o=t.filter,a=t.enterMode,s=t.protectedWhitespaces):i=t,i||null===i||(i=l.editable().getName()),l.fire("toHtml",{dataValue:e,context:i,fixForBody:n,dontFilter:r,filter:o||l.filter,enterMode:a||l.enterMode,protectedWhitespaces:s}).dataValue},toDataFormat:function(e,t){var n,r,i;return t&&(n=t.context,r=t.filter,i=t.enterMode),n||null===n||(n=this.editor.editable().getName()),this.editor.fire("toDataFormat",{dataValue:e,filter:r||this.editor.filter,context:n,enterMode:i||this.editor.enterMode}).dataValue}};var K=/(?:&nbsp;|\xa0)$/,y="{cke_protected}",b=CKEDITOR.dtd,k=["caption","colgroup","col","thead","tfoot","tbody"],N=CKEDITOR.tools.extend({},b.$blockLimit,b.$block),_={elements:{input:c,textarea:c}},S={attributeNames:[[/^on/,"data-cke-pa-on"],[/^srcdoc/,"data-cke-pa-srcdoc"],[/^data-cke-expando$/,""]],elements:{iframe:function(e){if(e.attributes&&e.attributes.src){var t=e.attributes.src.toLowerCase().replace(/[^a-z]/gi,"");(0===t.indexOf("javascript")||0===t.indexOf("data"))&&(e.attributes["data-cke-pa-src"]=e.attributes.src,delete e.attributes.src)}}}},w={elements:{embed:function(e){var t=e.parent;if(t&&"object"==t.name){var n=t.attributes.width,r=t.attributes.height;n&&(e.attributes.width=n),r&&(e.attributes.height=r)}},a:function(e){var t=e.attributes;return e.children.length||t.name||t.id||e.attributes["data-cke-saved-name"]?void 0:!1}}},A={elementNames:[[/^cke:/,""],[/^\?xml:namespace$/,""]],attributeNames:[[/^data-cke-(saved|pa)-/,""],[/^data-cke-.*/,""],["hidefocus",""]],elements:{$:function(e){var t=e.attributes;if(t){if(t["data-cke-temp"])return!1;for(var n,r=["name","href","src"],i=0;i<r.length;i++)n="data-cke-saved-"+r[i],n in t&&delete t[r[i]]}return e},table:function(e){var t=e.children.slice(0);t.sort(function(e,t){var n,r;return e.type==CKEDITOR.NODE_ELEMENT&&t.type==e.type&&(n=CKEDITOR.tools.indexOf(k,e.name),r=CKEDITOR.tools.indexOf(k,t.name)),n>-1&&r>-1&&n!=r||(n=l(e),r=l(t)),n>r?1:-1})},param:function(e){return e.children=[],e.isEmpty=!0,e},span:function(e){"Apple-style-span"==e.attributes["class"]&&delete e.name},html:function(e){delete e.attributes.contenteditable,delete e.attributes["class"]},body:function(e){delete e.attributes.spellcheck,delete e.attributes.contenteditable},style:function(e){var t=e.children[0];t&&t.value&&(t.value=CKEDITOR.tools.trim(t.value)),e.attributes.type||(e.attributes.type="text/css")},title:function(e){var t=e.children[0];!t&&s(e,t=new CKEDITOR.htmlParser.text),t.value=e.attributes["data-cke-title"]||""},input:u,textarea:u},attributes:{"class":function(e){return CKEDITOR.tools.ltrim(e.replace(/(?:^|\s+)cke_[^\s]*/g,""))||!1}}};CKEDITOR.env.ie&&(A.attributes.style=function(e){return e.replace(/(^|;)([^\:]+)/g,function(e){return e.toLowerCase()})});var x=/<(a|area|img|input|source)\b([^>]*)>/gi,L=/([\w-:]+)\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|(?:[^ "'>]+))/gi,P=/^(href|src|name)$/i,B=/(?:<style(?=[ >])[^>]*>[\s\S]*?<\/style>)|(?:<(:?link|meta|base)[^>]*>)/gi,F=/(<textarea(?=[ >])[^>]*>)([\s\S]*?)(?:<\/textarea>)/gi,$=/<cke:encoded>([^<]*)<\/cke:encoded>/gi,M=/(<\/?)((?:object|embed|param|html|body|head|title)([\s][^>]*)?>)/gi,q=/(<\/?)cke:((?:html|body|head|title)[^>]*>)/gi,H=/<cke:(param|embed)([^>]*?)\/?>(?!\s*<\/cke:\1)/gi;v=function(){function e(){return new RegExp("("+n("<cke:encoded>")+"(.*?)"+n("</cke:encoded>")+")|("+n("<")+n("/")+"?"+n("cke:encoded>")+")","gi")}function t(){return new RegExp("(("+n("{cke_protected")+")(_[0-9]*)?"+n("}")+")","gi")}function n(e){return CKEDITOR.tools.array.reduce(e.split(""),function(e,t){var n=t.toLowerCase(),i=t.toUpperCase(),o=r(n);return n!==i&&(o+="|"+r(i)),e+="("+o+")"},"")}function r(e){var t=i(e),n=e;for(var r in t)t[r]&&(n+="|"+t[r]);return n}function i(e){var t={"<":"&lt;",">":"&gt;",":":"&colon;"},n=e.charCodeAt(0),r=n.toString(16);return{htmlCode:"&#"+n+";?",hex:"&#x0*"+r+";?",entity:t[e]}}var o=e(),a=t();return function(e){return e.replace(o,"").replace(a,"")}}()}(),CKEDITOR.htmlParser.element=function(e,t){this.name=e,this.attributes=t||{},this.children=[];var n=e||"",r=n.match(/^cke:(.*)/);r&&(n=r[1]);var i=!!(CKEDITOR.dtd.$nonBodyContent[n]||CKEDITOR.dtd.$block[n]||CKEDITOR.dtd.$listItem[n]||CKEDITOR.dtd.$tableContent[n]||CKEDITOR.dtd.$nonEditable[n]||"br"==n);this.isEmpty=!!CKEDITOR.dtd.$empty[e],this.isUnknown=!CKEDITOR.dtd[e],this._={isBlockLike:i,hasInlineStarted:this.isEmpty||!i}},CKEDITOR.htmlParser.cssStyle=function(){var e,t=arguments[0],n={};return e=t instanceof CKEDITOR.htmlParser.element?t.attributes.style:t,(e||"").replace(/&quot;/g,'"').replace(/\s*([^ :;]+)\s*:\s*([^;]+)\s*(?=;|$)/g,function(e,t,r){"font-family"==t&&(r=r.replace(/["']/g,"")),n[t.toLowerCase()]=r}),{rules:n,populate:function(e){var t=this.toString();t&&(e instanceof CKEDITOR.dom.element?e.setAttribute("style",t):e instanceof CKEDITOR.htmlParser.element?e.attributes.style=t:e.style=t)},toString:function(){var e=[];for(var t in n)n[t]&&e.push(t,":",n[t],";");return e.join("")}}},function(){function e(e){return function(t){return t.type==CKEDITOR.NODE_ELEMENT&&("string"==typeof e?t.name==e:t.name in e)}}var t=function(e,t){return e=e[0],t=t[0],t>e?-1:e>t?1:0},n=CKEDITOR.htmlParser.fragment.prototype;CKEDITOR.htmlParser.element.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_ELEMENT,add:n.add,clone:function(){return new CKEDITOR.htmlParser.element(this.name,this.attributes)},filter:function(e,t){var n,r,i=this;for(t=i.getFilterContext(t),i.parent||e.onRoot(t,i);;){if(n=i.name,!(r=e.onElementName(t,n)))return this.remove(),!1;if(i.name=r,!(i=e.onElement(t,i)))return this.remove(),!1;if(i!==this)return this.replaceWith(i),!1;if(i.name==n)break;if(i.type!=CKEDITOR.NODE_ELEMENT)return this.replaceWith(i),!1;if(!i.name)return this.replaceWithChildren(),!1}var o,a,s,l=i.attributes;for(o in l){for(s=o,a=l[o];;){if(s=e.onAttributeName(t,o)){if(s!=o){delete l[o],o=s;continue}break}delete l[o];break}s&&((a=e.onAttribute(t,i,s,a))===!1?delete l[s]:l[s]=a)}return i.isEmpty||this.filterChildren(e,!1,t),!0},filterChildren:n.filterChildren,writeHtml:function(e,n){n&&this.filter(n);var r,i,o,a,s=this.name,l=[],c=this.attributes;e.openTag(s,c);for(r in c)l.push([r,c[r]]);for(e.sortAttributes&&l.sort(t),o=0,a=l.length;a>o;o++)i=l[o],e.attribute(i[0],i[1]);e.openTagClose(s,this.isEmpty),this.writeChildrenHtml(e),this.isEmpty||e.closeTag(s)},writeChildrenHtml:n.writeChildrenHtml,replaceWithChildren:function(){for(var e=this.children,t=e.length;t;)e[--t].insertAfter(this);this.remove()},forEach:n.forEach,getFirst:function(t){if(!t)return this.children.length?this.children[0]:null;"function"!=typeof t&&(t=e(t));for(var n=0,r=this.children.length;r>n;++n)if(t(this.children[n]))return this.children[n];return null},getHtml:function(){var e=new CKEDITOR.htmlParser.basicWriter;return this.writeChildrenHtml(e),e.getHtml()},setHtml:function(e){for(var t=this.children=CKEDITOR.htmlParser.fragment.fromHtml(e).children,n=0,r=t.length;r>n;++n)t[n].parent=this},getOuterHtml:function(){var e=new CKEDITOR.htmlParser.basicWriter;return this.writeHtml(e),e.getHtml()},split:function(e){for(var t=this.children.splice(e,this.children.length-e),n=this.clone(),r=0;r<t.length;++r)t[r].parent=n;return n.children=t,t[0]&&(t[0].previous=null),e>0&&(this.children[e-1].next=null),this.parent.add(n,this.getIndex()+1),n},find:function(e,t){void 0===t&&(t=!1);var n,r=[];for(n=0;n<this.children.length;n++){var i=this.children[n];"function"==typeof e&&e(i)?r.push(i):"string"==typeof e&&i.name===e&&r.push(i),t&&i.find&&(r=r.concat(i.find(e,t)))}return r},findOne:function(e,t){var n=null,r=CKEDITOR.tools.array.find(this.children,function(r){var i="function"==typeof e?e(r):r.name===e;return i||!t?i:(r.children&&r.findOne&&(n=r.findOne(e,!0)),!!n)});return n||r||null},addClass:function(e){if(!this.hasClass(e)){var t=this.attributes["class"]||"";this.attributes["class"]=t+(t?" ":"")+e}},removeClass:function(e){var t=this.attributes["class"];t&&(t=CKEDITOR.tools.trim(t.replace(new RegExp("(?:\\s+|^)"+e+"(?:\\s+|$)")," ")),t?this.attributes["class"]=t:delete this.attributes["class"])},hasClass:function(e){var t=this.attributes["class"];return t?new RegExp("(?:^|\\s)"+e+"(?=\\s|$)").test(t):!1},getFilterContext:function(e){var t=[];if(e||(e={nonEditable:!1,nestedEditable:!1}),e.nonEditable||"false"!=this.attributes.contenteditable?e.nonEditable&&!e.nestedEditable&&"true"==this.attributes.contenteditable&&t.push("nestedEditable",!0):t.push("nonEditable",!0),t.length){e=CKEDITOR.tools.copy(e);for(var n=0;n<t.length;n+=2)e[t[n]]=t[n+1]}return e}},!0)}(),function(){var e=/{([^}]+)}/g;CKEDITOR.template=function(e){this.source="function"==typeof e?e:String(e)},CKEDITOR.template.prototype.output=function(t,n){var r="function"==typeof this.source?this.source(t):this.source,i=r.replace(e,function(e,n){return void 0!==t[n]?t[n]:e});return n?n.push(i):i}}(),delete CKEDITOR.loadFullCore,CKEDITOR.instances={},CKEDITOR.document=new CKEDITOR.dom.document(document),CKEDITOR.add=function(e){function t(){CKEDITOR.currentInstance==e&&(CKEDITOR.currentInstance=null,CKEDITOR.fire("currentInstance"))}CKEDITOR.instances[e.name]=e,e.on("focus",function(){CKEDITOR.currentInstance!=e&&(CKEDITOR.currentInstance=e,CKEDITOR.fire("currentInstance"))}),e.on("blur",t),e.on("destroy",t),CKEDITOR.fire("instance",null,e)},CKEDITOR.remove=function(e){delete CKEDITOR.instances[e.name]},function(){var e={};CKEDITOR.addTemplate=function(t,n){var r=e[t];if(r)return r;var i={name:t,source:n};return CKEDITOR.fire("template",i),e[t]=new CKEDITOR.template(i.source)},CKEDITOR.getTemplate=function(t){return e[t]}}(),function(){var e=[];CKEDITOR.addCss=function(t){e.push(t)},CKEDITOR.getCss=function(){return e.join("\n")}}(),CKEDITOR.on("instanceDestroyed",function(){CKEDITOR.tools.isEmpty(this.instances)&&CKEDITOR.fire("reset")}),CKEDITOR.TRISTATE_ON=1,CKEDITOR.TRISTATE_OFF=2,CKEDITOR.TRISTATE_DISABLED=0,function(){CKEDITOR.inline=function(e,t){if(e=CKEDITOR.editor._getEditorElement(e),!e)return null;var n=new CKEDITOR.editor(t,e,CKEDITOR.ELEMENT_MODE_INLINE),r=e.is("textarea")?e:null;return r?(n.setData(r.getValue(),null,!0),e=CKEDITOR.dom.element.createFromHtml('<div contenteditable="'+!!n.readOnly+'" class="cke_textarea_inline">'+r.getValue()+"</div>",CKEDITOR.document),e.insertAfter(r),r.hide(),r.$.form&&n._attachToForm()):(t&&"undefined"!=typeof t.readOnly&&!t.readOnly&&e.setAttribute("contenteditable","true"),n.setData(e.getHtml(),null,!0)),n.on("loaded",function(){n.fire("uiReady"),n.editable(e),n.container=e,n.ui.contentsElement=e,n.setData(n.getData(1)),n.resetDirty(),n.fire("contentDom"),n.mode="wysiwyg",n.fire("mode"),n.status="ready",n.fireOnce("instanceReady"),CKEDITOR.fire("instanceReady",null,n)},null,null,1e4),n.on("destroy",function(){var e=n.container;r&&e&&(e.clearCustomData(),e.remove()),r&&r.show(),n.element.clearCustomData(),delete n.element}),n},CKEDITOR.inlineAll=function(){var e,t;for(var n in CKEDITOR.dtd.$editable)for(var r=CKEDITOR.document.getElementsByTag(n),i=0,o=r.count();o>i;i++)e=r.getItem(i),"true"==e.getAttribute("contenteditable")&&(t={element:e,config:{}},CKEDITOR.fire("inline",t)!==!1&&CKEDITOR.inline(e,t.config))},CKEDITOR.domReady(function(){!CKEDITOR.disableAutoInline&&CKEDITOR.inlineAll()})}(),CKEDITOR.replaceClass="ckeditor",function(){function e(e){return CKEDITOR.tools.convertToPx(CKEDITOR.tools.cssLength(e))}function t(e,t,i,o){if(e=CKEDITOR.editor._getEditorElement(e),!e)return null;var a=new CKEDITOR.editor(t,e,o);return o==CKEDITOR.ELEMENT_MODE_REPLACE&&(e.setStyle("visibility","hidden"),a._.required=e.hasAttribute("required"),e.removeAttribute("required")),i&&a.setData(i,null,!0),a.on("loaded",function(){a.isDestroyed()||a.isDetached()||(r(a),o==CKEDITOR.ELEMENT_MODE_REPLACE&&a.config.autoUpdateElement&&e.$.form&&a._attachToForm(),a.setMode(a.config.startupMode,function(){a.resetDirty(),a.status="ready",a.fireOnce("instanceReady"),CKEDITOR.fire("instanceReady",null,a)}))}),a.on("destroy",n),a}function n(){var e=this,t=e.container,n=e.element;t&&(t.clearCustomData(),t.remove()),n&&(n.clearCustomData(),e.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE&&(n.show(),e._.required&&n.setAttribute("required","required")),delete e.element)}function r(e){var t=e.name,n=e.element,r=e.elementMode,i=e.fire("uiSpace",{space:"top",html:""}).html,o=e.fire("uiSpace",{space:"bottom",html:""}).html,a=new CKEDITOR.template('<{outerEl} id="cke_{name}" class="{id} cke cke_reset cke_chrome cke_editor_{name} cke_{langDir} '+CKEDITOR.env.cssClass+'"  dir="{langDir}" lang="{langCode}" role="application"'+(e.title?' aria-labelledby="cke_{name}_arialbl"':"")+">"+(e.title?'<span id="cke_{name}_arialbl" class="cke_voice_label">{voiceLabel}</span>':"")+'<{outerEl} class="cke_inner cke_reset" role="presentation">{topHtml}<{outerEl} id="{contentId}" class="cke_contents cke_reset" role="presentation"></{outerEl}>{bottomHtml}</{outerEl}></{outerEl}>'),s=CKEDITOR.dom.element.createFromHtml(a.output({id:e.id,name:t,langDir:e.lang.dir,langCode:e.langCode,voiceLabel:e.title,topHtml:i?'<span id="'+e.ui.spaceId("top")+'" class="cke_top cke_reset_all" role="presentation" style="height:auto">'+i+"</span>":"",contentId:e.ui.spaceId("contents"),bottomHtml:o?'<span id="'+e.ui.spaceId("bottom")+'" class="cke_bottom cke_reset_all" role="presentation">'+o+"</span>":"",outerEl:CKEDITOR.env.ie?"span":"div"}));r==CKEDITOR.ELEMENT_MODE_REPLACE?(n.hide(),s.insertAfter(n)):n.append(s),e.container=s,e.ui.contentsElement=e.ui.space("contents"),i&&e.ui.space("top").unselectable(),o&&e.ui.space("bottom").unselectable();var l=e.config.width,c=e.config.height;l&&s.setStyle("width",CKEDITOR.tools.cssLength(l)),c&&e.ui.space("contents").setStyle("height",CKEDITOR.tools.cssLength(c)),s.disableContextMenu(),CKEDITOR.env.webkit&&s.on("focus",function(){e.focus()}),e.fireOnce("uiReady")}CKEDITOR.replace=function(e,n){return t(e,n,null,CKEDITOR.ELEMENT_MODE_REPLACE)},CKEDITOR.appendTo=function(e,n,r){return t(e,n,r,CKEDITOR.ELEMENT_MODE_APPENDTO)},CKEDITOR.replaceAll=function(){for(var e=document.getElementsByTagName("textarea"),t=0;t<e.length;t++){var n=null,r=e[t];if(r.name||r.id){if("string"==typeof arguments[0]){var i=new RegExp("(?:^|\\s)"+arguments[0]+"(?:$|\\s)");if(!i.test(r.className))continue}else if("function"==typeof arguments[0]&&(n={},arguments[0](r,n)===!1))continue;this.replace(r,n)}}},CKEDITOR.editor.prototype.addMode=function(e,t){(this._.modes||(this._.modes={}))[e]=t},CKEDITOR.editor.prototype.setMode=function(e,t){var n=this,r=this._.modes;if(e!=n.mode&&r&&r[e]){if(n.fire("beforeSetMode",e),n.mode){var i,o=n.checkDirty(),a=n._.previousModeData,s=0;n.fire("beforeModeUnload"),n.editable(0),n._.previousMode=n.mode,n._.previousModeData=i=n.getData(1),"source"==n.mode&&a==i&&(n.fire("lockSnapshot",{forceUpdate:!0}),s=1),n.ui.space("contents").setHtml(""),n.mode=""}else n._.previousModeData=n.getData(1);this._.modes[e](function(){n.mode=e,void 0!==o&&!o&&n.resetDirty(),s?n.fire("unlockSnapshot"):"wysiwyg"==e&&n.fire("saveSnapshot"),setTimeout(function(){n.isDestroyed()||n.isDetached()||(n.fire("mode"),t&&t.call(n))},0)})}},CKEDITOR.editor.prototype.resize=function(t,n,r,i){var o,a=this.container,s=this.ui.space("contents"),l=CKEDITOR.env.webkit&&this.document&&this.document.getWindow().$.frameElement;o=i?this.container.getFirst(function(e){return e.type==CKEDITOR.NODE_ELEMENT&&e.hasClass("cke_inner")}):a,t=e(t),o.setSize("width",t,!0),l&&(l.style.width="1%"),n=e(n);var c=(o.$.offsetHeight||0)-(s.$.clientHeight||0),u=Math.max(n-(r?0:c),0),d=r?n+c:n;s.setStyle("height",CKEDITOR.tools.cssLength(u)),l&&(l.style.width="100%"),this.fire("resize",{outerHeight:d,contentsHeight:u,outerWidth:t||o.getSize("width")})},CKEDITOR.editor.prototype.getResizable=function(e){return e?this.ui.space("contents"):this.container},CKEDITOR.domReady(function(){CKEDITOR.replaceClass&&CKEDITOR.replaceAll(CKEDITOR.replaceClass)})}(),CKEDITOR.config.startupMode="wysiwyg",function(){function e(e){var n,o=e.editor,a=e.data.path,s=a.blockLimit,c=e.data.selection,u=c.getRanges()[0];if(CKEDITOR.env.gecko||CKEDITOR.env.ie&&CKEDITOR.env.needsBrFiller){var d=t(c,a);d&&(d.appendBogus(),n=CKEDITOR.env.ie&&!CKEDITOR.env.edge||CKEDITOR.env.edge&&o._.previousActive)}if(l(o,a.block,s)&&u.collapsed&&!u.getCommonAncestor().isReadOnly()){var E=u.clone();E.enlarge(CKEDITOR.ENLARGE_BLOCK_CONTENTS);var f=new CKEDITOR.dom.walker(E);if(f.guard=function(e){return!r(e)||e.type==CKEDITOR.NODE_COMMENT||e.isReadOnly()},!f.checkForward()||E.checkStartOfBlock()&&E.checkEndOfBlock()){var h=u.fixBlock(!0,o.activeEnterMode==CKEDITOR.ENTER_DIV?"div":"p");if(!CKEDITOR.env.needsBrFiller){var m=h.getFirst(r);m&&i(m)&&m.remove()}n=1,e.cancel()}}n&&u.select()}function t(e,t){if(e.isFake)return 0;var n=t.block||t.blockLimit,i=n&&n.getLast(r);return!n||!n.isBlockBoundary()||i&&i.type==CKEDITOR.NODE_ELEMENT&&i.isBlockBoundary()||n.is("pre")||n.getBogus()?void 0:n}function n(e){var t=e.data.getTarget();if(t.is("input")){var n=t.getAttribute("type");("submit"==n||"reset"==n)&&e.data.preventDefault()}}function r(e){return m(e)&&T(e)}function i(e){return e.type==CKEDITOR.NODE_TEXT&&CKEDITOR.tools.trim(e.getText()).match(/^(?:&nbsp;|\xa0)$/)}function o(e,t){return function(n){var r=n.data.$.toElement||n.data.$.fromElement||n.data.$.relatedTarget;r=r&&r.nodeType==CKEDITOR.NODE_ELEMENT?new CKEDITOR.dom.element(r):null,r&&(t.equals(r)||t.contains(r))||e.call(this,n)}}function a(e){var t,n=e.getElementsByTag("span"),r=0;if(n)for(;t=n.getItem(r++);)if(!T(t))return!0;return!1}function s(e){function t(e){return function(t,i){return i&&t.type==CKEDITOR.NODE_ELEMENT&&t.is(s)&&(n=t),i||!r(t)||e&&O(t)?void 0:!1}}var n,i=e.getRanges()[0],o=e.root,a=i.startPath(),s={table:1,ul:1,ol:1,dl:1};if(a.contains(s)){var l=i.clone();l.collapse(1),l.setStartAt(o,CKEDITOR.POSITION_AFTER_START);var c=new CKEDITOR.dom.walker(l);if(c.guard=t(),c.checkBackward(),n)return l=i.clone(),l.collapse(),l.setEndAt(n,CKEDITOR.POSITION_AFTER_END),c=new CKEDITOR.dom.walker(l),c.guard=t(!0),n=!1,c.checkForward(),n}return null}function l(e,t,n){return e.config.autoParagraph!==!1&&e.activeEnterMode!=CKEDITOR.ENTER_BR&&(e.editable().equals(n)&&!t||t&&"true"==t.getAttribute("contenteditable"))}function c(e){return e.activeEnterMode!=CKEDITOR.ENTER_BR&&e.config.autoParagraph!==!1?e.activeEnterMode==CKEDITOR.ENTER_DIV?"div":"p":!1}function u(e){e&&e.isEmptyInlineRemoveable()&&e.remove()}function d(e){var t=e.editor;t.getSelection().scrollIntoView(),setTimeout(function(){t.fire("saveSnapshot")},0)}function E(e,t,n,r){var i=r.block;if(!i)return!1;if(!t[n?"checkStartOfBlock":"checkEndOfBlock"]())return!1;if(!t.moveToClosestEditablePosition(i,!n)||!t.collapsed)return!1;if(t.startContainer.type==CKEDITOR.NODE_ELEMENT){var o=t.startContainer.getChild(t.startOffset-(n?1:0));if(o&&o.type==CKEDITOR.NODE_ELEMENT&&o.is("hr"))return e.fire("saveSnapshot"),o.remove(),!0}var a=t.startPath().block;if(!(!a||a&&a.contains(i))){e.fire("saveSnapshot");var s;(s=(n?a:i).getBogus())&&s.remove();var l=e.getSelection(),c=l.createBookmarks();return(n?i:a).moveChildren(n?a:i,!1),r.lastElement.mergeSiblings(),h(i,a,!n),l.selectBookmarks(c),!0}}function f(e,t,n){var r=n.block,i=t.endPath(),o=i.block;if(!r||!o||r.equals(o))return!1;e.fire("saveSnapshot");var a;return(a=r.getBogus())&&a.remove(),t.enlarge(CKEDITOR.ENLARGE_INLINE),t.deleteContents(),o.getParent()&&(o.moveChildren(r,!1),n.lastElement.mergeSiblings(),h(r,o,!0)),t=e.getSelection().getRanges()[0],t.collapse(1),t.optimize(),""===t.startContainer.getHtml()&&t.startContainer.appendBogus(),t.select(),!0}function h(e,t,n){for(var r=e.getCommonAncestor(t),i=n?t:e,o=i;(i=i.getParent())&&!r.equals(i)&&1==i.getChildCount();)o=i;o.remove()}var m,T,C,O,g,p,D,I,R,v;CKEDITOR.editable=CKEDITOR.tools.createClass({base:CKEDITOR.dom.element,$:function(e,t){this.base(t.$||t),this.editor=e,this.status="unloaded",this.hasFocus=!1,this.setup()},proto:{focus:function(){var e;if(CKEDITOR.env.webkit&&!this.hasFocus&&(e=this.editor._.previousActive||this.getDocument().getActive(),this.contains(e)))return void e.focus();CKEDITOR.env.edge&&CKEDITOR.env.version>14&&!this.hasFocus&&this.getDocument().equals(CKEDITOR.document)&&(this.editor._.previousScrollTop=this.$.scrollTop);try{if(!CKEDITOR.env.ie||CKEDITOR.env.edge&&CKEDITOR.env.version>14||!this.getDocument().equals(CKEDITOR.document))if(CKEDITOR.env.chrome){var t=this.$.scrollTop;this.$.focus(),this.$.scrollTop=t}else this.$.focus();else this.$.setActive()}catch(n){if(!CKEDITOR.env.ie)throw n}CKEDITOR.env.safari&&!this.isInline()&&(e=CKEDITOR.document.getActive(),e.equals(this.getWindow().getFrame())||this.getWindow().focus())},on:function(e,t){var n=Array.prototype.slice.call(arguments,0);return CKEDITOR.env.ie&&/^focus|blur$/.exec(e)&&(e="focus"==e?"focusin":"focusout",t=o(t,this),n[0]=e,n[1]=t),CKEDITOR.dom.element.prototype.on.apply(this,n)},attachListener:function(e){!this._.listeners&&(this._.listeners=[]);var t=Array.prototype.slice.call(arguments,1),n=e.on.apply(e,t);return this._.listeners.push(n),n},clearListeners:function(){var e=this._.listeners;try{for(;e.length;)e.pop().removeListener()}catch(t){}},restoreAttrs:function(){var e,t=this._.attrChanges;for(var n in t)t.hasOwnProperty(n)&&(e=t[n],null!==e?this.setAttribute(n,e):this.removeAttribute(n))},attachClass:function(e){var t=this.getCustomData("classes");this.hasClass(e)||(!t&&(t=[]),t.push(e),this.setCustomData("classes",t),this.addClass(e))},changeAttr:function(e,t){var n=this.getAttribute(e);t!==n&&(!this._.attrChanges&&(this._.attrChanges={}),e in this._.attrChanges||(this._.attrChanges[e]=n),this.setAttribute(e,t))},insertText:function(e){this.editor.focus(),this.insertHtml(this.transformPlainTextToHtml(e),"text")},transformPlainTextToHtml:function(e){var t=this.editor.getSelection().getStartElement().hasAscendant("pre",!0)?CKEDITOR.ENTER_BR:this.editor.activeEnterMode;return CKEDITOR.tools.transformPlainTextToHtml(e,t)},insertHtml:function(e,t,n){var r=this.editor;r.focus(),r.fire("saveSnapshot"),n||(n=r.getSelection().getRanges()[0]),p(this,t||"html",e,n),n.select(),d(this),this.editor.fire("afterInsertHtml",{})},insertHtmlIntoRange:function(e,t,n){p(this,n||"html",e,t),this.editor.fire("afterInsertHtml",{intoRange:t})},insertElement:function(e,t){var n=this.editor;n.focus(),n.fire("saveSnapshot");var i=n.activeEnterMode,o=n.getSelection(),a=e.getName(),s=CKEDITOR.dtd.$block[a];if(t||(t=o.getRanges()[0]),this.insertElementIntoRange(e,t)&&(t.moveToPosition(e,CKEDITOR.POSITION_AFTER_END),s)){var l=e.getNext(function(e){return r(e)&&!O(e)});l&&l.type==CKEDITOR.NODE_ELEMENT&&l.is(CKEDITOR.dtd.$block)?l.getDtd()["#"]?t.moveToElementEditStart(l):t.moveToElementEditEnd(e):l||i==CKEDITOR.ENTER_BR||(l=t.fixBlock(!0,i==CKEDITOR.ENTER_DIV?"div":"p"),t.moveToElementEditStart(l))}o.selectRanges([t]),d(this)},insertElementIntoSelection:function(e){this.insertElement(e)},insertElementIntoRange:function(e,t){var n=this.editor,r=n.config.enterMode,i=e.getName(),o=CKEDITOR.dtd.$block[i];if(t.checkReadOnly())return!1;t.deleteContents(1),t.startContainer.type==CKEDITOR.NODE_ELEMENT&&(t.startContainer.is({tr:1,table:1,tbody:1,thead:1,tfoot:1})?D(t):t.startContainer.is(CKEDITOR.dtd.$list)&&I(t));var a,s;if(o)for(;(a=t.getCommonAncestor(0,1))&&(s=CKEDITOR.dtd[a.getName()])&&(!s||!s[i]);)if(a.getName()in CKEDITOR.dtd.span){var l=t.splitElement(a),c=t.createBookmark();u(a),u(l),t.moveToBookmark(c)}else t.checkStartOfBlock()&&t.checkEndOfBlock()?(t.setStartBefore(a),t.collapse(!0),a.remove()):t.splitBlock(r==CKEDITOR.ENTER_DIV?"div":"p",n.editable());return t.insertNode(e),!0},setData:function(e,t){t||(e=this.editor.dataProcessor.toHtml(e)),this.setHtml(e),this.fixInitialSelection(),"unloaded"==this.status&&(this.status="ready"),this.editor.fire("dataReady")},getData:function(e){var t=this.getHtml();return e||(t=this.editor.dataProcessor.toDataFormat(t)),t},setReadOnly:function(e){this.setAttribute("contenteditable",!e)},detach:function(){this.status="detached",this.editor.setData(this.editor.getData(),{internal:!0}),this.clearListeners();try{this._.cleanCustomData()}catch(e){if(!CKEDITOR.env.ie||-2146828218!==e.number)throw e}this.editor.fire("contentDomUnload"),delete this.editor.document,delete this.editor.window,delete this.editor},isInline:function(){return this.getDocument().equals(CKEDITOR.document)},fixInitialSelection:function(){function e(){var e=r.getDocument().$,n=e.getSelection();if(t(n)){var i=new CKEDITOR.dom.range(r);i.moveToElementEditStart(r);var o=e.createRange();o.setStart(i.startContainer.$,i.startOffset),o.collapse(!0),n.removeAllRanges(),n.addRange(o)}}function t(e){if(e.anchorNode&&e.anchorNode==r.$)return!0;if(CKEDITOR.env.webkit){var t=r.getDocument().getActive();if(t&&t.equals(r)&&!e.anchorNode)return!0}}function n(){var e=r.getDocument().$,t=e.selection,n=r.getDocument().getActive();if("None"==t.type&&n.equals(r)){var i,o=new CKEDITOR.dom.range(r),a=e.body.createTextRange();o.moveToElementEditStart(r),i=o.startContainer,i.type!=CKEDITOR.NODE_ELEMENT&&(i=i.getParent()),a.moveToElementText(i.$),a.collapse(!0),a.select()}}var r=this;return CKEDITOR.env.ie&&(CKEDITOR.env.version<9||CKEDITOR.env.quirks)?void(this.hasFocus&&(this.focus(),n())):void(this.hasFocus?(this.focus(),e()):this.once("focus",function(){e()},null,null,-999))},getHtmlFromRange:function(e){if(e.collapsed)return new CKEDITOR.dom.documentFragment(e.document);var t={doc:this.getDocument(),range:e.clone()};return R.eol.detect(t,this),R.bogus.exclude(t),R.cell.shrink(t),t.fragment=t.range.cloneContents(),R.tree.rebuild(t,this),R.eol.fix(t,this),new CKEDITOR.dom.documentFragment(t.fragment.$)},extractHtmlFromRange:function(e,t){var n=v,r={range:e,doc:e.document},i=this.getHtmlFromRange(e);if(e.collapsed)return e.optimize(),i;e.enlarge(CKEDITOR.ENLARGE_INLINE,1),n.table.detectPurge(r),r.bookmark=e.createBookmark(),delete r.range;var o=this.editor.createRange();if(o.moveToPosition(r.bookmark.startNode,CKEDITOR.POSITION_BEFORE_START),r.targetBookmark=o.createBookmark(),n.list.detectMerge(r,this),n.table.detectRanges(r,this),n.block.detectMerge(r,this),r.tableContentsRanges?(n.table.deleteRanges(r),e.moveToBookmark(r.bookmark),r.range=e):(e.moveToBookmark(r.bookmark),r.range=e,e.extractContents(n.detectExtractMerge(r))),e.moveToBookmark(r.targetBookmark),e.optimize(),n.fixUneditableRangePosition(e),n.list.merge(r,this),n.table.purge(r,this),n.block.merge(r,this),t){var s=e.startPath();e.checkStartOfBlock()&&e.checkEndOfBlock()&&s.block&&!e.root.equals(s.block)&&!a(s.block)&&(e.moveToPosition(s.block,CKEDITOR.POSITION_BEFORE_START),s.block.remove())}else n.autoParagraph(this.editor,e),C(e.startContainer)&&e.startContainer.appendBogus();return e.startContainer.mergeSiblings(),i},setup:function(){var e=this.editor;this.attachListener(e,"beforeGetData",function(){var t=this.getData();this.is("textarea")||e.config.ignoreEmptyParagraph!==!1&&(t=t.replace(g,function(e,t){return t})),e.setData(t,null,1)},this),this.attachListener(e,"getSnapshot",function(e){e.data=this.getData(1)},this),this.attachListener(e,"afterSetData",function(){this.setData(e.getData(1))},this),this.attachListener(e,"loadSnapshot",function(e){this.setData(e.data,1)},this),this.attachListener(e,"beforeFocus",function(){var t=e.getSelection(),n=t&&t.getNative();n&&"Control"==n.type||this.focus()},this),this.attachListener(e,"insertHtml",function(e){this.insertHtml(e.data.dataValue,e.data.mode,e.data.range)},this),this.attachListener(e,"insertElement",function(e){this.insertElement(e.data)},this),this.attachListener(e,"insertText",function(e){this.insertText(e.data)},this),this.setReadOnly(e.readOnly),this.attachClass("cke_editable"),e.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?this.attachClass("cke_editable_inline"):(e.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE||e.elementMode==CKEDITOR.ELEMENT_MODE_APPENDTO)&&this.attachClass("cke_editable_themed"),this.attachClass("cke_contents_"+e.config.contentsLangDirection);
var t=e.keystrokeHandler;if(t.blockedKeystrokes[8]=+e.readOnly,e.keystrokeHandler.attach(this),this.on("blur",function(){this.hasFocus=!1},null,null,-1),this.on("focus",function(){this.hasFocus=!0},null,null,-1),CKEDITOR.env.webkit&&this.on("scroll",function(){e._.previousScrollTop=e.editable().$.scrollTop},null,null,-1),CKEDITOR.env.edge&&CKEDITOR.env.version>14){var i=function(){var t=e.editable();null!=e._.previousScrollTop&&t.getDocument().equals(CKEDITOR.document)&&(t.$.scrollTop=e._.previousScrollTop,e._.previousScrollTop=null,this.removeListener("scroll",i))};this.on("scroll",i)}if(e.focusManager.add(this),this.equals(CKEDITOR.document.getActive())&&(this.hasFocus=!0,e.once("contentDom",function(){e.focusManager.focus(this)},this)),this.isInline()&&this.changeAttr("tabindex",e.tabIndex),!this.is("textarea")){e.document=this.getDocument(),e.window=this.getWindow();var o=e.document;this.changeAttr("spellcheck",!e.config.disableNativeSpellChecker);var a=e.config.contentsLangDirection;this.getDirection(1)!=a&&this.changeAttr("dir",a);var l=CKEDITOR.getCss();if(l){var c=o.getHead(),u=c.getCustomData("stylesheet");if(u)l!=u.getText()&&(CKEDITOR.env.ie&&CKEDITOR.env.version<9?u.$.styleSheet.cssText=l:u.setText(l));else{var d=o.appendStyleText(l);d=new CKEDITOR.dom.element(d.ownerNode||d.owningElement),c.setCustomData("stylesheet",d),d.data("cke-temp",1)}}var h=o.getCustomData("stylesheet_ref")||0;o.setCustomData("stylesheet_ref",h+1),this.setCustomData("cke_includeReadonly",!e.config.disableReadonlyStyling),this.attachListener(this,"click",function(e){e=e.data;var t=new CKEDITOR.dom.elementPath(e.getTarget(),this).contains("a");t&&2!=e.$.button&&t.isReadOnly()&&e.preventDefault()});var T={8:1,46:1};this.attachListener(e,"key",function(t){if(e.readOnly)return!0;var n,r=t.data.domEvent.getKey(),i=e.getSelection();if(0!==i.getRanges().length){if(r in T){var o,a,l,c,u=i.getRanges()[0],d=u.startPath(),E=8==r;CKEDITOR.env.ie&&CKEDITOR.env.version<11&&(o=i.getSelectedElement())||(o=s(i))?(e.fire("saveSnapshot"),u.moveToPosition(o,CKEDITOR.POSITION_BEFORE_START),o.remove(),u.select(),e.fire("saveSnapshot"),n=1):u.collapsed&&((a=d.block)&&(c=a[E?"getPrevious":"getNext"](m))&&c.type==CKEDITOR.NODE_ELEMENT&&c.is("table")&&u[E?"checkStartOfBlock":"checkEndOfBlock"]()?(e.fire("saveSnapshot"),u[E?"checkEndOfBlock":"checkStartOfBlock"]()&&a.remove(),u["moveToElementEdit"+(E?"End":"Start")](c),u.select(),e.fire("saveSnapshot"),n=1):d.blockLimit&&d.blockLimit.is("td")&&(l=d.blockLimit.getAscendant("table"))&&u.checkBoundaryOfElement(l,E?CKEDITOR.START:CKEDITOR.END)&&(c=l[E?"getPrevious":"getNext"](m))?(e.fire("saveSnapshot"),u["moveToElementEdit"+(E?"End":"Start")](c),u.checkStartOfBlock()&&u.checkEndOfBlock()?c.remove():u.select(),e.fire("saveSnapshot"),n=1):(l=d.contains(["td","th","caption"]))&&u.checkBoundaryOfElement(l,E?CKEDITOR.START:CKEDITOR.END)&&(n=1))}return!n}}),e.blockless&&CKEDITOR.env.ie&&CKEDITOR.env.needsBrFiller&&this.attachListener(this,"keyup",function(t){if(t.data.getKeystroke()in T&&!this.getFirst(r)){this.appendBogus();var n=e.createRange();n.moveToPosition(this,CKEDITOR.POSITION_AFTER_START),n.select()}}),this.attachListener(this,"dblclick",function(t){if(e.readOnly)return!1;var n={element:t.data.getTarget()};e.fire("doubleclick",n)}),CKEDITOR.env.ie&&this.attachListener(this,"click",n),(!CKEDITOR.env.ie||CKEDITOR.env.edge)&&this.attachListener(this,"mousedown",function(t){var n=t.data.getTarget();n.is("img","hr","input","textarea","select")&&!n.isReadOnly()&&(e.getSelection().selectElement(n),n.is("input","textarea","select")&&t.data.preventDefault())}),CKEDITOR.env.edge&&this.attachListener(this,"mouseup",function(t){var n=t.data.getTarget();n&&n.is("img")&&!n.isReadOnly()&&e.getSelection().selectElement(n)}),CKEDITOR.env.gecko&&this.attachListener(this,"mouseup",function(t){if(2==t.data.$.button){var n=t.data.getTarget();if(!n.getAscendant("table")&&!n.getOuterHtml().replace(g,"")){var r=e.createRange();r.moveToElementEditStart(n),r.select(!0)}}}),CKEDITOR.env.webkit&&(this.attachListener(this,"click",function(e){e.data.getTarget().is("input","select")&&e.data.preventDefault()}),this.attachListener(this,"mouseup",function(e){e.data.getTarget().is("input","textarea")&&e.data.preventDefault()})),CKEDITOR.env.webkit&&this.attachListener(e,"key",function(t){if(e.readOnly)return!0;var n=t.data.domEvent.getKey();if(n in T){var r=e.getSelection();if(0!==r.getRanges().length){var i=8==n,o=r.getRanges()[0],a=o.startPath();if(o.collapsed){if(!E(e,o,i,a))return}else if(!f(e,o,a))return;return e.getSelection().scrollIntoView(),e.fire("saveSnapshot"),!1}}},this,null,100)}},getUniqueId:function(){var e;try{this._.expandoNumber=e=CKEDITOR.dom.domObject.prototype.getUniqueId.call(this)}catch(t){e=this._&&this._.expandoNumber}return e}},_:{cleanCustomData:function(){this.removeClass("cke_editable"),this.restoreAttrs();for(var e=this.removeCustomData("classes");e&&e.length;)this.removeClass(e.pop());if(!this.is("textarea")){var t=this.getDocument(),n=t.getHead();if(n.getCustomData("stylesheet")){var r=t.getCustomData("stylesheet_ref");--r?t.setCustomData("stylesheet_ref",r):(t.removeCustomData("stylesheet_ref"),n.removeCustomData("stylesheet").remove())}}}}}),CKEDITOR.editor.prototype.editable=function(e){var t=this._.editable;return t&&e?0:arguments.length?(e?t=e instanceof CKEDITOR.editable?e:new CKEDITOR.editable(this,e):(t&&t.detach(),t=null),this._.editable=t):t},CKEDITOR.on("instanceLoaded",function(t){var n=t.editor;n.on("insertElement",function(e){var t=e.data;t.type==CKEDITOR.NODE_ELEMENT&&(t.is("input")||t.is("textarea"))&&("false"!=t.getAttribute("contentEditable")&&t.data("cke-editable",t.hasAttribute("contenteditable")?"true":"1"),t.setAttribute("contentEditable",!1))}),n.on("selectionChange",function(t){if(!n.readOnly){var r=n.getSelection();if(r&&!r.isLocked){var i=n.checkDirty();n.fire("lockSnapshot"),e(t),n.fire("unlockSnapshot"),!i&&n.resetDirty()}}})}),CKEDITOR.on("instanceCreated",function(e){var t=e.editor;t.on("mode",function(){var e=t.editable();if(e&&e.isInline()){var n=t.title;e.changeAttr("role","textbox"),e.changeAttr("aria-multiline","true"),e.changeAttr("aria-label",n),n&&e.changeAttr("title",n);var r=t.fire("ariaEditorHelpLabel",{}).label;if(r){var i=this.ui.space(this.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?"top":"contents");if(i){var o=CKEDITOR.tools.getNextId(),a=CKEDITOR.dom.element.createFromHtml('<span id="'+o+'" class="cke_voice_label">'+r+"</span>");i.append(a),e.changeAttr("aria-describedby",o)}}}})}),CKEDITOR.addCss(".cke_editable{cursor:text}.cke_editable img,.cke_editable input,.cke_editable textarea{cursor:default}"),m=CKEDITOR.dom.walker.whitespaces(!0),T=CKEDITOR.dom.walker.bookmark(!1,!0),C=CKEDITOR.dom.walker.empty(),O=CKEDITOR.dom.walker.bogus(),g=/(^|<body\b[^>]*>)\s*<(p|div|address|h\d|center|pre)[^>]*>\s*(?:<br[^>]*>|&nbsp;|\u00A0|&#160;)?\s*(:?<\/\2>)?\s*(?=$|<\/body>)/gi,p=function(){"use strict";function e(e,r,s,l){var c=e.editor,u=!1;if("unfiltered_html"==r&&(r="html",u=!0),!l.checkReadOnly()){var d=new CKEDITOR.dom.elementPath(l.startContainer,l.root),E=d.blockLimit||l.root,f={type:r,dontFilter:u,editable:e,editor:c,range:l,blockLimit:E,mergeCandidates:[],zombies:[]};n(f),c.enterMode===CKEDITOR.ENTER_DIV&&""===c.getData(!0)&&t(e,l),s&&i(f,s)&&o(f),a(f)}}function t(e,t){var n=e.getFirst();n&&n.remove(),t.setStartAt(e,CKEDITOR.POSITION_AFTER_START),t.collapse(!0)}function n(e){var t,n,i,o,a,l,c,d,E=e.range,f=e.mergeCandidates,T="html"===e.type;if("text"==e.type&&E.shrink(CKEDITOR.SHRINK_ELEMENT,!0,!1)&&(n=CKEDITOR.dom.element.createFromHtml("<span>&nbsp;</span>",E.document),E.insertNode(n),E.setStartAfter(n)),o=new CKEDITOR.dom.elementPath(E.startContainer),e.endPath=a=new CKEDITOR.dom.elementPath(E.endContainer),!E.collapsed){t=a.block||a.blockLimit;var O=E.getCommonAncestor();t&&!t.equals(O)&&!t.contains(O)&&E.checkEndOfBlock()&&e.zombies.push(t),E.deleteContents()}for(;(l=h(E))&&s(l)&&l.isBlockBoundary()&&o.contains(l);)E.moveToPosition(l,CKEDITOR.POSITION_BEFORE_END);for(C(E,e.blockLimit,o,a),n&&(E.setEndBefore(n),E.collapse(),n.remove()),i=E.startPath(),(t=i.contains(m,!1,1))&&(d=E.splitElement(t),e.inlineStylesRoot=t,e.inlineStylesPeak=i.lastElement),c=E.createBookmark(),T&&(u(t),u(d)),t=c.startNode.getPrevious(r),t&&s(t)&&m(t)&&f.push(t),t=c.startNode.getNext(r),t&&s(t)&&m(t)&&f.push(t),t=c.startNode;(t=t.getParent())&&m(t);)f.push(t);E.moveToBookmark(c)}function i(e,t){var n=e.range;"text"==e.type&&e.inlineStylesRoot&&(t=D(t,e));var r=e.blockLimit.getName();if(/^\s+|\s+$/.test(t)&&"span"in CKEDITOR.dtd[r]){var i='<span data-cke-marker="1">&nbsp;</span>';t=i+t+i}t=e.editor.dataProcessor.toHtml(t,{context:null,fixForBody:!1,protectedWhitespaces:!!i,dontFilter:e.dontFilter,filter:e.editor.activeFilter,enterMode:e.editor.activeEnterMode});var o=n.document,a=o.createElement("body");a.setHtml(t),i&&(a.getFirst().remove(),a.getLast().remove());var s=n.startPath().block;return!s||1==s.getChildCount()&&s.getBogus()||p(a),e.dataWrapper=a,t}function o(e){var t,n,r,i,o,a,s,u,f,h,m,C=e.range,p=C.document,D=e.blockLimit,R=0,v=[],K=0,y=0,b=C.startContainer,k=e.endPath.elements[0],N=k.getPosition(b),_=!(!k.getCommonAncestor(b)||N==CKEDITOR.POSITION_IDENTICAL||N&CKEDITOR.POSITION_CONTAINS+CKEDITOR.POSITION_IS_CONTAINED);for(n=d(e.dataWrapper,e),O(n,C);R<n.length;R++)if(r=n[R],r.isLineBreak&&g(C,D,r))y=R>0;else{if(t=C.startPath(),!r.isBlock&&l(e.editor,t.block,t.blockLimit)&&(s=c(e.editor))&&(s=p.createElement(s),s.appendBogus(),C.insertNode(s),CKEDITOR.env.needsBrFiller&&(o=s.getBogus())&&o.remove(),C.moveToPosition(s,CKEDITOR.POSITION_BEFORE_END)),i=C.startPath().block,i&&!i.equals(a)&&(o=i.getBogus(),o&&(o.remove(),v.push(i)),a=i),r.firstNotAllowed&&(K=1),K&&r.isElement){for(u=C.startContainer,f=null;u&&!I[u.getName()][r.name];){if(u.equals(D)){u=null;break}f=u,u=u.getParent()}u?f&&(h=C.splitElement(f),e.zombies.push(h),e.zombies.push(f)):m=E(r.node,D.getName(),!R,R==n.length-1)}if(m){for(;i=m.pop();)C.insertNode(i);m=0}else C.insertNode(r.node);r.lastNotAllowed&&R<n.length-1&&(h=_?k:h,h&&C.setEndAt(h,CKEDITOR.POSITION_AFTER_START),K=0),C.collapse()}T(n)&&(y=!0,i=n[0].node,C.setStartAt(i,CKEDITOR.POSITION_BEFORE_START),C.setEndAt(i,CKEDITOR.POSITION_AFTER_END)),e.dontMoveCaret=y,e.bogusNeededBlocks=v}function a(e){for(var t,n,i,o=e.range,a=e.bogusNeededBlocks,l=o.createBookmark();t=e.zombies.pop();)t.getParent()&&(n=o.clone(),n.moveToElementEditStart(t),n.removeEmptyBlocksAtEnd());if(a)for(;t=a.pop();)CKEDITOR.env.needsBrFiller?t.appendBogus():t.append(o.document.createText(" "));for(;t=e.mergeCandidates.pop();)t.mergeSiblings();if(o.moveToBookmark(l),!e.dontMoveCaret){for(t=h(o);t&&s(t)&&!t.is(I.$empty);){if(t.isBlockBoundary())o.moveToPosition(t,CKEDITOR.POSITION_BEFORE_END);else{if(m(t)&&t.getHtml().match(/(\s|&nbsp;)$/g)){i=null;break}i=o.clone(),i.moveToPosition(t,CKEDITOR.POSITION_BEFORE_END)}t=t.getLast(r)}i&&o.moveToRange(i)}}function s(e){return e.type==CKEDITOR.NODE_ELEMENT}function d(e,t){for(var n,r,i,o,a,l=[],c=t.range.startContainer,u=t.range.startPath(),E=I[c.getName()],f=0,h=e.getChildren(),m=h.count(),T=-1,C=-1,O=0,g=u.contains(I.$list);m>f;++f)if(n=h.getItem(f),s(n)){if(i=n.getName(),g&&i in CKEDITOR.dtd.$list){l=l.concat(d(n,t));continue}o=!!E[i],"br"!=i||!n.data("cke-eol")||f&&f!=m-1||(r=f?l[f-1].node:h.getItem(f+1),O=r&&(!s(r)||!r.is("br")),a=r&&s(r)&&I.$block[r.getName()]),-1!=T||o||(T=f),o||(C=f),l.push({isElement:1,isLineBreak:O,isBlock:n.isBlockBoundary(),hasBlockSibling:a,node:n,name:i,allowed:o}),O=0,a=0}else l.push({isElement:0,node:n,allowed:1});return T>-1&&(l[T].firstNotAllowed=1),C>-1&&(l[C].lastNotAllowed=1),l}function E(e,t,n,r){for(var i,o=f(e,t),a=[],s=o.length,l=0,c=0,u=-1;s>l;l++)i=o[l]," "==i?(c||n&&!l||(a.push(new CKEDITOR.dom.text(" ")),u=a.length),c=1):(a.push(i),c=0);return r&&u==a.length&&a.pop(),a}function f(e,t){var n,r=[],i=e.getChildren(),o=i.count(),a=0,l=I[t],c=!e.is(I.$inline)||e.is("br");for(c&&r.push(" ");o>a;a++)n=i.getItem(a),s(n)&&!n.is(l)?r=r.concat(f(n,t)):r.push(n);return c&&r.push(" "),r}function h(e){return s(e.startContainer)&&e.startContainer.getChild(e.startOffset-1)}function m(e){return e&&s(e)&&(e.is(I.$removeEmpty)||e.is("a")&&!e.isBlockBoundary())}function T(e){if(1!=e.length)return!1;var t=e[0];return t.isElement&&"false"==t.node.getAttribute("contenteditable")}function C(e,t,n,r){var i,o,a,l=e.clone();l.setEndAt(t,CKEDITOR.POSITION_BEFORE_END),i=new CKEDITOR.dom.walker(l),(o=i.next())&&s(o)&&R[o.getName()]&&(a=o.getPrevious())&&s(a)&&!a.getParent().equals(e.startContainer)&&n.contains(a)&&r.contains(o)&&o.isIdentical(a)&&(o.moveChildren(a),o.remove(),C(e,t,n,r))}function O(e,t){function n(e,t){return t.isBlock&&t.isElement&&!t.node.is("br")&&s(e)&&e.is("br")?(e.remove(),1):void 0}var r=t.endContainer.getChild(t.endOffset),i=t.endContainer.getChild(t.endOffset-1);r&&n(r,e[e.length-1]),i&&n(i,e[0])&&(t.setEnd(t.endContainer,t.endOffset-1),t.collapse())}function g(e,t,n){var r,i;if(n.hasBlockSibling)return 1;if(r=e.startContainer.getAscendant(I.$block,1),!r||!r.is({div:1,p:1}))return 0;if(i=r.getPosition(t),i==CKEDITOR.POSITION_IDENTICAL||i==CKEDITOR.POSITION_CONTAINS)return 0;var o=e.splitElement(r);return e.moveToPosition(o,CKEDITOR.POSITION_AFTER_START),1}function p(e){var t,n;if(1==e.getChildCount()&&s(t=e.getFirst())&&t.is(v)&&!t.hasAttribute("contenteditable")){n=t.getElementsByTag("*");for(var r,i=0,o=n.count();o>i;i++)if(r=n.getItem(i),!r.is(K))return;t.moveChildren(t.getParent(1)),t.remove()}}function D(e,t){for(var n=t.inlineStylesPeak,r=n.getDocument(),i=r.createText("{cke-peak}"),o=t.inlineStylesRoot.getParent();!n.equals(o);)i=i.appendTo(n.clone()),n=n.getParent();return i.getOuterHtml().split("{cke-peak}").join(e)}var I=CKEDITOR.dtd,R={p:1,div:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,ul:1,ol:1,li:1,pre:1,dl:1,blockquote:1},v={p:1,div:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1},K=CKEDITOR.tools.extend({},I.$inline);return delete K.br,e}(),D=function(){function e(e){var t=new CKEDITOR.dom.walker(e);return t.guard=function(e,t){return t?!1:e.type==CKEDITOR.NODE_ELEMENT?e.is(CKEDITOR.dtd.$tableContent):void 0},t.evaluator=function(e){return e.type==CKEDITOR.NODE_ELEMENT},t}function t(e,t,n){var r=e.getDocument().createElement(t);return e.append(r,n),r}function n(e){var t,n=e.count();for(n;n-->0;)t=e.getItem(n),CKEDITOR.tools.trim(t.getHtml())||(t.appendBogus(),CKEDITOR.env.ie&&CKEDITOR.env.version<9&&t.getChildCount()&&t.getFirst().remove())}return function(r){var i,o,a=r.startContainer,s=a.getAscendant("table",1),l=!1;if(n(s.getElementsByTag("td")),n(s.getElementsByTag("th")),i=r.clone(),i.setStart(a,0),o=e(i).lastBackward(),o||(i=r.clone(),i.setEndAt(a,CKEDITOR.POSITION_BEFORE_END),o=e(i).lastForward(),l=!0),o||(o=a),o.is("table"))return r.setStartAt(o,CKEDITOR.POSITION_BEFORE_START),r.collapse(!0),void o.remove();o.is({tbody:1,thead:1,tfoot:1})&&(o=t(o,"tr",l)),o.is("tr")&&(o=t(o,o.getParent().is("thead")?"th":"td",l));var c=o.getBogus();c&&c.remove(),r.moveToPosition(o,l?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_END)}}(),I=function(){function e(e){var t=new CKEDITOR.dom.walker(e);return t.guard=function(e,t){return t?!1:e.type==CKEDITOR.NODE_ELEMENT?e.is(CKEDITOR.dtd.$list)||e.is(CKEDITOR.dtd.$listItem):void 0},t.evaluator=function(e){return e.type==CKEDITOR.NODE_ELEMENT&&e.is(CKEDITOR.dtd.$listItem)},t}return function(t){var n,r,i=t.startContainer,o=!1;if(n=t.clone(),n.setStart(i,0),r=e(n).lastBackward(),r||(n=t.clone(),n.setEndAt(i,CKEDITOR.POSITION_BEFORE_END),r=e(n).lastForward(),o=!0),r||(r=i),r.is(CKEDITOR.dtd.$list))return t.setStartAt(r,CKEDITOR.POSITION_BEFORE_START),t.collapse(!0),void r.remove();var a=r.getBogus();a&&a.remove(),t.moveToPosition(r,o?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_END),t.select()}}(),R={eol:{detect:function(e,t){var n=e.range,r=n.clone(),i=n.clone(),o=new CKEDITOR.dom.elementPath(n.startContainer,t),a=new CKEDITOR.dom.elementPath(n.endContainer,t);r.collapse(1),i.collapse(),o.block&&r.checkBoundaryOfElement(o.block,CKEDITOR.END)&&(n.setStartAfter(o.block),e.prependEolBr=1),a.block&&i.checkBoundaryOfElement(a.block,CKEDITOR.START)&&(n.setEndBefore(a.block),e.appendEolBr=1)},fix:function(e,t){var n,r=t.getDocument();e.appendEolBr&&(n=this.createEolBr(r),e.fragment.append(n)),!e.prependEolBr||n&&!n.getPrevious()||e.fragment.append(this.createEolBr(r),1)},createEolBr:function(e){return e.createElement("br",{attributes:{"data-cke-eol":1}})}},bogus:{exclude:function(e){var t=e.range.getBoundaryNodes(),n=t.startNode,r=t.endNode;!r||!O(r)||n&&n.equals(r)||e.range.setEndBefore(r)}},tree:{rebuild:function(e,t){var n,r=e.range,i=r.getCommonAncestor(),o=new CKEDITOR.dom.elementPath(i,t),a=new CKEDITOR.dom.elementPath(r.startContainer,t),s=new CKEDITOR.dom.elementPath(r.endContainer,t);if(i.type==CKEDITOR.NODE_TEXT&&(i=i.getParent()),o.blockLimit.is({tr:1,table:1})){var l=o.contains("table").getParent();n=function(e){return!e.equals(l)}}else if(o.block&&o.block.is(CKEDITOR.dtd.$listItem)){var c=a.contains(CKEDITOR.dtd.$list),u=s.contains(CKEDITOR.dtd.$list);if(!c.equals(u)){var d=o.contains(CKEDITOR.dtd.$list).getParent();n=function(e){return!e.equals(d)}}}n||(n=function(e){return!e.equals(o.block)&&!e.equals(o.blockLimit)}),this.rebuildFragment(e,t,i,n)},rebuildFragment:function(e,t,n,r){for(var i;n&&!n.equals(t)&&r(n);)i=n.clone(0,1),e.fragment.appendTo(i),e.fragment=i,n=n.getParent()}},cell:{shrink:function(e){var t=e.range,n=t.startContainer,r=t.endContainer,i=t.startOffset,o=t.endOffset;n.type==CKEDITOR.NODE_ELEMENT&&n.equals(r)&&n.is("tr")&&++i==o&&t.shrink(CKEDITOR.SHRINK_TEXT)}}},v=function(){function e(e,t){var n=e.getParent();n.is(CKEDITOR.dtd.$inline)&&e[t?"insertBefore":"insertAfter"](n)}function t(t,n,r){e(n),e(r,1);for(var i;i=r.getNext();)i.insertAfter(n),n=i;C(t)&&t.remove()}function n(e,t){return new CKEDITOR.dom.elementPath(e,t)}function r(e,t){var n=new CKEDITOR.dom.range(e);return n.setStartAfter(t.startNode),n.setEndBefore(t.endNode),n}var i={detectMerge:function(e,t){var n=r(t,e.bookmark),i=n.startPath(),o=n.endPath(),a=i.contains(CKEDITOR.dtd.$list),s=o.contains(CKEDITOR.dtd.$list);if(e.mergeList=a&&s&&a.getParent().equals(s.getParent())&&!a.equals(s),e.mergeListItems=i.block&&o.block&&i.block.is(CKEDITOR.dtd.$listItem)&&o.block.is(CKEDITOR.dtd.$listItem),e.mergeList||e.mergeListItems){var l=n.clone();l.setStartBefore(e.bookmark.startNode),l.setEndAfter(e.bookmark.endNode),e.mergeListBookmark=l.createBookmark()}},merge:function(e,r){if(e.mergeListBookmark){var i=e.mergeListBookmark.startNode,o=e.mergeListBookmark.endNode,a=n(i,r),s=n(o,r);if(e.mergeList){var l=a.contains(CKEDITOR.dtd.$list),c=s.contains(CKEDITOR.dtd.$list);l.equals(c)||(c.moveChildren(l),c.remove())}if(e.mergeListItems){var u=a.contains(CKEDITOR.dtd.$listItem),d=s.contains(CKEDITOR.dtd.$listItem);u.equals(d)||t(d,i,o)}i.remove(),o.remove()}}},o={detectMerge:function(e,t){if(!e.tableContentsRanges&&!e.mergeListBookmark){var n=new CKEDITOR.dom.range(t);n.setStartBefore(e.bookmark.startNode),n.setEndAfter(e.bookmark.endNode),e.mergeBlockBookmark=n.createBookmark()}},merge:function(e,r){if(e.mergeBlockBookmark&&!e.purgeTableBookmark){var i=e.mergeBlockBookmark.startNode,o=e.mergeBlockBookmark.endNode,a=n(i,r),s=n(o,r),l=a.block,c=s.block;l&&c&&!l.equals(c)&&t(c,i,o),i.remove(),o.remove()}}},a=function(){function e(e){function t(e){if(e.is(i)){var t=l&&l.getAscendant("table",!0),n=c&&c.getAscendant("table",!0),r=e.getAscendant("table",!0);return t&&t.contains(r)||n&&n.contains(r)}}function r(e){return e.type==CKEDITOR.NODE_ELEMENT&&e.is(i)&&(!l||n(e,l))&&(!c||n(e,c))}var o,a=[],s=new CKEDITOR.dom.walker(e),l=e.startPath().contains(i),c=e.endPath().contains(i),u={};return s.guard=function(n,i){if(n.type==CKEDITOR.NODE_ELEMENT){var s="visited_"+(i?"out":"in");if(n.getCustomData(s))return;CKEDITOR.dom.element.setMarker(u,n,s,1)}return i&&l&&n.equals(l)?(o=e.clone(),o.setEndAt(l,CKEDITOR.POSITION_BEFORE_END),void a.push(o)):!i&&c&&n.equals(c)?(o=e.clone(),o.setStartAt(c,CKEDITOR.POSITION_AFTER_START),void a.push(o)):void((!i&&r(n)||i&&t(n))&&(o=e.clone(),o.selectNodeContents(n),a.push(o)))},s.lastForward(),CKEDITOR.dom.element.clearAllMarkers(u),a}function t(e){var t=e.getCommonAncestor();return t.is(CKEDITOR.dtd.$tableContent)&&!t.is(i)&&(t=t.getAscendant("table",!0)),t}function n(e,t){var n=CKEDITOR.POSITION_CONTAINS+CKEDITOR.POSITION_IS_CONTAINED,r=e.getPosition(t);return r===CKEDITOR.POSITION_IDENTICAL?!1:0===(r&n)}var i={td:1,th:1,caption:1};return{detectPurge:function(e){var t=e.range,n=t.clone();n.enlarge(CKEDITOR.ENLARGE_ELEMENT);var r=new CKEDITOR.dom.walker(n),o=0;if(r.evaluator=function(e){e.type==CKEDITOR.NODE_ELEMENT&&e.is(i)&&++o},r.checkForward(),o>1){var a=t.startPath().contains("table"),s=t.endPath().contains("table");if(a&&s&&t.checkBoundaryOfElement(a,CKEDITOR.START)&&t.checkBoundaryOfElement(s,CKEDITOR.END)){var l=e.range.clone();l.setStartBefore(a),l.setEndAfter(s),e.purgeTableBookmark=l.createBookmark()}}},detectRanges:function(i,o){var a,s,l,c=r(o,i.bookmark),u=c.clone(),d=t(c),E=new CKEDITOR.dom.elementPath(c.startContainer,d),f=new CKEDITOR.dom.elementPath(c.endContainer,d),h=E.contains("table"),m=f.contains("table");(h||m)&&(h&&m&&n(h,m)?(i.tableSurroundingRange=u,u.setStartAt(h,CKEDITOR.POSITION_AFTER_END),u.setEndAt(m,CKEDITOR.POSITION_BEFORE_START),a=c.clone(),a.setEndAt(h,CKEDITOR.POSITION_AFTER_END),s=c.clone(),s.setStartAt(m,CKEDITOR.POSITION_BEFORE_START),l=e(a).concat(e(s))):h?m||(i.tableSurroundingRange=u,u.setStartAt(h,CKEDITOR.POSITION_AFTER_END),c.setEndAt(h,CKEDITOR.POSITION_AFTER_END)):(i.tableSurroundingRange=u,u.setEndAt(m,CKEDITOR.POSITION_BEFORE_START),c.setStartAt(m,CKEDITOR.POSITION_AFTER_START)),i.tableContentsRanges=l?l:e(c))},deleteRanges:function(e){for(var t;t=e.tableContentsRanges.pop();)t.extractContents(),C(t.startContainer)&&t.startContainer.appendBogus();e.tableSurroundingRange&&e.tableSurroundingRange.extractContents()},purge:function(e){if(e.purgeTableBookmark){var t=e.doc,n=e.range,r=n.clone(),i=t.createElement("p");i.insertBefore(e.purgeTableBookmark.startNode),r.moveToBookmark(e.purgeTableBookmark),r.deleteContents(),e.range.moveToPosition(i,CKEDITOR.POSITION_AFTER_START)}}}}();return{list:i,block:o,table:a,detectExtractMerge:function(e){return!(e.range.startPath().contains(CKEDITOR.dtd.$listItem)&&e.range.endPath().contains(CKEDITOR.dtd.$listItem))},fixUneditableRangePosition:function(e){e.startContainer.getDtd()["#"]||e.moveToClosestEditablePosition(null,!0)},autoParagraph:function(e,t){var n,r=t.startPath();l(e,r.block,r.blockLimit)&&(n=c(e))&&(n=t.document.createElement(n),n.appendBogus(),t.insertNode(n),t.moveToPosition(n,CKEDITOR.POSITION_AFTER_START))}}}()}(),function(){function e(e){return CKEDITOR.plugins.widget&&CKEDITOR.plugins.widget.isDomWidget(e)}function t(t,n){function r(e){var t,n=e.startContainer.getAscendant({td:1,th:1},!0),r=e.endContainer.getAscendant({td:1,th:1},!0),i=CKEDITOR.tools.trim;return n&&n.equals(r)&&!n.findOne("td, th, tr, tbody, table")?(t=e.cloneContents(),t.getFirst()?i(t.getFirst().getText())!==i(n.getText()):!0):!1}if(0===t.length)return!1;if(e(t[0].getEnclosedNode()))return!1;var i,o;if(!n&&1===t.length&&(t[0].collapsed||r(t[0])))return!1;for(o=0;o<t.length;o++)if(i=t[o]._getTableElement(),!i)return!1;return!0}function n(e){return e&&e.plugins.tableselection&&e.plugins.tableselection.isSupportedEnvironment(e)}function r(n,r){function i(e,n,r,i){var a=1===r.length&&r[0].collapsed,s=t(r,!!CKEDITOR.env.webkit)&&t(i);return o(e,n)&&(a||s)}function o(e,t){return e&&t?e.equals(t)||t.contains(e):!1}var a=n.getRanges(),s=r.getRanges(),l=a.length&&a[0]._getTableElement()&&a[0]._getTableElement().getAscendant("table",!0),c=s.length&&s[0]._getTableElement()&&s[0]._getTableElement().getAscendant("table",!0),u=1===a.length&&a[0]._getTableElement()&&a[0]._getTableElement().is("table"),d=1===s.length&&s[0]._getTableElement()&&s[0]._getTableElement().is("table");return e(r.getSelectedElement())?!1:i(l,c,a,s)?(u&&!d&&r.selectRanges(a),!0):!1}function i(e){function t(e){var t,n=e.find("td, th"),r=[];for(t=0;t<n.count();t++)r.push(n.getItem(t));return r}var n,r,i=[];for(r=0;r<e.length;r++)n=e[r]._getTableElement(),n.is&&n.is({td:1,th:1})?i.push(n):i=i.concat(t(n));return i}function o(e){var t,n,r=i(e),o="",a=[];for(n=0;n<r.length;n++)t&&!t.equals(r[n].getAscendant("tr"))?(o+=a.join("	")+"\n",t=r[n].getAscendant("tr"),a=[]):0===n&&(t=r[n].getAscendant("tr")),a.push(r[n].getText());return o+=a.join("	")}function a(e){var t,n=this.root.editor,r=n.getSelection(1);this.reset(),v=!0,r.root.once("selectionchange",function(e){e.cancel()},null,null,0),r.selectRanges([e[0]]),t=this._.cache,t.ranges=new CKEDITOR.dom.rangeList(e),t.type=CKEDITOR.SELECTION_TEXT,t.selectedElement=e[0]._getTableElement(),t.selectedText=o(e),t.nativeSel=null,this.isFake=1,this.rev=k++,n._.fakeSelection=this,v=!1,this.root.fire("selectionchange")}function s(){var e,t=this._.fakeSelection;if(t&&(e=this.getSelection(1),e&&(e.isHidden()||r(e,t))||(t.reset(),t=0)),t||(t=e||this.getSelection(1),t&&t.getType()!=CKEDITOR.SELECTION_NONE)){this.fire("selectionCheck",t);var n=this.elementPath();if(!n.compare(this._.selectionPreviousPath)){var i=this._.selectionPreviousPath&&this._.selectionPreviousPath.blockLimit.equals(n.blockLimit);!CKEDITOR.env.webkit&&!CKEDITOR.env.gecko||i||(this._.previousActive=this.document.getActive()),this._.selectionPreviousPath=n,this.fire("selectionChange",{selection:t,path:n})}}}function l(){y=!0,K||(c.call(this),K=CKEDITOR.tools.setTimeout(c,200,this))}function c(){K=null,y&&(CKEDITOR.tools.setTimeout(s,0,this),y=!1)}function u(e){return S(e)?!0:e.type!=CKEDITOR.NODE_ELEMENT||e.is(CKEDITOR.dtd.$empty)?!1:!0}function d(e){function t(t,n){if(!t||t.type==CKEDITOR.NODE_TEXT)return!1;var r=e.clone();return r["moveToElementEdit"+(n?"End":"Start")](t)}if(!(e.root instanceof CKEDITOR.editable))return!1;var n=e.startContainer,r=e.getPreviousNode(u,null,n),i=e.getNextNode(u,null,n);return t(r)||t(i,1)?!0:r||i||n.type==CKEDITOR.NODE_ELEMENT&&n.isBlockBoundary()&&n.getBogus()?!1:!0}function E(e){h(e,!1);var t=e.getDocument().createText(N);return e.setCustomData("cke-fillingChar",t),t}function f(e){var t=e.getCustomData("cke-fillingChar");t&&(t.getCustomData("ready")?(h(e),e.editor.fire("selectionCheck")):t.setCustomData("ready",1))}function h(e,t){var n=e&&e.removeCustomData("cke-fillingChar");if(n){if(t!==!1){var r=e.getDocument().getSelection().getNative(),i=r&&"None"!=r.type&&r.getRangeAt(0),o=N.length;if(n.getLength()>o&&i&&i.intersectsNode(n.$)){var a=T(r);r.anchorNode==n.$&&r.anchorOffset>o&&(a[0].offset-=o),r.focusNode==n.$&&r.focusOffset>o&&(a[1].offset-=o)}}n.setText(m(n.getText(),1)),a&&C(e.getDocument().$,a)}}function m(e,t){return t?e.replace(_,function(e,t){return t?" ":""}):e.replace(N,"")}function T(e){return[{node:e.anchorNode,offset:e.anchorOffset},{node:e.focusNode,offset:e.focusOffset}]}function C(e,t){var n=e.getSelection(),r=e.createRange();r.setStart(t[0].node,t[0].offset),r.collapse(!0),n.removeAllRanges(),n.addRange(r),n.extend(t[1].node,t[1].offset)}function O(e,t){var n=t&&CKEDITOR.tools.htmlEncode(t)||"&nbsp;",r=CKEDITOR.env.ie&&CKEDITOR.env.version<14?"display:none":"position:fixed;top:0;left:-1000px;width:0;height:0;overflow:hidden;",i=CKEDITOR.dom.element.createFromHtml('<div data-cke-hidden-sel="1" data-cke-temp="1" style="'+r+'">'+n+"</div>",e.document);e.fire("lockSnapshot"),e.editable().append(i);var o=e.getSelection(1),a=e.createRange(),s=o.root.on("selectionchange",function(e){e.cancel()},null,null,0);a.setStartAt(i,CKEDITOR.POSITION_AFTER_START),a.setEndAt(i,CKEDITOR.POSITION_BEFORE_END),o.selectRanges([a]),s.removeListener(),e.fire("unlockSnapshot"),e._.hiddenSelectionContainer=i}function g(e){var t=e._.hiddenSelectionContainer;if(t){var n=e.checkDirty();e.fire("lockSnapshot"),t.remove(),e.fire("unlockSnapshot"),!n&&e.resetDirty()}delete e._.hiddenSelectionContainer}function p(e){var t={37:1,39:1,8:1,46:1};return function(n){var r=n.data.getKeystroke();if(t[r]){var i=e.getSelection(),o=i.getRanges(),a=o[0];if(1==o.length&&a.collapsed){var s=a[38>r?"getPreviousEditableNode":"getNextEditableNode"]();s&&s.type==CKEDITOR.NODE_ELEMENT&&"false"==s.getAttribute("contenteditable")&&(e.getSelection().fake(s),n.data.preventDefault(),n.cancel())}}}}function D(e){var t,n,r,i;return 1==e.length&&!(i=e[0]).collapsed&&(t=i.getEnclosedNode())&&t.type==CKEDITOR.NODE_ELEMENT&&(r=i.clone(),r.shrink(CKEDITOR.SHRINK_ELEMENT,!0),(n=r.getEnclosedNode())&&n.type==CKEDITOR.NODE_ELEMENT&&(t=n),"false"==t.getAttribute("contenteditable"))?t:void 0}function I(e,t){for(var n,r=0;r<e.length;++r)n=e[r],n.endContainer.equals(t)&&(n.endOffset=Math.min(n.endOffset,t.getChildCount()))}function R(e){for(var t=0;t<e.length;t++){var n=e[t],r=n.getCommonAncestor();if(r.isReadOnly()&&e.splice(t,1),!n.collapsed){if(n.startContainer.isReadOnly())for(var i,o=n.startContainer;o&&(i=o.type==CKEDITOR.NODE_ELEMENT,!(i&&o.is("body")||!o.isReadOnly()));)i&&"false"==o.getAttribute("contentEditable")&&n.setStartAfter(o),o=o.getParent();var a=n.startContainer,s=n.endContainer,l=n.startOffset,c=n.endOffset,u=n.clone();a&&a.type==CKEDITOR.NODE_TEXT&&(l>=a.getLength()?u.setStartAfter(a):u.setStartBefore(a)),s&&s.type==CKEDITOR.NODE_TEXT&&(c?u.setEndAfter(s):u.setEndBefore(s));var d=new CKEDITOR.dom.walker(u);d.evaluator=function(r){if(r.type==CKEDITOR.NODE_ELEMENT&&r.isReadOnly()){var i=n.clone();return n.setEndBefore(r),n.collapsed&&e.splice(t--,1),r.getPosition(u.endContainer)&CKEDITOR.POSITION_CONTAINS||(i.setStartAfter(r),i.collapsed||e.splice(t+1,0,i)),!0}return!1},d.next()}}return e}var v,K,y,b="function"!=typeof window.getSelection,k=1,N=CKEDITOR.tools.repeat("​",7),_=new RegExp(N+"( )?","g"),S=CKEDITOR.dom.walker.invisible(1),w=function(){function e(e){return function(t){var n=t.editor.createRange();return n.moveToClosestEditablePosition(t.selected,e)&&t.editor.getSelection().selectRanges([n]),!1}}function t(e){return function(t){var n,r=t.editor,i=r.createRange();if(!r.readOnly)return(n=i.moveToClosestEditablePosition(t.selected,e))||(n=i.moveToClosestEditablePosition(t.selected,!e)),n&&r.getSelection().selectRanges([i]),r.fire("saveSnapshot"),t.selected.remove(),n||(i.moveToElementEditablePosition(r.editable()),r.getSelection().selectRanges([i])),r.fire("saveSnapshot"),!1}}var n=e(),r=e(1);return{37:n,38:n,39:r,40:r,8:t(),46:t(1)}}();CKEDITOR.on("instanceCreated",function(e){function t(){var e=n.getSelection();e&&e.removeAllRanges()}var n=e.editor;n.on("contentDom",function(){function e(){d=new CKEDITOR.dom.selection(n.getSelection()),d.lock()}function t(e,t,n){try{e.moveToPoint(t,n)}catch(r){}}function r(){f.removeListener("mouseup",i),C.removeListener("mouseup",i)}function i(){r();var e=CKEDITOR.document.$.selection,t=e.createRange();"None"!=e.type&&t.parentElement()&&t.parentElement().ownerDocument==E.$&&t.select()}function o(e){var t,n;a(this.document.getActive())||(t=this.getSelection(1),n=c(t),n&&!n.equals(m)&&(t.selectElement(n),e.data.preventDefault()))}function a(e){return e?"input"===e.getName()||"textarea"===e.getName():!1}function c(e){var t=e.getRanges()[0];if(!t)return null;var n=t.startContainer.getAscendant(function(e){return e.type==CKEDITOR.NODE_ELEMENT&&e.hasAttribute("contenteditable")},!0);return n&&"false"===n.getAttribute("contenteditable")?n:null}var u,d,E=n.document,f=CKEDITOR.document,m=n.editable(),T=E.getBody(),C=E.getDocumentElement(),O=m.isInline();if(CKEDITOR.env.gecko&&m.attachListener(m,"focus",function(e){if(e.removeListener(),0!==u){var t=n.getSelection().getNative();if(t&&t.isCollapsed&&t.anchorNode==m.$){var r=n.createRange();r.moveToElementEditStart(m),r.select()}}},null,null,-2),m.attachListener(m,CKEDITOR.env.webkit||CKEDITOR.env.gecko?"focusin":"focus",function(){if(u&&(CKEDITOR.env.webkit||CKEDITOR.env.gecko)){u=n._.previousActive&&n._.previousActive.equals(E.getActive());
var e=null!=n._.previousScrollTop&&n._.previousScrollTop!=m.$.scrollTop;CKEDITOR.env.webkit&&u&&e&&(m.$.scrollTop=n._.previousScrollTop)}n.unlockSelection(u),u=0},null,null,-1),m.attachListener(m,"mousedown",function(){u=0}),(CKEDITOR.env.ie||CKEDITOR.env.gecko||O)&&(b?m.attachListener(m,"beforedeactivate",e,null,null,-1):m.attachListener(n,"selectionCheck",e,null,null,-1),m.attachListener(m,CKEDITOR.env.webkit||CKEDITOR.env.gecko?"focusout":"blur",function(){var e=d&&(d.isFake||d.getRanges().length<2);CKEDITOR.env.gecko&&!O&&e||(n.lockSelection(d),u=1)},null,null,-1),m.attachListener(m,"mousedown",function(){u=0})),CKEDITOR.env.ie&&!O){var g;if(m.attachListener(m,"mousedown",function(e){if(2==e.data.$.button){var t=n.document.getSelection();t&&t.getType()!=CKEDITOR.SELECTION_NONE||(g=n.window.getScrollPosition())}}),m.attachListener(m,"mouseup",function(e){2==e.data.$.button&&g&&(n.document.$.documentElement.scrollLeft=g.x,n.document.$.documentElement.scrollTop=g.y),g=null}),"BackCompat"!=E.$.compatMode){if(CKEDITOR.env.ie7Compat||CKEDITOR.env.ie6Compat){var D,I;C.on("mousedown",function(e){function n(e){if(e=e.data.$,D){var n=T.$.createTextRange();t(n,e.clientX,e.clientY),D.setEndPoint(I.compareEndPoints("StartToStart",n)<0?"EndToEnd":"StartToStart",n),D.select()}}function r(){f.removeListener("mouseup",i),C.removeListener("mouseup",i)}function i(){C.removeListener("mousemove",n),r(),D.select()}e=e.data,e.getTarget().is("html")&&e.$.y<C.$.clientHeight&&e.$.x<C.$.clientWidth&&(D=T.$.createTextRange(),t(D,e.$.clientX,e.$.clientY),I=D.duplicate(),C.on("mousemove",n),f.on("mouseup",i),C.on("mouseup",i))})}CKEDITOR.env.version>7&&CKEDITOR.env.version<11&&C.on("mousedown",function(e){e.data.getTarget().is("html")&&(f.on("mouseup",i),C.on("mouseup",i))})}}if(m.attachListener(m,"selectionchange",s,n),m.attachListener(m,"keyup",l,n),m.attachListener(m,"touchstart",l,n),m.attachListener(m,"touchend",l,n),CKEDITOR.env.ie&&m.attachListener(m,"keydown",o,n),m.attachListener(m,CKEDITOR.env.webkit||CKEDITOR.env.gecko?"focusin":"focus",function(){n.forceNextSelectionCheck(),n.selectionChange(1)}),O&&(CKEDITOR.env.webkit||CKEDITOR.env.gecko)){var R;m.attachListener(m,"mousedown",function(){R=1}),m.attachListener(E.getDocumentElement(),"mouseup",function(){R&&l.call(n),R=0})}else m.attachListener(CKEDITOR.env.ie?m:E.getDocumentElement(),"mouseup",l,n);CKEDITOR.env.webkit&&m.attachListener(E,"keydown",function(e){var t=e.data.getKey();switch(t){case 13:case 33:case 34:case 35:case 36:case 37:case 39:case 8:case 45:case 46:m.hasFocus&&h(m)}},null,null,-1),m.attachListener(m,"keydown",p(n),null,null,-1)}),n.on("setData",function(){n.unlockSelection(),CKEDITOR.env.webkit&&t()}),n.on("contentDomUnload",function(){n.unlockSelection()}),CKEDITOR.env.ie9Compat&&n.on("beforeDestroy",t,null,null,9),n.on("dataReady",function(){delete n._.fakeSelection,delete n._.hiddenSelectionContainer,n.selectionChange(1)}),n.on("loadSnapshot",function(){var e=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_ELEMENT),t=n.editable().getLast(e);if(t&&t.hasAttribute("data-cke-hidden-sel")&&(t.remove(),CKEDITOR.env.gecko)){var r=n.editable().getFirst(e);r&&r.is("br")&&r.getAttribute("_moz_editor_bogus_node")&&r.remove()}},null,null,100),n.on("key",function(e){if("wysiwyg"==n.mode){var t=n.getSelection();if(t.isFake){var r=w[e.data.keyCode];return r?r({editor:n,selected:t.getSelectedElement(),selection:t,keyEvent:e}):void 0}}})}),CKEDITOR.env.webkit&&CKEDITOR.on("instanceReady",function(e){var t=e.editor;t.on("selectionChange",function(){f(t.editable())},null,null,-1),t.on("beforeSetMode",function(){h(t.editable())},null,null,-1),t.on("getSnapshot",function(e){e.data&&(e.data=m(e.data))},t,null,20),t.on("toDataFormat",function(e){e.data.dataValue=m(e.data.dataValue)},null,null,0)}),CKEDITOR.editor.prototype.selectionChange=function(e){(e?s:l).call(this)},CKEDITOR.editor.prototype.getSelection=function(e){if((this._.savedSelection||this._.fakeSelection)&&!e)return this._.savedSelection||this._.fakeSelection;var t=this.editable();return t&&"wysiwyg"==this.mode?new CKEDITOR.dom.selection(t):null},CKEDITOR.editor.prototype.getSelectedRanges=function(e){var t=this.getSelection(),n=t&&t.getRanges(e);return n||[]},CKEDITOR.editor.prototype.lockSelection=function(e){return e=e||this.getSelection(1),e.getType()!=CKEDITOR.SELECTION_NONE?(!e.isLocked&&e.lock(),this._.savedSelection=e,!0):!1},CKEDITOR.editor.prototype.unlockSelection=function(e){var t=this._.savedSelection;return t?(t.unlock(e),delete this._.savedSelection,!0):!1},CKEDITOR.editor.prototype.forceNextSelectionCheck=function(){delete this._.selectionPreviousPath},CKEDITOR.dom.document.prototype.getSelection=function(){return new CKEDITOR.dom.selection(this)},CKEDITOR.dom.range.prototype.select=function(){var e=this.root instanceof CKEDITOR.editable?this.root.editor.getSelection():new CKEDITOR.dom.selection(this.root);return e.selectRanges([this]),e},CKEDITOR.SELECTION_NONE=1,CKEDITOR.SELECTION_TEXT=2,CKEDITOR.SELECTION_ELEMENT=3,CKEDITOR.dom.selection=function(e){if(e instanceof CKEDITOR.dom.selection){var t=e;e=e.root}var n,r=e instanceof CKEDITOR.dom.element;if(this.rev=t?t.rev:k++,this.document=e instanceof CKEDITOR.dom.document?e:e.getDocument(),this.root=n=r?e:this.document.getBody(),this.isLocked=0,this._={cache:{}},t)return CKEDITOR.tools.extend(this._.cache,t._.cache),this.isFake=t.isFake,this.isLocked=t.isLocked,this;var i,o,a=this.getNative();if(a)if(a.getRangeAt)o=a.rangeCount&&a.getRangeAt(0),i=o&&new CKEDITOR.dom.node(o.commonAncestorContainer);else{try{o=a.createRange()}catch(s){}i=o&&CKEDITOR.dom.element.get(o.item&&o.item(0)||o.parentElement())}return(!i||i.type!=CKEDITOR.NODE_ELEMENT&&i.type!=CKEDITOR.NODE_TEXT||!this.root.equals(i)&&!this.root.contains(i))&&(this._.cache.type=CKEDITOR.SELECTION_NONE,this._.cache.startElement=null,this._.cache.selectedElement=null,this._.cache.selectedText="",this._.cache.ranges=new CKEDITOR.dom.rangeList),this};var A={img:1,hr:1,li:1,table:1,tr:1,td:1,th:1,embed:1,object:1,ol:1,ul:1,a:1,input:1,form:1,select:1,textarea:1,button:1,fieldset:1,thead:1,tfoot:1};CKEDITOR.tools.extend(CKEDITOR.dom.selection,{_removeFillingCharSequenceString:m,_createFillingCharSequenceNode:E,FILLING_CHAR_SEQUENCE:N}),CKEDITOR.dom.selection.prototype={getNative:function(){return void 0!==this._.cache.nativeSel?this._.cache.nativeSel:this._.cache.nativeSel=b?this.document.$.selection:this.document.getWindow().$.getSelection()},getType:b?function(){var e=this._.cache;if(e.type)return e.type;var t=CKEDITOR.SELECTION_NONE;try{var n=this.getNative(),r=n.type;"Text"==r&&(t=CKEDITOR.SELECTION_TEXT),"Control"==r&&(t=CKEDITOR.SELECTION_ELEMENT),n.createRange().parentElement()&&(t=CKEDITOR.SELECTION_TEXT)}catch(i){}return e.type=t}:function(){var e=this._.cache;if(e.type)return e.type;var t=CKEDITOR.SELECTION_TEXT,n=this.getNative();if(n&&n.rangeCount){if(1==n.rangeCount){var r=n.getRangeAt(0),i=r.startContainer;i==r.endContainer&&1==i.nodeType&&r.endOffset-r.startOffset==1&&A[i.childNodes[r.startOffset].nodeName.toLowerCase()]&&(t=CKEDITOR.SELECTION_ELEMENT)}}else t=CKEDITOR.SELECTION_NONE;return e.type=t},getRanges:function(){var e=b?function(){function e(e){return new CKEDITOR.dom.node(e).getIndex()}var t=function(t,n){t=t.duplicate(),t.collapse(n);var r=t.parentElement();if(!r.hasChildNodes())return{container:r,offset:0};for(var i,o,a,s,l,c=r.children,u=t.duplicate(),d=0,E=c.length-1,f=-1;E>=d;)if(f=Math.floor((d+E)/2),i=c[f],u.moveToElementText(i),a=u.compareEndPoints("StartToStart",t),a>0)E=f-1;else{if(!(0>a))return{container:r,offset:e(i)};d=f+1}if(-1==f||f==c.length-1&&0>a){if(u.moveToElementText(r),u.setEndPoint("StartToStart",t),s=u.text.replace(/(\r\n|\r)/g,"\n").length,c=r.childNodes,!s)return i=c[c.length-1],i.nodeType!=CKEDITOR.NODE_TEXT?{container:r,offset:c.length}:{container:i,offset:i.nodeValue.length};for(var h=c.length;s>0&&h>0;)o=c[--h],o.nodeType==CKEDITOR.NODE_TEXT&&(l=o,s-=o.nodeValue.length);return{container:l,offset:-s}}if(u.collapse(a>0?!0:!1),u.setEndPoint(a>0?"StartToStart":"EndToStart",t),s=u.text.replace(/(\r\n|\r)/g,"\n").length,!s)return{container:r,offset:e(i)+(a>0?0:1)};for(;s>0;)try{o=i[a>0?"previousSibling":"nextSibling"],o.nodeType==CKEDITOR.NODE_TEXT&&(s-=o.nodeValue.length,l=o),i=o}catch(m){return{container:r,offset:e(i)}}return{container:l,offset:a>0?-s:l.nodeValue.length+s}};return function(){var e,n=this.getNative(),r=n&&n.createRange(),i=this.getType();if(!n)return[];if(i==CKEDITOR.SELECTION_TEXT){e=new CKEDITOR.dom.range(this.root);var o=t(r,!0);return e.setStart(new CKEDITOR.dom.node(o.container),o.offset),o=t(r),e.setEnd(new CKEDITOR.dom.node(o.container),o.offset),e.endContainer.getPosition(e.startContainer)&CKEDITOR.POSITION_PRECEDING&&e.endOffset<=e.startContainer.getIndex()&&e.collapse(),[e]}if(i==CKEDITOR.SELECTION_ELEMENT){for(var a=[],s=0;s<r.length;s++){var l=r.item(s),c=l.parentNode,u=0;for(e=new CKEDITOR.dom.range(this.root);u<c.childNodes.length&&c.childNodes[u]!=l;u++);e.setStart(new CKEDITOR.dom.node(c),u),e.setEnd(new CKEDITOR.dom.node(c),u+1),a.push(e)}return a}return[]}}():function(){var e,t=[],n=this.getNative();if(!n)return t;for(var r=0;r<n.rangeCount;r++){var i=n.getRangeAt(r);e=new CKEDITOR.dom.range(this.root),e.setStart(new CKEDITOR.dom.node(i.startContainer),i.startOffset),e.setEnd(new CKEDITOR.dom.node(i.endContainer),i.endOffset),t.push(e)}return t};return function(t){var n=this._.cache,r=n.ranges;return r||(n.ranges=r=new CKEDITOR.dom.rangeList(e.call(this))),t?R(new CKEDITOR.dom.rangeList(r.slice())):r}}(),getStartElement:function(){var e=this._.cache;if(void 0!==e.startElement)return e.startElement;var t;switch(this.getType()){case CKEDITOR.SELECTION_ELEMENT:return this.getSelectedElement();case CKEDITOR.SELECTION_TEXT:var n=this.getRanges()[0];if(n){if(n.collapsed)t=n.startContainer,t.type!=CKEDITOR.NODE_ELEMENT&&(t=t.getParent());else{for(n.optimize();;){var r=n.startContainer,i=n.startOffset;if(i!=(r.getChildCount?r.getChildCount():r.getLength())||r.isBlockBoundary())break;n.setStartAfter(r)}if(t=n.startContainer,t.type!=CKEDITOR.NODE_ELEMENT)return t.getParent();if(t=t.getChild(n.startOffset),t&&t.type==CKEDITOR.NODE_ELEMENT)for(var o=t.getFirst();o&&o.type==CKEDITOR.NODE_ELEMENT;)t=o,o=o.getFirst();else t=n.startContainer}t=t.$}}return e.startElement=t?new CKEDITOR.dom.element(t):null},getSelectedElement:function(){var e=this._.cache;if(void 0!==e.selectedElement)return e.selectedElement;var t=this,n=CKEDITOR.tools.tryThese(function(){return t.getNative().createRange().item(0)},function(){for(var e,n,r=t.getRanges()[0].clone(),i=2;i&&!((e=r.getEnclosedNode())&&e.type==CKEDITOR.NODE_ELEMENT&&A[e.getName()]&&(n=e));i--)r.shrink(CKEDITOR.SHRINK_ELEMENT);return n&&n.$});return e.selectedElement=n?new CKEDITOR.dom.element(n):null},getSelectedText:function(){var e=this._.cache;if(void 0!==e.selectedText)return e.selectedText;var t=this.getNative(),n=b?"Control"==t.type?"":t.createRange().text:t.toString();return e.selectedText=n},lock:function(){this.getRanges(),this.getStartElement(),this.getSelectedElement(),this.getSelectedText(),this._.cache.nativeSel=null,this.isLocked=1},unlock:function(e){if(this.isLocked){if(e)var r=this.getSelectedElement(),i=this.getRanges(),o=this.isFake;if(this.isLocked=0,this.reset(),e){var s=r||i[0]&&i[0].getCommonAncestor();if(s&&s.getAscendant("body",1)){var l=this.root.editor;return n(l)&&t(i)?void a.call(this,i):o?void this.fake(r):r&&i.length<2?void this.selectElement(r):void this.selectRanges(i)}}}},reset:function(){this._.cache={},this.isFake=0;var e=this.root.editor;e&&e._.fakeSelection&&(this.rev==e._.fakeSelection.rev?(delete e._.fakeSelection,g(e)):CKEDITOR.warn("selection-fake-reset")),this.rev=k++},selectElement:function(e){var t=new CKEDITOR.dom.range(this.root);t.setStartBefore(e),t.setEndAfter(e),this.selectRanges([t])},selectRanges:function(e){var r=this.root.editor,i=r&&r._.hiddenSelectionContainer;if(this.reset(),i&&I(e,this.root),e.length){if(this.isLocked){var o=CKEDITOR.document.getActive();return this.unlock(),this.selectRanges(e),this.lock(),void(o&&!o.equals(this.root)&&o.focus())}var s=D(e);if(s)return void this.fake(s);if(n(r)&&t(e)&&!v&&!e[0]._getTableElement({table:1}).hasAttribute("data-cke-tableselection-ignored"))return void a.call(this,e);if(b){var l=CKEDITOR.dom.walker.whitespaces(!0),c=/\ufeff|\u00a0/,u={table:1,tbody:1,tr:1};if(e.length>1){var f=e[e.length-1];e[0].setEnd(f.endContainer,f.endOffset)}var m,T,C,O=e[0],g=O.collapsed,p=O.getEnclosedNode();if(p&&p.type==CKEDITOR.NODE_ELEMENT&&p.getName()in A&&(!p.is("a")||!p.getText()))try{return C=p.$.createControlRange(),C.addElement(p.$),void C.select()}catch(R){}(O.startContainer.type==CKEDITOR.NODE_ELEMENT&&O.startContainer.getName()in u||O.endContainer.type==CKEDITOR.NODE_ELEMENT&&O.endContainer.getName()in u)&&(O.shrink(CKEDITOR.NODE_ELEMENT,!0),g=O.collapsed);var K,y=O.createBookmark(),k=y.startNode;if(g||(K=y.endNode),C=O.document.$.body.createTextRange(),C.moveToElementText(k.$),C.moveStart("character",1),K){var N=O.document.$.body.createTextRange();N.moveToElementText(K.$),C.setEndPoint("EndToEnd",N),C.moveEnd("character",-1)}else{var _=k.getNext(l),S=k.hasAscendant("pre");m=!(_&&_.getText&&_.getText().match(c))&&(S||!k.hasPrevious()||k.getPrevious().is&&k.getPrevious().is("br")),T=O.document.createElement("span"),T.setHtml("&#65279;"),T.insertBefore(k),m&&O.document.createText("﻿").insertBefore(k)}O.setStartBefore(k),k.remove(),g?(m?(C.moveStart("character",-1),C.select(),O.document.$.selection.clear()):C.select(),O.moveToPosition(T,CKEDITOR.POSITION_BEFORE_START),T.remove()):(O.setEndBefore(K),K.remove(),C.select())}else{var w=this.getNative();if(!w)return;this.removeAllRanges();for(var x=0;x<e.length;x++){if(x<e.length-1){var L=e[x],P=e[x+1],B=L.clone();if(B.setStart(L.endContainer,L.endOffset),B.setEnd(P.startContainer,P.startOffset),!B.collapsed){B.shrink(CKEDITOR.NODE_ELEMENT,!0);var F=B.getCommonAncestor(),$=B.getEnclosedNode();if(F.isReadOnly()||$&&$.isReadOnly()){P.setStart(L.startContainer,L.startOffset),e.splice(x--,1);continue}}}O=e[x];var M=this.document.$.createRange();if(O.collapsed&&CKEDITOR.env.webkit&&d(O)){var q=E(this.root);O.insertNode(q),_=q.getNext(),_&&!q.getPrevious()&&_.type==CKEDITOR.NODE_ELEMENT&&"br"==_.getName()?(h(this.root),O.moveToPosition(_,CKEDITOR.POSITION_BEFORE_START)):O.moveToPosition(q,CKEDITOR.POSITION_AFTER_END)}M.setStart(O.startContainer.$,O.startOffset);try{M.setEnd(O.endContainer.$,O.endOffset)}catch(H){if(!(H.toString().indexOf("NS_ERROR_ILLEGAL_VALUE")>=0))throw H;O.collapse(1),M.setEnd(O.endContainer.$,O.endOffset)}w.addRange(M)}}this.reset(),this.root.fire("selectionchange")}},fake:function(e,t){var n=this.root.editor;void 0===t&&e.hasAttribute("aria-label")&&(t=e.getAttribute("aria-label")),this.reset(),O(n,t);var r=this._.cache,i=new CKEDITOR.dom.range(this.root);i.setStartBefore(e),i.setEndAfter(e),r.ranges=new CKEDITOR.dom.rangeList(i),r.selectedElement=r.startElement=e,r.type=CKEDITOR.SELECTION_ELEMENT,r.selectedText=r.nativeSel=null,this.isFake=1,this.rev=k++,n._.fakeSelection=this,this.root.fire("selectionchange")},isHidden:function(){var e=this.getCommonAncestor();return e&&e.type==CKEDITOR.NODE_TEXT&&(e=e.getParent()),!(!e||!e.data("cke-hidden-sel"))},isInTable:function(e){return t(this.getRanges(),e)},isCollapsed:function(){var e=this.getRanges();return 1===e.length&&e[0].collapsed},createBookmarks:function(e){var t=this.getRanges().createBookmarks(e);return this.isFake&&(t.isFake=1),t},createBookmarks2:function(e){var t=this.getRanges().createBookmarks2(e);return this.isFake&&(t.isFake=1),t},selectBookmarks:function(e){for(var n,r=[],i=0;i<e.length;i++){var o=new CKEDITOR.dom.range(this.root);o.moveToBookmark(e[i]),r.push(o)}return e.isFake&&(n=t(r)?r[0]._getTableElement():r[0].getEnclosedNode(),n&&n.type==CKEDITOR.NODE_ELEMENT||(CKEDITOR.warn("selection-not-fake"),e.isFake=0)),e.isFake&&!t(r)?this.fake(n):this.selectRanges(r),this},getCommonAncestor:function(){var e=this.getRanges();if(!e.length)return null;var t=e[0].startContainer,n=e[e.length-1].endContainer;return t.getCommonAncestor(n)},scrollIntoView:function(){this.getType()!=CKEDITOR.SELECTION_NONE&&this.getRanges()[0].scrollIntoView()},removeAllRanges:function(){if(this.getType()!=CKEDITOR.SELECTION_NONE){var e=this.getNative();try{e&&e[b?"empty":"removeAllRanges"]()}catch(t){}this.reset()}}}}(),CKEDITOR.STYLE_BLOCK=1,CKEDITOR.STYLE_INLINE=2,CKEDITOR.STYLE_OBJECT=3,function(){function e(e,t){for(var n,r;(e=e.getParent())&&!e.equals(t);)if(e.getAttribute("data-nostyle"))n=e;else if(!r){var i=e.getAttribute("contentEditable");"false"==i?n=e:"true"==i&&(r=1)}return n}function t(e,t,n,r,i,a,s,l){return r?!i[r]||a?0:s&&!l?0:o(t,n,e,M):1}function n(e,t,n,r){return t&&((t.getDtd()||CKEDITOR.dtd.span)[n]||r)&&(!e.parentRule||e.parentRule(t))}function r(e,t,n){return!e||!CKEDITOR.dtd.$removeEmpty[e]||(t.getPosition(n)|M)==M}function i(e,t){var n=e.type;return n==CKEDITOR.NODE_TEXT||t||n==CKEDITOR.NODE_ELEMENT&&!e.getChildCount()}function o(e,t,n,r){return(e.getPosition(t)|r)==r&&(!n.childRule||n.childRule(e))}function a(a){var s=a.document;if(a.collapsed){var c=y(this,s);return a.insertNode(c),void a.moveToPosition(c,CKEDITOR.POSITION_BEFORE_END)}var u,d=this.element,E=this._.definition,f=E.ignoreReadonly,h=f||E.includeReadonly;null==h&&(h=a.root.getCustomData("cke_includeReadonly"));var m=CKEDITOR.dtd[d];m||(u=!0,m=CKEDITOR.dtd.span),a.enlarge(CKEDITOR.ENLARGE_INLINE,1),a.trim();var T,C=a.createBookmark(),O=C.startNode,g=C.endNode,p=O;if(!f){var D=a.getCommonAncestor(),I=e(O,D),v=e(g,D);I&&(p=I.getNextSourceNode(!0)),v&&(g=v)}for(p.getPosition(g)==CKEDITOR.POSITION_FOLLOWING&&(p=0);p;){var K=!1;if(p.equals(g))p=null,K=!0;else{var b=p.type==CKEDITOR.NODE_ELEMENT?p.getName():null,k=b&&"false"==p.getAttribute("contentEditable"),N=b&&-1!==CKEDITOR.tools.array.indexOf(CKEDITOR.style.unstylableElements,b),_=b&&(p.getAttribute("data-nostyle")||N);if(b&&p.data("cke-bookmark")||p.type===CKEDITOR.NODE_COMMENT){p=p.getNextSourceNode(!0);continue}if(k&&h&&CKEDITOR.dtd.$block[b]&&l.call(this,p),t(E,p,g,b,m,_,k,h)){var S=p.getParent();if(n(E,S,d,u)){if(!T&&r(b,p,g)&&(T=a.clone(),T.setStartBefore(p)),i(p,k)){for(var w,A=p;(K=!A.getNext(F))&&(w=A.getParent(),m[w.getName()])&&o(w,O,E,q);)A=w;T.setEndAfter(A)}}else K=!0}else K=!0;p=p.getNextSourceNode(_||k)}if(K&&T&&!T.collapsed){for(var x,L,P,B=y(this,s),$=B.hasAttributes(),M=T.getCommonAncestor(),H={styles:{},attrs:{},blockedStyles:{},blockedAttrs:{}};B&&M;){if(M.getName()==d){for(x in E.attributes)!H.blockedAttrs[x]&&(P=M.getAttribute(L))&&(B.getAttribute(x)==P?H.attrs[x]=1:H.blockedAttrs[x]=1);for(L in E.styles)!H.blockedStyles[L]&&(P=M.getStyle(L))&&(B.getStyle(L)==P?H.styles[L]=1:H.blockedStyles[L]=1)}M=M.getParent()}for(x in H.attrs)B.removeAttribute(x);for(L in H.styles)B.removeStyle(L);$&&!B.hasAttributes()&&(B=null),B?(T.extractContents().appendTo(B),T.insertNode(B),R.call(this,B),B.mergeSiblings(),CKEDITOR.env.ie||B.$.normalize()):(B=new CKEDITOR.dom.element("span"),T.extractContents().appendTo(B),T.insertNode(B),R.call(this,B),B.remove(!0)),T=null}}a.moveToBookmark(C),a.shrink(CKEDITOR.SHRINK_TEXT),a.shrink(CKEDITOR.NODE_ELEMENT,!0)}function s(e){function t(){for(var e=new CKEDITOR.dom.elementPath(r.getParent()),t=new CKEDITOR.dom.elementPath(E.getParent()),n=null,i=null,o=0;o<e.elements.length;o++){var a=e.elements[o];if(a==e.block||a==e.blockLimit)break;f.checkElementRemovable(a,!0)&&(n=a)}for(o=0;o<t.elements.length&&(a=t.elements[o],a!=t.block&&a!=t.blockLimit);o++)f.checkElementRemovable(a,!0)&&(i=a);i&&E.breakParent(i),n&&r.breakParent(n)}e.enlarge(CKEDITOR.ENLARGE_INLINE,1);var n=e.createBookmark(),r=n.startNode,i=this._.definition.alwaysRemoveElement;if(e.collapsed){for(var o,a,s=new CKEDITOR.dom.elementPath(r.getParent(),e.root),l=0;l<s.elements.length&&(a=s.elements[l])&&(a!=s.block&&a!=s.blockLimit);l++)if(this.checkElementRemovable(a)){var c;!i&&e.collapsed&&(e.checkBoundaryOfElement(a,CKEDITOR.END)||(c=e.checkBoundaryOfElement(a,CKEDITOR.START)))?(o=a,o.match=c?"start":"end"):(a.mergeSiblings(),a.is(this.element)?I.call(this,a):v(a,_(this)[a.getName()]))}if(o){var u=r;for(l=0;;l++){var d=s.elements[l];if(d.equals(o))break;d.match||(d=d.clone(),d.append(u),u=d)}u["start"==o.match?"insertBefore":"insertAfter"](o)}}else{var E=n.endNode,f=this;t();for(var h=r;!h.equals(E);){var m=h.getNextSourceNode();h.type==CKEDITOR.NODE_ELEMENT&&this.checkElementRemovable(h)&&(h.getName()==this.element?I.call(this,h):v(h,_(this)[h.getName()]),m.type==CKEDITOR.NODE_ELEMENT&&m.contains(r)&&(t(),m=r.getNext())),h=m}}e.moveToBookmark(n),e.shrink(CKEDITOR.NODE_ELEMENT,!0)}function l(e){for(var t,n=c(e),r=n.length,i=0,o=r&&new CKEDITOR.dom.range(e.getDocument());r>i;++i)t=n[i],u(t,this)&&(o.selectNodeContents(t),a.call(this,o))}function c(e){var t=[];return e.forEach(function(e){return"true"==e.getAttribute("contenteditable")?(t.push(e),!1):void 0},CKEDITOR.NODE_ELEMENT,!0),t}function u(e,t){var n=CKEDITOR.filter.instances[e.data("cke-filter")];return n?n.check(t):1}function d(e,t){return e.activeFilter?e.activeFilter.check(t):1}function E(e){var t=e.getEnclosedNode()||e.getCommonAncestor(!1,!0),n=new CKEDITOR.dom.elementPath(t,e.root).contains(this.element,1);n&&!n.isReadOnly()&&b(n,this)}function f(e){var t=e.getCommonAncestor(!0,!0),n=new CKEDITOR.dom.elementPath(t,e.root).contains(this.element,1);if(n){var r=this,i=r._.definition,o=i.attributes;if(o)for(var a in o)n.removeAttribute(a,o[a]);if(i.styles)for(var s in i.styles)i.styles.hasOwnProperty(s)&&n.removeStyle(s)}}function h(e){var t=e.createBookmark(!0),n=e.createIterator();n.enforceRealBlocks=!0,this._.enterMode&&(n.enlargeBr=this._.enterMode!=CKEDITOR.ENTER_BR);for(var r,i,o=e.document;r=n.getNextParagraph();)!r.isReadOnly()&&d(n,this)&&(i=y(this,o,r),T(r,i));e.moveToBookmark(t)}function m(e){var t=e.createBookmark(1),n=e.createIterator();n.enforceRealBlocks=!0,n.enlargeBr=this._.enterMode!=CKEDITOR.ENTER_BR;for(var r,i;r=n.getNextParagraph();)this.checkElementRemovable(r)&&(r.is("pre")?(i=this._.enterMode==CKEDITOR.ENTER_BR?null:e.document.createElement(this._.enterMode==CKEDITOR.ENTER_P?"p":"div"),i&&r.copyAttributes(i),T(r,i)):I.call(this,r));e.moveToBookmark(t)}function T(e,t){var n=!t;n&&(t=e.getDocument().createElement("div"),e.copyAttributes(t));var r=t&&t.is("pre"),i=e.is("pre"),o=r&&!i,a=!r&&i;o?t=D(e,t):a?t=p(n?[e.getHtml()]:O(e),t):e.moveChildren(t),t.replace(e),r?C(t):n&&K(t)}function C(e){var t;if((t=e.getPrevious($))&&t.type==CKEDITOR.NODE_ELEMENT&&t.is("pre")){var n=g(t.getHtml(),/\n$/,"")+"\n\n"+g(e.getHtml(),/^\n/,"");CKEDITOR.env.ie?e.$.outerHTML="<pre>"+n+"</pre>":e.setHtml(n),t.remove()}}function O(e){var t=/(\S\s*)\n(?:\s|(<span[^>]+data-cke-bookmark.*?\/span>))*\n(?!$)/gi,n=[],r=g(e.getOuterHtml(),t,function(e,t,n){return t+"</pre>"+n+"<pre>"});return r.replace(/<pre\b.*?>([\s\S]*?)<\/pre>/gi,function(e,t){n.push(t)}),n}function g(e,t,n){var r="",i="";return e=e.replace(/(^<span[^>]+data-cke-bookmark.*?\/span>)|(<span[^>]+data-cke-bookmark.*?\/span>$)/gi,function(e,t,n){return t&&(r=t),n&&(i=n),""}),r+e.replace(t,n)+i}function p(e,t){var n;e.length>1&&(n=new CKEDITOR.dom.documentFragment(t.getDocument()));for(var r=0;r<e.length;r++){var i=e[r];if(i=i.replace(/(\r\n|\r)/g,"\n"),i=g(i,/^[ \t]*\n/,""),i=g(i,/\n$/,""),i=g(i,/^[ \t]+|[ \t]+$/g,function(e,t){return 1==e.length?"&nbsp;":t?" "+CKEDITOR.tools.repeat("&nbsp;",e.length-1):CKEDITOR.tools.repeat("&nbsp;",e.length-1)+" "}),i=i.replace(/\n/g,"<br>"),i=i.replace(/[ \t]{2,}/g,function(e){return CKEDITOR.tools.repeat("&nbsp;",e.length-1)+" "}),n){var o=t.clone();o.setHtml(i),n.append(o)}else t.setHtml(i)}return n||t}function D(e,t){var n=e.getBogus();n&&n.remove();var r=e.getHtml();if(r=g(r,/(?:^[ \t\n\r]+)|(?:[ \t\n\r]+$)/g,""),r=r.replace(/[ \t\r\n]*(<br[^>]*>)[ \t\r\n]*/gi,"$1"),r=r.replace(/([ \t\n\r]+|&nbsp;)/g," "),r=r.replace(/<br\b[^>]*>/gi,"\n"),CKEDITOR.env.ie){var i=e.getDocument().createElement("div");i.append(t),t.$.outerHTML="<pre>"+r+"</pre>",t.copyAttributes(i.getFirst()),t=i.getFirst().remove()}else t.setHtml(r);return t}function I(e,t){var n=this._.definition,r=n.attributes,i=n.styles,o=_(this)[e.getName()],a=CKEDITOR.tools.isEmpty(r)&&CKEDITOR.tools.isEmpty(i);for(var s in r)("class"!=s&&!this._.definition.fullMatch||e.getAttribute(s)==S(s,r[s]))&&(t&&"data-"==s.slice(0,5)||(a=e.hasAttribute(s),e.removeAttribute(s)));for(var l in i)this._.definition.fullMatch&&e.getStyle(l)!=S(l,i[l],!0)||(a=a||!!e.getStyle(l),e.removeStyle(l));v(e,o,x[e.getName()]),a&&(this._.definition.alwaysRemoveElement?K(e,1):!CKEDITOR.dtd.$block[e.getName()]||this._.enterMode==CKEDITOR.ENTER_BR&&!e.hasAttributes()?K(e):e.renameNode(this._.enterMode==CKEDITOR.ENTER_P?"p":"div"))}function R(e){for(var t,n=_(this),r=e.getElementsByTag(this.element),i=r.count();--i>=0;)t=r.getItem(i),t.isReadOnly()||I.call(this,t,!0);for(var o in n)if(o!=this.element)for(r=e.getElementsByTag(o),i=r.count()-1;i>=0;i--)t=r.getItem(i),t.isReadOnly()||v(t,n[o])}function v(e,t,n){var r=t&&t.attributes;if(r)for(var i=0;i<r.length;i++){var o,a=r[i][0];if(o=e.getAttribute(a)){var s=r[i][1];(null===s||s.test&&s.test(o)||"string"==typeof s&&o==s)&&e.removeAttribute(a)}}n||K(e)}function K(e,t){if(!e.hasAttributes()||t)if(CKEDITOR.dtd.$block[e.getName()]){var n=e.getPrevious($),r=e.getNext($);!n||n.type!=CKEDITOR.NODE_TEXT&&n.isBlockBoundary({br:1})||e.append("br",1),!r||r.type!=CKEDITOR.NODE_TEXT&&r.isBlockBoundary({br:1})||e.append("br"),e.remove(!0)}else{var i=e.getFirst(),o=e.getLast();e.remove(!0),i&&(i.type==CKEDITOR.NODE_ELEMENT&&i.mergeSiblings(),o&&!i.equals(o)&&o.type==CKEDITOR.NODE_ELEMENT&&o.mergeSiblings())}}function y(e,t,n){var r,i=e.element;return"*"==i&&(i="span"),r=new CKEDITOR.dom.element(i,t),n&&n.copyAttributes(r),r=b(r,e),t.getCustomData("doc_processing_style")&&r.hasAttribute("id")?r.removeAttribute("id"):t.setCustomData("doc_processing_style",1),r}function b(e,t){var n=t._.definition,r=n.attributes,i=CKEDITOR.style.getStyleText(n);if(r)for(var o in r)e.setAttribute(o,r[o]);return i&&e.setAttribute("style",i),e.getDocument().removeCustomData("doc_processing_style"),e}function k(e,t){for(var n in e)e[n]=e[n].replace(B,function(e,n){return t[n]})}function N(e){var t=e._AC;if(t)return t;t={};var n=0,r=e.attributes;if(r)for(var i in r)n++,t[i]=r[i];var o=CKEDITOR.style.getStyleText(e);return o&&(t.style||n++,t.style=o),t._length=n,e._AC=t}function _(e){if(e._.overrides)return e._.overrides;var t=e._.overrides={},n=e._.definition.overrides;if(n){CKEDITOR.tools.isArray(n)||(n=[n]);for(var r=0;r<n.length;r++){var i,o,a,s=n[r];if("string"==typeof s?i=s.toLowerCase():(i=s.element?s.element.toLowerCase():e.element,a=s.attributes),o=t[i]||(t[i]={}),a){var l=o.attributes=o.attributes||[];for(var c in a)l.push([c.toLowerCase(),a[c]])}}}return t}function S(e,t,n){var r=new CKEDITOR.dom.element("span");return r[n?"setStyle":"setAttribute"](e,t),r[n?"getStyle":"getAttribute"](e)}function w(e,t){function n(e,t){return"font-family"==t.toLowerCase()?e.replace(/["']/g,""):e}"string"==typeof e&&(e=CKEDITOR.tools.parseCssText(e)),"string"==typeof t&&(t=CKEDITOR.tools.parseCssText(t,!0));for(var r in e){if(!(r in t))return!1;if(n(t[r],r)!=n(e[r],r)&&"inherit"!=e[r]&&"inherit"!=t[r])return!1}return!0}function A(e,t,n){for(var r,i=e.getRanges(),o=t?this.removeFromRange:this.applyToRange,a=i.createIterator();r=a.getNextRange();)o.call(this,r,n);e.selectRanges(i)}var x={address:1,div:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,p:1,pre:1,section:1,header:1,footer:1,nav:1,article:1,aside:1,figure:1,dialog:1,hgroup:1,time:1,meter:1,menu:1,command:1,keygen:1,output:1,progress:1,details:1,datagrid:1,datalist:1},L={a:1,blockquote:1,embed:1,hr:1,img:1,li:1,object:1,ol:1,table:1,td:1,tr:1,th:1,ul:1,dl:1,dt:1,dd:1,form:1,audio:1,video:1},P=/\s*(?:;\s*|$)/,B=/#\((.+?)\)/g,F=CKEDITOR.dom.walker.bookmark(0,1),$=CKEDITOR.dom.walker.whitespaces(1);CKEDITOR.style=function(e,t){if("string"==typeof e.type)return new CKEDITOR.style.customHandlers[e.type](e);var n=e.attributes;n&&n.style&&(e.styles=CKEDITOR.tools.extend({},e.styles,CKEDITOR.tools.parseCssText(n.style)),delete n.style),t&&(e=CKEDITOR.tools.clone(e),k(e.attributes,t),k(e.styles,t));var r=this.element=e.element?"string"==typeof e.element?e.element.toLowerCase():e.element:"*";this.type=e.type||(x[r]?CKEDITOR.STYLE_BLOCK:L[r]?CKEDITOR.STYLE_OBJECT:CKEDITOR.STYLE_INLINE),"object"==typeof this.element&&(this.type=CKEDITOR.STYLE_OBJECT),this._={definition:e}},CKEDITOR.style.prototype={apply:function(e){if(e instanceof CKEDITOR.dom.document)return A.call(this,e.getSelection());if(this.checkApplicable(e.elementPath(),e)){var t=this._.enterMode;t||(this._.enterMode=e.activeEnterMode),A.call(this,e.getSelection(),0,e),this._.enterMode=t}},remove:function(e){if(e instanceof CKEDITOR.dom.document)return A.call(this,e.getSelection(),1);if(this.checkApplicable(e.elementPath(),e)){var t=this._.enterMode;t||(this._.enterMode=e.activeEnterMode),A.call(this,e.getSelection(),1,e),this._.enterMode=t}},applyToRange:function(e){return this.applyToRange=this.type==CKEDITOR.STYLE_INLINE?a:this.type==CKEDITOR.STYLE_BLOCK?h:this.type==CKEDITOR.STYLE_OBJECT?E:null,this.applyToRange(e)},removeFromRange:function(e){return this.removeFromRange=this.type==CKEDITOR.STYLE_INLINE?s:this.type==CKEDITOR.STYLE_BLOCK?m:this.type==CKEDITOR.STYLE_OBJECT?f:null,this.removeFromRange(e)},applyToObject:function(e){b(e,this)},checkActive:function(e,t){switch(this.type){case CKEDITOR.STYLE_BLOCK:return this.checkElementRemovable(e.block||e.blockLimit,!0,t);case CKEDITOR.STYLE_OBJECT:case CKEDITOR.STYLE_INLINE:for(var n,r=e.elements,i=0;i<r.length;i++)if(n=r[i],this.type!=CKEDITOR.STYLE_INLINE||n!=e.block&&n!=e.blockLimit){if(this.type==CKEDITOR.STYLE_OBJECT){var o=n.getName();if(!("string"==typeof this.element?o==this.element:o in this.element))continue}if(this.checkElementRemovable(n,!0,t))return!0}}return!1},checkApplicable:function(e,t,n){if(t&&t instanceof CKEDITOR.filter&&(n=t),n&&!n.check(this))return!1;switch(this.type){case CKEDITOR.STYLE_OBJECT:return!!e.contains(this.element);case CKEDITOR.STYLE_BLOCK:return!!e.blockLimit.getDtd()[this.element]}return!0},checkElementMatch:function(e,t){var n=this._.definition;if(!e||!n.ignoreReadonly&&e.isReadOnly())return!1;var r,i=e.getName();if("string"==typeof this.element?i==this.element:i in this.element){if(!t&&!e.hasAttributes())return!0;if(r=N(n),!r._length)return!0;for(var o in r)if("_length"!=o){var a=e.getAttribute(o)||"";if("style"==o?w(r[o],a):r[o]==a){if(!t)return!0}else if(t)return!1}if(t)return!0}return!1},checkElementRemovable:function(e,t,n){if(this.checkElementMatch(e,t,n))return!0;var r=_(this)[e.getName()];if(r){var i,o;if(!(i=r.attributes))return!0;for(var a=0;a<i.length;a++){o=i[a][0];var s=e.getAttribute(o);if(s){var l=i[a][1];if(null===l)return!0;if("string"==typeof l){if(s==l)return!0}else if(l.test(s))return!0}}}return!1},buildPreview:function(e){var t=this._.definition,n=[],r=t.element;"bdo"==r&&(r="span"),n=["<",r];var i=t.attributes;if(i)for(var o in i)n.push(" ",o,'="',i[o],'"');var a=CKEDITOR.style.getStyleText(t);return a&&n.push(' style="',a,'"'),n.push(">",e||t.name,"</",r,">"),n.join("")},getDefinition:function(){return this._.definition}},CKEDITOR.style.getStyleText=function(e){var t=e._ST;if(t)return t;t=e.styles;var n=e.attributes&&e.attributes.style||"",r="";n.length&&(n=n.replace(P,";"));for(var i in t){var o=t[i],a=(i+":"+o).replace(P,";");"inherit"==o?r+=a:n+=a}return n.length&&(n=CKEDITOR.tools.normalizeCssText(n,!0)),n+=r,e._ST=n},CKEDITOR.style.customHandlers={},CKEDITOR.style.unstylableElements=[],CKEDITOR.style.addCustomHandler=function(e){var t=function(e){this._={definition:e},this.setup&&this.setup(e)};return t.prototype=CKEDITOR.tools.extend(CKEDITOR.tools.prototypedCopy(CKEDITOR.style.prototype),{assignedTo:CKEDITOR.STYLE_OBJECT},e,!0),this.customHandlers[e.type]=t,t
};var M=CKEDITOR.POSITION_PRECEDING|CKEDITOR.POSITION_IDENTICAL|CKEDITOR.POSITION_IS_CONTAINED,q=CKEDITOR.POSITION_FOLLOWING|CKEDITOR.POSITION_IDENTICAL|CKEDITOR.POSITION_IS_CONTAINED}(),CKEDITOR.styleCommand=function(e,t){this.style=e,this.allowedContent=e,this.requiredContent=e,CKEDITOR.tools.extend(this,t,!0)},CKEDITOR.styleCommand.prototype.exec=function(e){e.focus(),this.state==CKEDITOR.TRISTATE_OFF?e.applyStyle(this.style):this.state==CKEDITOR.TRISTATE_ON&&e.removeStyle(this.style)},CKEDITOR.stylesSet=new CKEDITOR.resourceManager("","stylesSet"),CKEDITOR.addStylesSet=CKEDITOR.tools.bind(CKEDITOR.stylesSet.add,CKEDITOR.stylesSet),CKEDITOR.loadStylesSet=function(e,t,n){CKEDITOR.stylesSet.addExternal(e,t,""),CKEDITOR.stylesSet.load(e,n)},CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{attachStyleStateChange:function(e,t){var n=this._.styleStateChangeCallbacks;n||(n=this._.styleStateChangeCallbacks=[],this.on("selectionChange",function(e){for(var t=0;t<n.length;t++){var r=n[t],i=r.style.checkActive(e.data.path,this)?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF;r.fn.call(this,i)}})),n.push({style:e,fn:t})},applyStyle:function(e){e.apply(this)},removeStyle:function(e){e.remove(this)},getStylesSet:function(e){if(this._.stylesDefinitions)e(this._.stylesDefinitions);else{var t=this,n=t.config.stylesCombo_stylesSet||t.config.stylesSet;if(n===!1)return void e(null);if(n instanceof Array)return t._.stylesDefinitions=n,void e(n);n||(n="default");var r=n.split(":"),i=r[0],o=r[1];CKEDITOR.stylesSet.addExternal(i,o?r.slice(1).join(":"):CKEDITOR.getUrl("styles.js"),""),CKEDITOR.stylesSet.load(i,function(n){t._.stylesDefinitions=n[i],e(t._.stylesDefinitions)})}}}),function(){"use strict";if(window.Promise)CKEDITOR.tools.promise=Promise;else{var e=CKEDITOR.getUrl("vendor/promise.js"),t="function"==typeof window.define&&window.define.amd&&"function"==typeof window.require;if(t)return window.require([e],function(e){CKEDITOR.tools.promise=e});CKEDITOR.scriptLoader.load(e,function(t){return t?"undefined"!=typeof window.ES6Promise?CKEDITOR.tools.promise=ES6Promise:void 0:CKEDITOR.error("no-vendor-lib",{path:e})})}}(),function(){function e(e){return e.type===CKEDITOR.NODE_TEXT}function t(t,n){if(n.root.editor._.shiftPressed)return!1;if(n.isFake||t.isCollapsed||t.startContainer.equals(t.endContainer))return!1;if(0===t.endOffset)return!0;var r=e(t.startContainer),i=e(t.endContainer),o=r?t.startContainer.getLength():t.startContainer.getChildCount();return t.startOffset===o||r^i}function n(e,t,n){e.once("selectionCheck",function(e){if(!r){var o=e.data.getRanges()[0];n.equals(o)?e.cancel():t.equals(o)&&(i=!0)}},null,null,-1)}var r=!0,i=!1;CKEDITOR.dom.selection.setupEditorOptimization=function(e){e.on("selectionCheck",function(e){e.data&&!i&&e.data.optimizeInElementEnds(),i=!1}),e.on("contentDom",function(){var t=e.editable();t&&(t.attachListener(t,"keydown",function(e){this._.shiftPressed=e.data.$.shiftKey},this),t.attachListener(t,"keyup",function(e){this._.shiftPressed=e.data.$.shiftKey},this))})},CKEDITOR.dom.selection.prototype.optimizeInElementEnds=function(){var e=this.getRanges()[0],i=this.root.editor;if(t(e,this)){var o=e.clone();e.shrink(CKEDITOR.SHRINK_TEXT,!1,{skipBogus:!CKEDITOR.env.webkit}),r=!1,n(i,e,o),e.select(),r=!0}}}(),CKEDITOR.dom.comment=function(e,t){"string"==typeof e&&(e=(t?t.$:document).createComment(e)),CKEDITOR.dom.domObject.call(this,e)},CKEDITOR.dom.comment.prototype=new CKEDITOR.dom.node,CKEDITOR.tools.extend(CKEDITOR.dom.comment.prototype,{type:CKEDITOR.NODE_COMMENT,getOuterHtml:function(){return"<!--"+this.$.nodeValue+"-->"}}),function(){function e(e){for(var t=e.getChildren(),n=0,r=t.count();r>n;n++){var i=t.getItem(n);if(i.type==CKEDITOR.NODE_ELEMENT&&CKEDITOR.dtd.$block[i.getName()])return!0}return!1}var t,n={},r={};for(t in CKEDITOR.dtd.$blockLimit)t in CKEDITOR.dtd.$list||(n[t]=1);for(t in CKEDITOR.dtd.$block)t in CKEDITOR.dtd.$blockLimit||t in CKEDITOR.dtd.$empty||(r[t]=1);CKEDITOR.dom.elementPath=function(t,i){var o,a=null,s=null,l=[],c=t;i=i||t.getDocument().getBody(),c||(c=i);do if(c.type==CKEDITOR.NODE_ELEMENT){if(l.push(c),!this.lastElement&&(this.lastElement=c,c.is(CKEDITOR.dtd.$object)||"false"==c.getAttribute("contenteditable")))continue;if(c.equals(i))break;s||(o=c.getName(),"true"==c.getAttribute("contenteditable")?s=c:!a&&r[o]&&(a=c),n[o]&&(a||"div"!=o||e(c)?s=c:a=c))}while(c=c.getParent());s||(s=i),this.block=a,this.blockLimit=s,this.root=i,this.elements=l}}(),CKEDITOR.dom.elementPath.prototype={compare:function(e){var t=this.elements,n=e&&e.elements;if(!n||t.length!=n.length)return!1;for(var r=0;r<t.length;r++)if(!t[r].equals(n[r]))return!1;return!0},contains:function(e,t,n){var r,i=0;"string"==typeof e&&(r=function(t){return t.getName()==e}),e instanceof CKEDITOR.dom.element?r=function(t){return t.equals(e)}:CKEDITOR.tools.isArray(e)?r=function(t){return CKEDITOR.tools.indexOf(e,t.getName())>-1}:"function"==typeof e?r=e:"object"==typeof e&&(r=function(t){return t.getName()in e});var o=this.elements,a=o.length;for(t&&(n?i+=1:a-=1),n&&(o=Array.prototype.slice.call(o,0),o.reverse());a>i;i++)if(r(o[i]))return o[i];return null},isContextFor:function(e){var t;if(e in CKEDITOR.dtd.$block){var n=this.contains(CKEDITOR.dtd.$intermediate);return t=n||this.root.equals(this.block)&&this.block||this.blockLimit,!!t.getDtd()[e]}return!0},direction:function(){var e=this.block||this.blockLimit||this.root;return e.getDirection(1)}},CKEDITOR.dom.text=function(e,t){"string"==typeof e&&(e=(t?t.$:document).createTextNode(e)),this.$=e},CKEDITOR.dom.text.prototype=new CKEDITOR.dom.node,CKEDITOR.tools.extend(CKEDITOR.dom.text.prototype,{type:CKEDITOR.NODE_TEXT,getLength:function(){return this.$.nodeValue.length},getText:function(){return this.$.nodeValue},setText:function(e){this.$.nodeValue=e},isEmpty:function(e){var t=this.getText();return e&&(t=CKEDITOR.tools.trim(t)),!t||t===CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE},split:function(e){var t=this.$.parentNode,n=t.childNodes.length,r=this.getLength(),i=this.getDocument(),o=new CKEDITOR.dom.text(this.$.splitText(e),i);if(t.childNodes.length==n)if(e>=r)o=i.createText(""),o.insertAfter(this);else{var a=i.createText("");a.insertAfter(o),a.remove()}return o},substring:function(e,t){return"number"!=typeof t?this.$.nodeValue.substr(e):this.$.nodeValue.substring(e,t)}}),function(){function e(e,t,n){var r=e.serializable,i=t[n?"endContainer":"startContainer"],o=n?"endOffset":"startOffset",a=r?t.document.getById(e.startNode):e.startNode,s=r?t.document.getById(e.endNode):e.endNode;return i.equals(a.getPrevious())?(t.startOffset=t.startOffset-i.getLength()-s.getPrevious().getLength(),i=s.getNext()):i.equals(s.getPrevious())&&(t.startOffset=t.startOffset-i.getLength(),i=s.getNext()),i.equals(a.getParent())&&t[o]++,i.equals(s.getParent())&&t[o]++,t[n?"endContainer":"startContainer"]=i,t}CKEDITOR.dom.rangeList=function(e){return e instanceof CKEDITOR.dom.rangeList?e:(e?e instanceof CKEDITOR.dom.range&&(e=[e]):e=[],CKEDITOR.tools.extend(e,t))};var t={createIterator:function(){var e,t=this,n=CKEDITOR.dom.walker.bookmark(),r=[];return{getNextRange:function(i){e=void 0===e?0:e+1;var o=t[e];if(o&&t.length>1){if(!e)for(var a=t.length-1;a>=0;a--)r.unshift(t[a].createBookmark(!0));if(i)for(var s=0;t[e+s+1];){for(var l,c=o.document,u=0,d=c.getById(r[s].endNode),E=c.getById(r[s+1].startNode);;){if(l=d.getNextSourceNode(!1),E.equals(l))u=1;else if(n(l)||l.type==CKEDITOR.NODE_ELEMENT&&l.isBlockBoundary()){d=l;continue}break}if(!u)break;s++}for(o.moveToBookmark(r.shift());s--;)l=t[++e],l.moveToBookmark(r.shift()),o.setEnd(l.endContainer,l.endOffset)}return o}}},createBookmarks:function(t){for(var n,r=[],i=0;i<this.length;i++){r.push(n=this[i].createBookmark(t,!0));for(var o=i+1;o<this.length;o++)this[o]=e(n,this[o]),this[o]=e(n,this[o],!0)}return r},createBookmarks2:function(e){for(var t=[],n=0;n<this.length;n++)t.push(this[n].createBookmark2(e));return t},moveToBookmarks:function(e){for(var t=0;t<this.length;t++)this[t].moveToBookmark(e[t])}}}(),function(){function e(){return CKEDITOR.skinName.split(",")[0]}function t(){return CKEDITOR.getUrl(CKEDITOR.skinName.split(",")[1]||"skins/"+e()+"/")}function n(e){var n=CKEDITOR.skin["ua_"+e],r=CKEDITOR.env;if(n){n=n.split(",").sort(function(e,t){return e>t?-1:1});for(var i,o=0;o<n.length;o++)if(i=n[o],r.ie&&(i.replace(/^ie/,"")==r.version||r.quirks&&"iequirks"==i)&&(i="ie"),r[i]){e+="_"+n[o];break}}return CKEDITOR.getUrl(t()+e+".css")}function r(e,t){a[e]||(CKEDITOR.document.appendStyleSheet(n(e)),a[e]=1),t&&t()}function i(e){var t=e.getById(s);return t||(t=e.getHead().append("style"),t.setAttribute("id",s),t.setAttribute("type","text/css")),t}function o(e,t,n){var r,i,o;if(CKEDITOR.env.webkit)for(t=t.split("}").slice(0,-1),i=0;i<t.length;i++)t[i]=t[i].split("{");for(var a=0;a<e.length;a++)if(CKEDITOR.env.webkit)for(i=0;i<t.length;i++){for(o=t[i][1],r=0;r<n.length;r++)o=o.replace(n[r][0],n[r][1]);e[a].$.sheet.addRule(t[i][0],o)}else{for(o=t,r=0;r<n.length;r++)o=o.replace(n[r][0],n[r][1]);CKEDITOR.env.ie&&CKEDITOR.env.version<11?e[a].$.styleSheet.cssText+=o:e[a].$.innerHTML+=o}}var a={};CKEDITOR.skin={path:t,loadPart:function(n,i){CKEDITOR.skin.name!=e()?CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(t()+"skin.js"),function(){r(n,i)}):r(n,i)},getPath:function(e){return CKEDITOR.getUrl(n(e))},icons:{},addIcon:function(e,t,n,r){e=e.toLowerCase(),this.icons[e]||(this.icons[e]={path:t,offset:n||0,bgsize:r||"16px"})},getIconStyle:function(e,t,n,r,i){var o,a,s,l;return e&&(e=e.toLowerCase(),t&&(o=this.icons[e+"-rtl"]),o||(o=this.icons[e])),a=n||o&&o.path||"",s=r||o&&o.offset,l=i||o&&o.bgsize||"16px",a&&(a=a.replace(/'/g,"\\'")),a&&"background-image:url('"+CKEDITOR.getUrl(a)+"');background-position:0 "+s+"px;background-size:"+l+";"}},CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{getUiColor:function(){return this.uiColor},setUiColor:function(e){var t=i(CKEDITOR.document);return(this.setUiColor=function(e){this.uiColor=e;var n=CKEDITOR.skin.chameleon,r="",i="";"function"==typeof n&&(r=n(this,"editor"),i=n(this,"panel"));var a=[[c,e]];o([t],r,a),o(l,i,a)}).call(this,e)}});var s="cke_ui_color",l=[],c=/\$color/g;CKEDITOR.on("instanceLoaded",function(e){if(!CKEDITOR.env.ie||!CKEDITOR.env.quirks){var t=e.editor,n=function(e){var n=e.data[0]||e.data,r=n.element.getElementsByTag("iframe").getItem(0).getFrameDocument();if(!r.getById("cke_ui_color")){var a=i(r);l.push(a),t.on("destroy",function(){l=CKEDITOR.tools.array.filter(l,function(e){return a!==e})});var s=t.getUiColor();s&&o([a],CKEDITOR.skin.chameleon(t,"panel"),[[c,s]])}};t.on("panelShow",n),t.on("menuShow",n),t.config.uiColor&&t.setUiColor(t.config.uiColor)}})}(),function(){if(CKEDITOR.env.webkit)CKEDITOR.env.hc=!1;else{var e=CKEDITOR.dom.element.createFromHtml('<div style="width:0;height:0;position:absolute;left:-10000px;border:1px solid;border-color:red blue"></div>',CKEDITOR.document);e.appendTo(CKEDITOR.document.getHead());try{var t=e.getComputedStyle("border-top-color"),n=e.getComputedStyle("border-right-color");CKEDITOR.env.hc=!(!t||t!=n)}catch(r){CKEDITOR.env.hc=!1}e.remove()}CKEDITOR.env.hc&&(CKEDITOR.env.cssClass+=" cke_hc"),CKEDITOR.document.appendStyleText(".cke{visibility:hidden;}"),CKEDITOR.status="loaded",CKEDITOR.fireOnce("loaded");var i=CKEDITOR._.pending;if(i){delete CKEDITOR._.pending;for(var o=0;o<i.length;o++)CKEDITOR.editor.prototype.constructor.apply(i[o][0],i[o][1]),CKEDITOR.add(i[o][0])}}(),CKEDITOR.skin.name="clean",CKEDITOR.skin.ua_editor="",CKEDITOR.skin.ua_dialog="",CKEDITOR.skin.chameleon=function(){var e=function(){function e(e,t){var n=0>t?0|e*(1+t):0|e+(255-e)*t;return("0"+n.toString(16)).slice(-2)}return function(t,n){for(var r=t.match(/[^#]./g),i=0;3>i;i++)r[i]=e(parseInt(r[i],16),n);return"#"+r.join("")}}(),t=function(){var e=new CKEDITOR.template("background:#{to};background-image:linear-gradient(to bottom,{from},{to});filter:progid:DXImageTransform.Microsoft.gradient(gradientType=0,startColorstr='{from}',endColorstr='{to}');");return function(t,n){return e.output({from:t,to:n})}}(),n={editor:new CKEDITOR.template("{id} .cke_top [ {defaultGradient}border-bottom-color:{defaultBorder};] {id} .cke_bottom [{defaultGradient}border-top-color:{defaultBorder};] {id} .cke_toolgroup [{lightGradient}border-color:{defaultBorder};] {id} .cke_toolbar_separator [background-color: {ckeToolbarSeparator};] {id} .cke_combo_button [border-color:{defaultBorder};{lightGradient}] {id} a.cke_combo_button:hover, {id} a.cke_combo_button:focus, {id} .cke_combo_on a.cke_combo_button [border-color:{defaultBorder};{mediumGradient}] {id} .cke_path_item [color:{elementsPathColor};] {id} a.cke_path_item:hover, {id} a.cke_path_item:focus, {id} a.cke_path_item:active [background-color:{elementsPathBg};] {id}.cke_panel [border-color:{defaultBorder};] "),panel:new CKEDITOR.template(".cke_menubutton_icon [background-color:{menubuttonIcon};] .cke_menubutton:hover .cke_menubutton_icon, .cke_menubutton:focus .cke_menubutton_icon, .cke_menubutton:active .cke_menubutton_icon [background-color:{menubuttonIconHover};] .cke_menuseparator [background-color:{menubuttonIcon};] a:hover.cke_colorbox, a:focus.cke_colorbox, a:active.cke_colorbox [border-color:{defaultBorder};] a:hover.cke_colorauto, a:hover.cke_colormore, a:focus.cke_colorauto, a:focus.cke_colormore, a:active.cke_colorauto, a:active.cke_colormore [background-color:{ckeColorauto};border-color:{defaultBorder};] ")};return function(r,i){var o=r.uiColor,a={id:"."+r.id,defaultBorder:e(o,-.1),defaultGradient:t(e(o,.9),o),lightGradient:t(e(o,1),e(o,.7)),mediumGradient:t(e(o,.8),e(o,.5)),ckeResizer:e(o,-.4),ckeToolbarSeparator:e(o,.5),ckeColorauto:e(o,.8),dialogBody:e(o,.7),dialogTabSelected:t("#FFFFFF","#FFFFFF"),dialogTabSelectedBorder:"#FFF",elementsPathColor:e(o,-.6),elementsPathBg:o,menubuttonIcon:e(o,.5),menubuttonIconHover:e(o,.3)};return n[i].output(a).replace(/\[/g,"{").replace(/\]/g,"}")}}(),CKEDITOR.config.plugins="",CKEDITOR.config.skin="clean")}(),CKEDITOR.stylesSet.add("default",[{name:"Italic Title",element:"h2",styles:{"font-style":"italic"}},{name:"Subtitle",element:"h3",styles:{color:"#aaa","font-style":"italic"}},{name:"Special Container",element:"div",styles:{padding:"5px 10px",background:"#eee",border:"1px solid #ccc"}},{name:"Marker",element:"span",attributes:{"class":"marker"}},{name:"Big",element:"big"},{name:"Small",element:"small"},{name:"Typewriter",element:"tt"},{name:"Computer Code",element:"code"},{name:"Keyboard Phrase",element:"kbd"},{name:"Sample Text",element:"samp"},{name:"Variable",element:"var"},{name:"Deleted Text",element:"del"},{name:"Inserted Text",element:"ins"},{name:"Cited Work",element:"cite"},{name:"Inline Quotation",element:"q"},{name:"Language: RTL",element:"span",attributes:{dir:"rtl"}},{name:"Language: LTR",element:"span",attributes:{dir:"ltr"}},{name:"Styled Image (left)",element:"img",attributes:{"class":"left"}},{name:"Styled Image (right)",element:"img",attributes:{"class":"right"}},{name:"Compact Table",element:"table",attributes:{cellpadding:"5",cellspacing:"0",border:"1",bordercolor:"#ccc"},styles:{"border-collapse":"collapse"}},{name:"Borderless Table",element:"table",styles:{"border-style":"hidden","background-color":"#E6E6FA"}},{name:"Square Bulleted List",element:"ul",styles:{"list-style-type":"square"}},{name:"Clean Image",type:"widget",widget:"image",attributes:{"class":"image-clean"}},{name:"Grayscale Image",type:"widget",widget:"image",attributes:{"class":"image-grayscale"}},{name:"Featured Snippet",type:"widget",widget:"codeSnippet",attributes:{"class":"code-featured"}},{name:"Featured Formula",type:"widget",widget:"mathjax",attributes:{"class":"math-featured"}},{name:"240p",type:"widget",widget:"embedSemantic",attributes:{"class":"embed-240p"},group:"size"},{name:"360p",type:"widget",widget:"embedSemantic",attributes:{"class":"embed-360p"},group:"size"},{name:"480p",type:"widget",widget:"embedSemantic",attributes:{"class":"embed-480p"},group:"size"},{name:"720p",type:"widget",widget:"embedSemantic",attributes:{"class":"embed-720p"},group:"size"},{name:"1080p",type:"widget",widget:"embedSemantic",attributes:{"class":"embed-1080p"},group:"size"},{name:"240p ",type:"widget",widget:"embed",attributes:{"class":"embed-240p"},group:"size"},{name:"360p ",type:"widget",widget:"embed",attributes:{"class":"embed-360p"},group:"size"},{name:"480p ",type:"widget",widget:"embed",attributes:{"class":"embed-480p"},group:"size"},{name:"720p ",type:"widget",widget:"embed",attributes:{"class":"embed-720p"},group:"size"},{name:"1080p ",type:"widget",widget:"embed",attributes:{"class":"embed-1080p"},group:"size"}]),CKEDITOR.disableAutoInline=!0,CKEDITOR.dom.element.prototype.disableContextMenu=function(){},["div","h1","h2","h3","h4","h5","h6","p","pre"].forEach(function(e){CKEDITOR.dtd.$removeEmpty[e]=!1}),CKEDITOR.on("dialogDefinition",function(e){var t=e.data.name,n=e.data.definition;if("link"===t){var r=n.getContents("info");r.remove("anchorOptions");var i=r.get("linkType");i.items=i.items.filter(function(e){return"anchor"!==e[1]}),n.removeContents("target"),n.removeContents("upload"),n.removeContents("advanced")}}),function(){var e=CKEDITOR.editor.prototype.openDialog;CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{openDialog:function(t,n){var r={callback:n,dialogName:t,canShow:!0};return this.fire("checkOpenDialog",r),r.canShow?e.apply(this,arguments):void 0}},!0)}(),function(){var e=["align","alt","bgcolor","border","cellpadding","cellspacing","cite","class","color","colspan","face","height","href","lang","link","noshade","rowspan","size","src","style","target","title","type","valign","vlink","width"],t=["a","b","blockquote","br","code","div","em","font","h1","h2","h3","h4","h5","h6","hr","i","img","li","ol","p","pre","s","span","strong","table","tbody","td","th","thead","tr","u","ul"],n=t.join(" ")+"; *["+e.join(",")+"]; *{*}";CKEDITOR.editorConfig=function(e){return e.allowedContent=n,e.autoUpdateElement=!1,e.baseFloatZIndex=100,e.browserContextMenuOnCtrl=!0,e.customConfig="",e.disableNativeSpellChecker=!1,e.disallowedContent="*{position,z-index}; pre code{white-space}",e.docType="<!DOCTYPE html>",e.enterMode=CKEDITOR.ENTER_DIV,e.pasteFilter=n,e.pasteFromWordNumberedHeadingToList=!0,e.pasteFromWordRemoveFontStyles=!1,e.pasteFromWordRemoveStyles=!1,e.uiColor="#ffffff",e.width="100%",e.toolbar=[{name:"attachment",items:["Attachment"]},{name:"clipboard",items:["Undo","Redo"]},{name:"basicstyles",items:["Bold","Italic","Underline","Strike"]},{name:"links",items:["Link","Unlink"]},{name:"blockquote",items:["Blockquote"]},{name:"styles",items:["TextColor","BGColor"]},{name:"fontstyles",items:["Font","FontSize"]},{name:"emoticons",items:["Emoticons"]},{name:"paragraph",items:["NumberedList","BulletedList"]},{name:"align",items:["JustifyLeft","JustifyCenter","JustifyRight"]},{name:"tools",items:["Maximize"]},{name:"removeformat",items:["RemoveFormat"]},{name:"switchmode",items:["SwitchMode"]},{name:"translate",items:["Translate"]}],e.coreStyles_strike={element:"span",overrides:"strike",styles:{"text-decoration":"line-through"}},e.fontSize_style={ignoreReadonly:!0,element:"span",styles:{"font-size":"#(size)"},overrides:[{element:"font",attributes:{size:null}}]},e.fontSize_sizes="8/8px;9/9px;10/10px;11/11px;12/12px;14/14px;16/16px;18/18px;20/20px;22/22px;24/24px;26/26px;28/28px;36/36px;48/48px;72/72px",e.font_style={ignoreReadonly:!0,element:"span",styles:{"font-family":"#(family)"},overrides:[{element:"font",attributes:{face:null}}]},e.font_names="Andale Mono/andale mono,times;Arial/arial,sans-serif;Arial Black/arial black,avant garde;Book Antiqua/book antiqua,palatino;Comic Sans MS/comic sans ms,sans-serif;Courier New/Courier New, monospace;Georgia/georgia,palatino;Helvetica/helvetica;Impact/impact,chicago;Symbol/symbol;Tahoma/tahoma,geneva,sans-serif;Terminal/terminal,monaco;Times New Roman/times new roman,times;Trebuchet MS/trebuchet ms,geneva;Verdana/verdana,geneva",e}}()}();